(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function q_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _c={exports:{}},Rs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function G0(){if(Up)return Rs;Up=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var m in u)m!=="key"&&(f[m]=u[m])}else f=u;return u=f.ref,{$$typeof:s,type:r,key:h,ref:u!==void 0?u:null,props:f}}return Rs.Fragment=n,Rs.jsx=l,Rs.jsxs=l,Rs}var zp;function Y0(){return zp||(zp=1,_c.exports=G0()),_c.exports}var D=Y0(),gc={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function V0(){if(Lp)return ie;Lp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,I={};function V(E,L,j){this.props=E,this.context=L,this.refs=I,this.updater=j||O}V.prototype.isReactComponent={},V.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},V.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function K(){}K.prototype=V.prototype;function X(E,L,j){this.props=E,this.context=L,this.refs=I,this.updater=j||O}var ee=X.prototype=new K;ee.constructor=X,B(ee,V.prototype),ee.isPureReactComponent=!0;var Te=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},qe=Object.prototype.hasOwnProperty;function Ge(E,L,j,H,q,te){return j=te.ref,{$$typeof:s,type:E,key:L,ref:j!==void 0?j:null,props:te}}function _e(E,L){return Ge(E.type,L,void 0,void 0,void 0,E.props)}function Ke(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function qt(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(j){return L[j]})}var Ze=/\/+/g;function Ie(E,L){return typeof E=="object"&&E!==null&&E.key!=null?qt(""+E.key):L.toString(36)}function mt(){}function Me(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(mt,mt):(E.status="pending",E.then(function(L){E.status==="pending"&&(E.status="fulfilled",E.value=L)},function(L){E.status==="pending"&&(E.status="rejected",E.reason=L)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function Fe(E,L,j,H,q){var te=typeof E;(te==="undefined"||te==="boolean")&&(E=null);var F=!1;if(E===null)F=!0;else switch(te){case"bigint":case"string":case"number":F=!0;break;case"object":switch(E.$$typeof){case s:case n:F=!0;break;case y:return F=E._init,Fe(F(E._payload),L,j,H,q)}}if(F)return q=q(E),F=H===""?"."+Ie(E,0):H,Te(q)?(j="",F!=null&&(j=F.replace(Ze,"$&/")+"/"),Fe(q,L,j,"",function(xn){return xn})):q!=null&&(Ke(q)&&(q=_e(q,j+(q.key==null||E&&E.key===q.key?"":(""+q.key).replace(Ze,"$&/")+"/")+F)),L.push(q)),1;F=0;var Pe=H===""?".":H+":";if(Te(E))for(var ge=0;ge<E.length;ge++)H=E[ge],te=Pe+Ie(H,ge),F+=Fe(H,L,j,te,q);else if(ge=b(E),typeof ge=="function")for(E=ge.call(E),ge=0;!(H=E.next()).done;)H=H.value,te=Pe+Ie(H,ge++),F+=Fe(H,L,j,te,q);else if(te==="object"){if(typeof E.then=="function")return Fe(Me(E),L,j,H,q);throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return F}function w(E,L,j){if(E==null)return E;var H=[],q=0;return Fe(E,H,"","",function(te){return L.call(j,te,q++)}),H}function G(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(j){(E._status===0||E._status===-1)&&(E._status=1,E._result=j)},function(j){(E._status===0||E._status===-1)&&(E._status=2,E._result=j)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var Z=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function me(){}return ie.Children={map:w,forEach:function(E,L,j){w(E,function(){L.apply(this,arguments)},j)},count:function(E){var L=0;return w(E,function(){L++}),L},toArray:function(E){return w(E,function(L){return L})||[]},only:function(E){if(!Ke(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ie.Component=V,ie.Fragment=l,ie.Profiler=u,ie.PureComponent=X,ie.StrictMode=r,ie.Suspense=_,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,ie.__COMPILER_RUNTIME={__proto__:null,c:function(E){return ne.H.useMemoCache(E)}},ie.cache=function(E){return function(){return E.apply(null,arguments)}},ie.cloneElement=function(E,L,j){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var H=B({},E.props),q=E.key,te=void 0;if(L!=null)for(F in L.ref!==void 0&&(te=void 0),L.key!==void 0&&(q=""+L.key),L)!qe.call(L,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&L.ref===void 0||(H[F]=L[F]);var F=arguments.length-2;if(F===1)H.children=j;else if(1<F){for(var Pe=Array(F),ge=0;ge<F;ge++)Pe[ge]=arguments[ge+2];H.children=Pe}return Ge(E.type,q,void 0,void 0,te,H)},ie.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},ie.createElement=function(E,L,j){var H,q={},te=null;if(L!=null)for(H in L.key!==void 0&&(te=""+L.key),L)qe.call(L,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(q[H]=L[H]);var F=arguments.length-2;if(F===1)q.children=j;else if(1<F){for(var Pe=Array(F),ge=0;ge<F;ge++)Pe[ge]=arguments[ge+2];q.children=Pe}if(E&&E.defaultProps)for(H in F=E.defaultProps,F)q[H]===void 0&&(q[H]=F[H]);return Ge(E,te,void 0,void 0,null,q)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(E){return{$$typeof:m,render:E}},ie.isValidElement=Ke,ie.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:G}},ie.memo=function(E,L){return{$$typeof:p,type:E,compare:L===void 0?null:L}},ie.startTransition=function(E){var L=ne.T,j={};ne.T=j;try{var H=E(),q=ne.S;q!==null&&q(j,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(me,Z)}catch(te){Z(te)}finally{ne.T=L}},ie.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},ie.use=function(E){return ne.H.use(E)},ie.useActionState=function(E,L,j){return ne.H.useActionState(E,L,j)},ie.useCallback=function(E,L){return ne.H.useCallback(E,L)},ie.useContext=function(E){return ne.H.useContext(E)},ie.useDebugValue=function(){},ie.useDeferredValue=function(E,L){return ne.H.useDeferredValue(E,L)},ie.useEffect=function(E,L,j){var H=ne.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(E,L)},ie.useId=function(){return ne.H.useId()},ie.useImperativeHandle=function(E,L,j){return ne.H.useImperativeHandle(E,L,j)},ie.useInsertionEffect=function(E,L){return ne.H.useInsertionEffect(E,L)},ie.useLayoutEffect=function(E,L){return ne.H.useLayoutEffect(E,L)},ie.useMemo=function(E,L){return ne.H.useMemo(E,L)},ie.useOptimistic=function(E,L){return ne.H.useOptimistic(E,L)},ie.useReducer=function(E,L,j){return ne.H.useReducer(E,L,j)},ie.useRef=function(E){return ne.H.useRef(E)},ie.useState=function(E){return ne.H.useState(E)},ie.useSyncExternalStore=function(E,L,j){return ne.H.useSyncExternalStore(E,L,j)},ie.useTransition=function(){return ne.H.useTransition()},ie.version="19.1.1",ie}var Ip;function lf(){return Ip||(Ip=1,gc.exports=V0()),gc.exports}var it=lf();const yn=q_(it);var yc={exports:{}},Os={},vc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function Q0(){return Bp||(Bp=1,(function(s){function n(w,G){var Z=w.length;w.push(G);e:for(;0<Z;){var me=Z-1>>>1,E=w[me];if(0<u(E,G))w[me]=G,w[Z]=E,Z=me;else break e}}function l(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var G=w[0],Z=w.pop();if(Z!==G){w[0]=Z;e:for(var me=0,E=w.length,L=E>>>1;me<L;){var j=2*(me+1)-1,H=w[j],q=j+1,te=w[q];if(0>u(H,Z))q<E&&0>u(te,H)?(w[me]=te,w[q]=Z,me=q):(w[me]=H,w[j]=Z,me=j);else if(q<E&&0>u(te,Z))w[me]=te,w[q]=Z,me=q;else break e}}return G}function u(w,G){var Z=w.sortIndex-G.sortIndex;return Z!==0?Z:w.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var _=[],p=[],y=1,v=null,b=3,O=!1,B=!1,I=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function Te(w){for(var G=l(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=w)r(p),G.sortIndex=G.expirationTime,n(_,G);else break;G=l(p)}}function ne(w){if(I=!1,Te(w),!B)if(l(_)!==null)B=!0,qe||(qe=!0,Ie());else{var G=l(p);G!==null&&Fe(ne,G.startTime-w)}}var qe=!1,Ge=-1,_e=5,Ke=-1;function qt(){return V?!0:!(s.unstable_now()-Ke<_e)}function Ze(){if(V=!1,qe){var w=s.unstable_now();Ke=w;var G=!0;try{e:{B=!1,I&&(I=!1,X(Ge),Ge=-1),O=!0;var Z=b;try{t:{for(Te(w),v=l(_);v!==null&&!(v.expirationTime>w&&qt());){var me=v.callback;if(typeof me=="function"){v.callback=null,b=v.priorityLevel;var E=me(v.expirationTime<=w);if(w=s.unstable_now(),typeof E=="function"){v.callback=E,Te(w),G=!0;break t}v===l(_)&&r(_),Te(w)}else r(_);v=l(_)}if(v!==null)G=!0;else{var L=l(p);L!==null&&Fe(ne,L.startTime-w),G=!1}}break e}finally{v=null,b=Z,O=!1}G=void 0}}finally{G?Ie():qe=!1}}}var Ie;if(typeof ee=="function")Ie=function(){ee(Ze)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Me=mt.port2;mt.port1.onmessage=Ze,Ie=function(){Me.postMessage(null)}}else Ie=function(){K(Ze,0)};function Fe(w,G){Ge=K(function(){w(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(w){w.callback=null},s.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<w?Math.floor(1e3/w):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(w){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var Z=b;b=G;try{return w()}finally{b=Z}},s.unstable_requestPaint=function(){V=!0},s.unstable_runWithPriority=function(w,G){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var Z=b;b=w;try{return G()}finally{b=Z}},s.unstable_scheduleCallback=function(w,G,Z){var me=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?me+Z:me):Z=me,w){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Z+E,w={id:y++,callback:G,priorityLevel:w,startTime:Z,expirationTime:E,sortIndex:-1},Z>me?(w.sortIndex=Z,n(p,w),l(_)===null&&w===l(p)&&(I?(X(Ge),Ge=-1):I=!0,Fe(ne,Z-me))):(w.sortIndex=E,n(_,w),B||O||(B=!0,qe||(qe=!0,Ie()))),w},s.unstable_shouldYield=qt,s.unstable_wrapCallback=function(w){var G=b;return function(){var Z=b;b=G;try{return w.apply(this,arguments)}finally{b=Z}}}})(bc)),bc}var Hp;function X0(){return Hp||(Hp=1,vc.exports=Q0()),vc.exports}var Sc={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function K0(){if(jp)return ct;jp=1;var s=lf();function n(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:_,containerInfo:p,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ct.createPortal=function(_,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return f(_,p,null,y)},ct.flushSync=function(_){var p=h.T,y=r.p;try{if(h.T=null,r.p=2,_)return _()}finally{h.T=p,r.p=y,r.d.f()}},ct.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(_,p))},ct.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},ct.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var y=p.as,v=m(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:O}):y==="script"&&r.d.X(_,{crossOrigin:v,integrity:b,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ct.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);r.d.M(_,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(_)},ct.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=m(y,p.crossOrigin);r.d.L(_,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ct.preloadModule=function(_,p){if(typeof _=="string")if(p){var y=m(p.as,p.crossOrigin);r.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(_)},ct.requestFormReset=function(_){r.d.r(_)},ct.unstable_batchedUpdates=function(_,p){return _(p)},ct.useFormState=function(_,p,y){return h.H.useFormState(_,p,y)},ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},ct.version="19.1.1",ct}var kp;function Z0(){if(kp)return Sc.exports;kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Sc.exports=K0(),Sc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function F0(){if(qp)return Os;qp=1;var s=X0(),n=lf(),l=Z0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(r(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return m(o),e;if(c===a)return m(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==a.return)i=o,a=c;else{for(var d=!1,g=o.child;g;){if(g===i){d=!0,i=o,a=c;break}if(g===a){d=!0,a=o,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,a=o;break}if(g===a){d=!0,a=c,i=o;break}g=g.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Ke=Symbol.for("react.activity"),qt=Symbol.for("react.memo_cache_sentinel"),Ze=Symbol.iterator;function Ie(e){return e===null||typeof e!="object"?null:(e=Ze&&e[Ze]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===mt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case V:return"Profiler";case I:return"StrictMode";case ne:return"Suspense";case qe:return"SuspenseList";case Ke:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case ee:return(e.displayName||"Context")+".Provider";case X:return(e._context.displayName||"Context")+".Consumer";case Te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ge:return t=e.displayName||null,t!==null?t:Me(e.type)||"Memo";case _e:t=e._payload,e=e._init;try{return Me(e(t))}catch{}}return null}var Fe=Array.isArray,w=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},me=[],E=-1;function L(e){return{current:e}}function j(e){0>E||(e.current=me[E],me[E]=null,E--)}function H(e,t){E++,me[E]=e.current,e.current=t}var q=L(null),te=L(null),F=L(null),Pe=L(null);function ge(e,t){switch(H(F,t),H(te,e),H(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=rp(t),e=op(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(q),H(q,e)}function xn(){j(q),j(te),j(F)}function eo(e){e.memoizedState!==null&&H(Pe,e);var t=q.current,i=op(t,e.type);t!==i&&(H(te,e),H(q,i))}function aa(e){te.current===e&&(j(q),j(te)),Pe.current===e&&(j(Pe),Ts._currentValue=Z)}var to=Object.prototype.hasOwnProperty,no=s.unstable_scheduleCallback,io=s.unstable_cancelCallback,by=s.unstable_shouldYield,Sy=s.unstable_requestPaint,Ft=s.unstable_now,Ey=s.unstable_getCurrentPriorityLevel,qf=s.unstable_ImmediatePriority,Gf=s.unstable_UserBlockingPriority,ra=s.unstable_NormalPriority,Ty=s.unstable_LowPriority,Yf=s.unstable_IdlePriority,Cy=s.log,xy=s.unstable_setDisableYieldValue,wl=null,Tt=null;function An(e){if(typeof Cy=="function"&&xy(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(wl,e)}catch{}}var Ct=Math.clz32?Math.clz32:Ry,Ay=Math.log,Ny=Math.LN2;function Ry(e){return e>>>=0,e===0?32:31-(Ay(e)/Ny|0)|0}var oa=256,ua=4194304;function li(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ca(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=a&134217727;return g!==0?(a=g&~c,a!==0?o=li(a):(d&=g,d!==0?o=li(d):i||(i=g&~e,i!==0&&(o=li(i))))):(g=a&~c,g!==0?o=li(g):d!==0?o=li(d):i||(i=a&~e,i!==0&&(o=li(i)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:o}function Ml(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Oy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vf(){var e=oa;return oa<<=1,(oa&4194048)===0&&(oa=256),e}function Qf(){var e=ua;return ua<<=1,(ua&62914560)===0&&(ua=4194304),e}function lo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ul(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dy(e,t,i,a,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var g=e.entanglements,S=e.expirationTimes,A=e.hiddenUpdates;for(i=d&~i;0<i;){var M=31-Ct(i),z=1<<M;g[M]=0,S[M]=-1;var N=A[M];if(N!==null)for(A[M]=null,M=0;M<N.length;M++){var R=N[M];R!==null&&(R.lane&=-536870913)}i&=~z}a!==0&&Xf(e,a,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function Xf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ct(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&4194090}function Kf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Ct(i),o=1<<a;o&t|e[a]&t&&(e[a]|=t),i&=~o}}function so(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ao(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zf(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Np(e.type))}function wy(e,t){var i=G.p;try{return G.p=e,t()}finally{G.p=i}}var Nn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Nn,pt="__reactProps$"+Nn,wi="__reactContainer$"+Nn,ro="__reactEvents$"+Nn,My="__reactListeners$"+Nn,Uy="__reactHandles$"+Nn,Ff="__reactResources$"+Nn,zl="__reactMarker$"+Nn;function oo(e){delete e[ot],delete e[pt],delete e[ro],delete e[My],delete e[Uy]}function Mi(e){var t=e[ot];if(t)return t;for(var i=e.parentNode;i;){if(t=i[wi]||i[ot]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=hp(e);e!==null;){if(i=e[ot])return i;e=hp(e)}return t}e=i,i=e.parentNode}return null}function Ui(e){if(e=e[ot]||e[wi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ll(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function zi(e){var t=e[Ff];return t||(t=e[Ff]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[zl]=!0}var Pf=new Set,Jf={};function si(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(Jf[e]=t,e=0;e<t.length;e++)Pf.add(t[e])}var zy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wf={},$f={};function Ly(e){return to.call($f,e)?!0:to.call(Wf,e)?!1:zy.test(e)?$f[e]=!0:(Wf[e]=!0,!1)}function fa(e,t,i){if(Ly(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ha(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function nn(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}var uo,eh;function Ii(e){if(uo===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);uo=t&&t[1]||"",eh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uo+e+eh}var co=!1;function fo(e,t){if(!e||co)return"";co=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(R){var N=R}Reflect.construct(e,[],z)}else{try{z.call()}catch(R){N=R}e.call(z.prototype)}}else{try{throw Error()}catch(R){N=R}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(R){if(R&&N&&typeof R.stack=="string")return[R.stack,N.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),d=c[0],g=c[1];if(d&&g){var S=d.split(`
`),A=g.split(`
`);for(o=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(a===S.length||o===A.length)for(a=S.length-1,o=A.length-1;1<=a&&0<=o&&S[a]!==A[o];)o--;for(;1<=a&&0<=o;a--,o--)if(S[a]!==A[o]){if(a!==1||o!==1)do if(a--,o--,0>o||S[a]!==A[o]){var M=`
`+S[a].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=a&&0<=o);break}}}finally{co=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ii(i):""}function Iy(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return fo(e.type,!1);case 11:return fo(e.type.render,!1);case 1:return fo(e.type,!0);case 31:return Ii("Activity");default:return""}}function th(e){try{var t="";do t+=Iy(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function By(e){var t=nh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function da(e){e._valueTracker||(e._valueTracker=By(e))}function ih(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=nh(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hy=/[\n"\\]/g;function Ut(e){return e.replace(Hy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ho(e,t,i,a,o,c,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?mo(e,d,Mt(t)):i!=null?mo(e,d,Mt(i)):a!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Mt(g):e.removeAttribute("name")}function lh(e,t,i,a,o,c,d,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+Mt(i):"",t=t!=null?""+Mt(t):i,g||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=g?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function mo(e,t,i){t==="number"&&ma(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Bi(e,t,i,a){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Mt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function sh(e,t,i){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Mt(i):""}function ah(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(Fe(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=Mt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a)}function Hi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var jy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||jy.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function oh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&i[o]!==a&&rh(e,o,a)}else for(var c in t)t.hasOwnProperty(c)&&rh(e,c,t[c])}function po(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ky=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return qy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _o=null;function go(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ji=null,ki=null;function uh(e){var t=Ui(e);if(t&&(e=t.stateNode)){var i=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ho(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var o=a[pt]||null;if(!o)throw Error(r(90));ho(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&ih(a)}break e;case"textarea":sh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Bi(e,!!i.multiple,t,!1)}}}var yo=!1;function ch(e,t,i){if(yo)return e(t,i);yo=!0;try{var a=e(t);return a}finally{if(yo=!1,(ji!==null||ki!==null)&&(er(),ji&&(t=ji,e=ki,ki=ji=null,uh(t),e)))for(t=0;t<e.length;t++)uh(e[t])}}function Il(e,t){var i=e.stateNode;if(i===null)return null;var a=i[pt]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vo=!1;if(ln)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){vo=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{vo=!1}var Rn=null,bo=null,_a=null;function fh(){if(_a)return _a;var e,t=bo,i=t.length,a,o="value"in Rn?Rn.value:Rn.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===o[c-a];a++);return _a=o.slice(e,1<a?1-a:void 0)}function ga(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function hh(){return!1}function _t(e){function t(i,a,o,c,d){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ya:hh,this.isPropagationStopped=hh,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=_t(ai),Hl=y({},ai,{view:0,detail:0}),Gy=_t(Hl),So,Eo,jl,ba=y({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?(So=e.screenX-jl.screenX,Eo=e.screenY-jl.screenY):Eo=So=0,jl=e),So)},movementY:function(e){return"movementY"in e?e.movementY:Eo}}),dh=_t(ba),Yy=y({},ba,{dataTransfer:0}),Vy=_t(Yy),Qy=y({},Hl,{relatedTarget:0}),To=_t(Qy),Xy=y({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Ky=_t(Xy),Zy=y({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fy=_t(Zy),Py=y({},ai,{data:0}),mh=_t(Py),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$y[e])?!!t[e]:!1}function Co(){return ev}var tv=y({},Hl,{key:function(e){if(e.key){var t=Jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nv=_t(tv),iv=y({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=_t(iv),lv=y({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),sv=_t(lv),av=y({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=_t(av),ov=y({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=_t(ov),cv=y({},ai,{newState:0,oldState:0}),fv=_t(cv),hv=[9,13,27,32],xo=ln&&"CompositionEvent"in window,kl=null;ln&&"documentMode"in document&&(kl=document.documentMode);var dv=ln&&"TextEvent"in window&&!kl,_h=ln&&(!xo||kl&&8<kl&&11>=kl),gh=" ",yh=!1;function vh(e,t){switch(e){case"keyup":return hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qi=!1;function mv(e,t){switch(e){case"compositionend":return bh(t);case"keypress":return t.which!==32?null:(yh=!0,gh);case"textInput":return e=t.data,e===gh&&yh?null:e;default:return null}}function pv(e,t){if(qi)return e==="compositionend"||!xo&&vh(e,t)?(e=fh(),_a=bo=Rn=null,qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _h&&t.locale!=="ko"?null:t.data;default:return null}}var _v={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_v[e.type]:t==="textarea"}function Eh(e,t,i,a){ji?ki?ki.push(a):ki=[a]:ji=a,t=ar(t,"onChange"),0<t.length&&(i=new va("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var ql=null,Gl=null;function gv(e){np(e,0)}function Sa(e){var t=Ll(e);if(ih(t))return e}function Th(e,t){if(e==="change")return t}var Ch=!1;if(ln){var Ao;if(ln){var No="oninput"in document;if(!No){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),No=typeof xh.oninput=="function"}Ao=No}else Ao=!1;Ch=Ao&&(!document.documentMode||9<document.documentMode)}function Ah(){ql&&(ql.detachEvent("onpropertychange",Nh),Gl=ql=null)}function Nh(e){if(e.propertyName==="value"&&Sa(Gl)){var t=[];Eh(t,Gl,e,go(e)),ch(gv,t)}}function yv(e,t,i){e==="focusin"?(Ah(),ql=t,Gl=i,ql.attachEvent("onpropertychange",Nh)):e==="focusout"&&Ah()}function vv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sa(Gl)}function bv(e,t){if(e==="click")return Sa(t)}function Sv(e,t){if(e==="input"||e==="change")return Sa(t)}function Ev(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Ev;function Yl(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!to.call(t,o)||!xt(e[o],t[o]))return!1}return!0}function Rh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oh(e,t){var i=Rh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Rh(i)}}function Dh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ma(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ma(e.document)}return t}function Ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Tv=ln&&"documentMode"in document&&11>=document.documentMode,Gi=null,Oo=null,Vl=null,Do=!1;function Mh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Do||Gi==null||Gi!==ma(a)||(a=Gi,"selectionStart"in a&&Ro(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Vl&&Yl(Vl,a)||(Vl=a,a=ar(Oo,"onSelect"),0<a.length&&(t=new va("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Gi)))}function ri(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Yi={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},wo={},Uh={};ln&&(Uh=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function oi(e){if(wo[e])return wo[e];if(!Yi[e])return e;var t=Yi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Uh)return wo[e]=t[i];return e}var zh=oi("animationend"),Lh=oi("animationiteration"),Ih=oi("animationstart"),Cv=oi("transitionrun"),xv=oi("transitionstart"),Av=oi("transitioncancel"),Bh=oi("transitionend"),Hh=new Map,Mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mo.push("scrollEnd");function Gt(e,t){Hh.set(e,t),si(t,[e])}var jh=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var i=jh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:th(t)},jh.set(e,t),t)}return{value:e,source:t,stack:th(t)}}var Lt=[],Vi=0,Uo=0;function Ea(){for(var e=Vi,t=Uo=Vi=0;t<e;){var i=Lt[t];Lt[t++]=null;var a=Lt[t];Lt[t++]=null;var o=Lt[t];Lt[t++]=null;var c=Lt[t];if(Lt[t++]=null,a!==null&&o!==null){var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}c!==0&&kh(i,o,c)}}function Ta(e,t,i,a){Lt[Vi++]=e,Lt[Vi++]=t,Lt[Vi++]=i,Lt[Vi++]=a,Uo|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function zo(e,t,i,a){return Ta(e,t,i,a),Ca(e)}function Qi(e,t){return Ta(e,null,null,t),Ca(e)}function kh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,a=c.alternate,a!==null&&(a.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Ct(i),e=c.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=i|536870912),c):null}function Ca(e){if(50<ps)throw ps=0,ku=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xi={};function Nv(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,i,a){return new Nv(e,t,i,a)}function Lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sn(e,t){var i=e.alternate;return i===null?(i=At(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function qh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xa(e,t,i,a,o,c){var d=0;if(a=e,typeof e=="function")Lo(e)&&(d=1);else if(typeof e=="string")d=O0(e,i,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ke:return e=At(31,i,t,o),e.elementType=Ke,e.lanes=c,e;case B:return ui(i.children,o,c,t);case I:d=8,o|=24;break;case V:return e=At(12,i,t,o|2),e.elementType=V,e.lanes=c,e;case ne:return e=At(13,i,t,o),e.elementType=ne,e.lanes=c,e;case qe:return e=At(19,i,t,o),e.elementType=qe,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:case ee:d=10;break e;case X:d=9;break e;case Te:d=11;break e;case Ge:d=14;break e;case _e:d=16,a=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=At(d,i,t,o),t.elementType=e,t.type=a,t.lanes=c,t}function ui(e,t,i,a){return e=At(7,e,a,t),e.lanes=i,e}function Io(e,t,i){return e=At(6,e,null,t),e.lanes=i,e}function Bo(e,t,i){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ki=[],Zi=0,Aa=null,Na=0,It=[],Bt=0,ci=null,an=1,rn="";function fi(e,t){Ki[Zi++]=Na,Ki[Zi++]=Aa,Aa=e,Na=t}function Gh(e,t,i){It[Bt++]=an,It[Bt++]=rn,It[Bt++]=ci,ci=e;var a=an;e=rn;var o=32-Ct(a)-1;a&=~(1<<o),i+=1;var c=32-Ct(t)+o;if(30<c){var d=o-o%5;c=(a&(1<<d)-1).toString(32),a>>=d,o-=d,an=1<<32-Ct(t)+o|i<<o|a,rn=c+e}else an=1<<c|i<<o|a,rn=e}function Ho(e){e.return!==null&&(fi(e,1),Gh(e,1,0))}function jo(e){for(;e===Aa;)Aa=Ki[--Zi],Ki[Zi]=null,Na=Ki[--Zi],Ki[Zi]=null;for(;e===ci;)ci=It[--Bt],It[Bt]=null,rn=It[--Bt],It[Bt]=null,an=It[--Bt],It[Bt]=null}var ht=null,Ue=null,pe=!1,hi=null,Pt=!1,ko=Error(r(519));function di(e){var t=Error(r(418,""));throw Kl(zt(t,e)),ko}function Yh(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[ot]=e,t[pt]=a,i){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(i=0;i<gs.length;i++)ue(gs[i],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),lh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),da(t);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),ah(t,a.value,a.defaultValue,a.children),da(t)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||ap(t.textContent,i)?(a.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),a.onScroll!=null&&ue("scroll",t),a.onScrollEnd!=null&&ue("scrollend",t),a.onClick!=null&&(t.onclick=rr),t=!0):t=!1,t||di(e)}function Vh(e){for(ht=e.return;ht;)switch(ht.tag){case 5:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:ht=ht.return}}function Ql(e){if(e!==ht)return!1;if(!pe)return Vh(e),pe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||nc(e.type,e.memoizedProps)),i=!i),i&&Ue&&di(e),Vh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Ue=Vt(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Ue=null}}else t===27?(t=Ue,Vn(e.type)?(e=ac,ac=null,Ue=e):Ue=t):Ue=ht?Vt(e.stateNode.nextSibling):null;return!0}function Xl(){Ue=ht=null,pe=!1}function Qh(){var e=hi;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),hi=null),e}function Kl(e){hi===null?hi=[e]:hi.push(e)}var qo=L(null),mi=null,on=null;function On(e,t,i){H(qo,t._currentValue),t._currentValue=i}function un(e){e._currentValue=qo.current,j(qo)}function Go(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Yo(e,t,i,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=o;for(var S=0;S<t.length;S++)if(g.context===t[S]){c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),Go(c.return,i,e),a||(d=null);break e}c=g.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),Go(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function Zl(e,t,i,a){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var g=o.type;xt(o.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(o===Pe.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ts):e=[Ts])}o=o.return}e!==null&&Yo(t,e,i,a),t.flags|=262144}function Ra(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pi(e){mi=e,on=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Xh(mi,e)}function Oa(e,t){return mi===null&&pi(e),Xh(e,t)}function Xh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},on===null){if(e===null)throw Error(r(308));on=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else on=on.next=t;return i}var Rv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Ov=s.unstable_scheduleCallback,Dv=s.unstable_NormalPriority,Ye={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vo(){return{controller:new Rv,data:new Map,refCount:0}}function Fl(e){e.refCount--,e.refCount===0&&Ov(Dv,function(){e.controller.abort()})}var Pl=null,Qo=0,Fi=0,Pi=null;function wv(e,t){if(Pl===null){var i=Pl=[];Qo=0,Fi=Ku(),Pi={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Qo++,t.then(Kh,Kh),t}function Kh(){if(--Qo===0&&Pl!==null){Pi!==null&&(Pi.status="fulfilled");var e=Pl;Pl=null,Fi=0,Pi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Mv(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),a}var Zh=w.S;w.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&wv(e,t),Zh!==null&&Zh(e,t)};var _i=L(null);function Xo(){var e=_i.current;return e!==null?e:Ae.pooledCache}function Da(e,t){t===null?H(_i,_i.current):H(_i,t.pool)}function Fh(){var e=Xo();return e===null?null:{parent:Ye._currentValue,pool:e}}var Jl=Error(r(460)),Ph=Error(r(474)),wa=Error(r(542)),Ko={then:function(){}};function Jh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ma(){}function Wh(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Ma,Ma),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ed(e),e;default:if(typeof t.status=="string")t.then(Ma,Ma);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ed(e),e}throw Wl=t,Jl}}var Wl=null;function $h(){if(Wl===null)throw Error(r(459));var e=Wl;return Wl=null,e}function ed(e){if(e===Jl||e===wa)throw Error(r(483))}var Dn=!1;function Zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ye&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=Ca(e),kh(e,null,i),t}return Ta(e,a,t,i),Ca(e)}function $l(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Kf(e,i)}}function Po(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Jo=!1;function es(){if(Jo){var e=Pi;if(e!==null)throw e}}function ts(e,t,i,a){Jo=!1;var o=e.updateQueue;Dn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var S=g,A=S.next;S.next=null,d===null?c=A:d.next=A,d=S;var M=e.alternate;M!==null&&(M=M.updateQueue,g=M.lastBaseUpdate,g!==d&&(g===null?M.firstBaseUpdate=A:g.next=A,M.lastBaseUpdate=S))}if(c!==null){var z=o.baseState;d=0,M=A=S=null,g=c;do{var N=g.lane&-536870913,R=N!==g.lane;if(R?(fe&N)===N:(a&N)===N){N!==0&&N===Fi&&(Jo=!0),M!==null&&(M=M.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var $=e,P=g;N=t;var Ee=i;switch(P.tag){case 1:if($=P.payload,typeof $=="function"){z=$.call(Ee,z,N);break e}z=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=P.payload,N=typeof $=="function"?$.call(Ee,z,N):$,N==null)break e;z=y({},z,N);break e;case 2:Dn=!0}}N=g.callback,N!==null&&(e.flags|=64,R&&(e.flags|=8192),R=o.callbacks,R===null?o.callbacks=[N]:R.push(N))}else R={lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},M===null?(A=M=R,S=z):M=M.next=R,d|=N;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;R=g,g=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);M===null&&(S=z),o.baseState=S,o.firstBaseUpdate=A,o.lastBaseUpdate=M,c===null&&(o.shared.lanes=0),kn|=d,e.lanes=d,e.memoizedState=z}}function td(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function nd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)td(i[e],t)}var Ji=L(null),Ua=L(0);function id(e,t){e=_n,H(Ua,e),H(Ji,t),_n=e|t.baseLanes}function Wo(){H(Ua,_n),H(Ji,Ji.current)}function $o(){_n=Ua.current,j(Ji),j(Ua)}var Un=0,le=null,be=null,je=null,za=!1,Wi=!1,gi=!1,La=0,ns=0,$i=null,Uv=0;function Be(){throw Error(r(321))}function eu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!xt(e[i],t[i]))return!1;return!0}function tu(e,t,i,a,o,c){return Un=c,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?kd:qd,gi=!1,c=i(a,o),gi=!1,Wi&&(c=sd(t,i,a,o)),ld(e),c}function ld(e){w.H=qa;var t=be!==null&&be.next!==null;if(Un=0,je=be=le=null,za=!1,ns=0,$i=null,t)throw Error(r(300));e===null||We||(e=e.dependencies,e!==null&&Ra(e)&&(We=!0))}function sd(e,t,i,a){le=e;var o=0;do{if(Wi&&($i=null),ns=0,Wi=!1,25<=o)throw Error(r(301));if(o+=1,je=be=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}w.H=kv,c=t(i,a)}while(Wi);return c}function zv(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?is(t):t,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(le.flags|=1024),t}function nu(){var e=La!==0;return La=0,e}function iu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function lu(e){if(za){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}za=!1}Un=0,je=be=le=null,Wi=!1,ns=La=0,$i=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?le.memoizedState=je=e:je=je.next=e,je}function ke(){if(be===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=je===null?le.memoizedState:je.next;if(t!==null)je=t,be=e;else{if(e===null)throw le.alternate===null?Error(r(467)):Error(r(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},je===null?le.memoizedState=je=e:je=je.next=e}return je}function su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function is(e){var t=ns;return ns+=1,$i===null&&($i=[]),e=Wh($i,e,t),t=le,(je===null?t.memoizedState:je.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?kd:qd),e}function Ia(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return is(e);if(e.$$typeof===ee)return ut(e)}throw Error(r(438,String(e)))}function au(e){var t=null,i=le.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=le.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=su(),le.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=qt;return t.index++,i}function cn(e,t){return typeof t=="function"?t(e):t}function Ba(e){var t=ke();return ru(t,be,e)}function ru(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var o=e.baseQueue,c=a.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,a.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var g=d=null,S=null,A=t,M=!1;do{var z=A.lane&-536870913;if(z!==A.lane?(fe&z)===z:(Un&z)===z){var N=A.revertLane;if(N===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),z===Fi&&(M=!0);else if((Un&N)===N){A=A.next,N===Fi&&(M=!0);continue}else z={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(g=S=z,d=c):S=S.next=z,le.lanes|=N,kn|=N;z=A.action,gi&&i(c,z),c=A.hasEagerState?A.eagerState:i(c,z)}else N={lane:z,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},S===null?(g=S=N,d=c):S=S.next=N,le.lanes|=z,kn|=z;A=A.next}while(A!==null&&A!==t);if(S===null?d=c:S.next=g,!xt(c,e.memoizedState)&&(We=!0,M&&(i=Pi,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=S,a.lastRenderedState=c}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ou(e){var t=ke(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);xt(c,t.memoizedState)||(We=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,a]}function ad(e,t,i){var a=le,o=ke(),c=pe;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!xt((be||o).memoizedState,i);d&&(o.memoizedState=i,We=!0),o=o.queue;var g=ud.bind(null,a,o,e);if(ls(2048,8,g,[e]),o.getSnapshot!==t||d||je!==null&&je.memoizedState.tag&1){if(a.flags|=2048,el(9,Ha(),od.bind(null,a,o,i,t),null),Ae===null)throw Error(r(349));c||(Un&124)!==0||rd(a,t,i)}return i}function rd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=le.updateQueue,t===null?(t=su(),le.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function od(e,t,i,a){t.value=i,t.getSnapshot=a,cd(t)&&fd(e)}function ud(e,t,i){return i(function(){cd(t)&&fd(e)})}function cd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!xt(e,i)}catch{return!0}}function fd(e){var t=Qi(e,2);t!==null&&wt(t,e,2)}function uu(e){var t=gt();if(typeof e=="function"){var i=e;if(e=i(),gi){An(!0);try{i()}finally{An(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},t}function hd(e,t,i,a){return e.baseState=i,ru(e,be,typeof a=="function"?a:cn)}function Lv(e,t,i,a,o){if(ka(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};w.T!==null?i(!0):c.isTransition=!1,a(c),i=t.pending,i===null?(c.next=t.pending=c,dd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function dd(e,t){var i=t.action,a=t.payload,o=e.state;if(t.isTransition){var c=w.T,d={};w.T=d;try{var g=i(o,a),S=w.S;S!==null&&S(d,g),md(e,t,g)}catch(A){cu(e,t,A)}finally{w.T=c}}else try{c=i(o,a),md(e,t,c)}catch(A){cu(e,t,A)}}function md(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){pd(e,t,a)},function(a){return cu(e,t,a)}):pd(e,t,i)}function pd(e,t,i){t.status="fulfilled",t.value=i,_d(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,dd(e,i)))}function cu(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,_d(t),t=t.next;while(t!==a)}e.action=null}function _d(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function gd(e,t){return t}function yd(e,t){if(pe){var i=Ae.formState;if(i!==null){e:{var a=le;if(pe){if(Ue){t:{for(var o=Ue,c=Pt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Ue=Vt(o.nextSibling),a=o.data==="F!";break e}}di(a)}a=!1}a&&(t=i[0])}}return i=gt(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gd,lastRenderedState:t},i.queue=a,i=Bd.bind(null,le,a),a.dispatch=i,a=uu(!1),c=pu.bind(null,le,!1,a.queue),a=gt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,i=Lv.bind(null,le,o,c,i),o.dispatch=i,a.memoizedState=e,[t,i,!1]}function vd(e){var t=ke();return bd(t,be,e)}function bd(e,t,i){if(t=ru(e,t,gd)[0],e=Ba(cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=is(t)}catch(d){throw d===Jl?wa:d}else a=t;t=ke();var o=t.queue,c=o.dispatch;return i!==t.memoizedState&&(le.flags|=2048,el(9,Ha(),Iv.bind(null,o,i),null)),[a,c,e]}function Iv(e,t){e.action=t}function Sd(e){var t=ke(),i=be;if(i!==null)return bd(t,i,e);ke(),t=t.memoizedState,i=ke();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function el(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=le.updateQueue,t===null&&(t=su(),le.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Ha(){return{destroy:void 0,resource:void 0}}function Ed(){return ke().memoizedState}function ja(e,t,i,a){var o=gt();a=a===void 0?null:a,le.flags|=e,o.memoizedState=el(1|t,Ha(),i,a)}function ls(e,t,i,a){var o=ke();a=a===void 0?null:a;var c=o.memoizedState.inst;be!==null&&a!==null&&eu(a,be.memoizedState.deps)?o.memoizedState=el(t,c,i,a):(le.flags|=e,o.memoizedState=el(1|t,c,i,a))}function Td(e,t){ja(8390656,8,e,t)}function Cd(e,t){ls(2048,8,e,t)}function xd(e,t){return ls(4,2,e,t)}function Ad(e,t){return ls(4,4,e,t)}function Nd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rd(e,t,i){i=i!=null?i.concat([e]):null,ls(4,4,Nd.bind(null,t,e),i)}function fu(){}function Od(e,t){var i=ke();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&eu(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Dd(e,t){var i=ke();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&eu(t,a[1]))return a[0];if(a=e(),gi){An(!0);try{e()}finally{An(!1)}}return i.memoizedState=[a,t],a}function hu(e,t,i){return i===void 0||(Un&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Um(),le.lanes|=e,kn|=e,i)}function wd(e,t,i,a){return xt(i,t)?i:Ji.current!==null?(e=hu(e,i,a),xt(e,t)||(We=!0),e):(Un&42)===0?(We=!0,e.memoizedState=i):(e=Um(),le.lanes|=e,kn|=e,t)}function Md(e,t,i,a,o){var c=G.p;G.p=c!==0&&8>c?c:8;var d=w.T,g={};w.T=g,pu(e,!1,t,i);try{var S=o(),A=w.S;if(A!==null&&A(g,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var M=Mv(S,a);ss(e,t,M,Dt(e))}else ss(e,t,a,Dt(e))}catch(z){ss(e,t,{then:function(){},status:"rejected",reason:z},Dt())}finally{G.p=c,w.T=d}}function Bv(){}function du(e,t,i,a){if(e.tag!==5)throw Error(r(476));var o=Ud(e).queue;Md(e,o,t,Z,i===null?Bv:function(){return zd(e),i(a)})}function Ud(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:Z},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zd(e){var t=Ud(e).next.queue;ss(e,t,{},Dt())}function mu(){return ut(Ts)}function Ld(){return ke().memoizedState}function Id(){return ke().memoizedState}function Hv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Dt();e=wn(i);var a=Mn(t,e,i);a!==null&&(wt(a,t,i),$l(a,t,i)),t={cache:Vo()},e.payload=t;return}t=t.return}}function jv(e,t,i){var a=Dt();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},ka(e)?Hd(t,i):(i=zo(e,t,i,a),i!==null&&(wt(i,e,a),jd(i,t,a)))}function Bd(e,t,i){var a=Dt();ss(e,t,i,a)}function ss(e,t,i,a){var o={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(ka(e))Hd(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,g=c(d,i);if(o.hasEagerState=!0,o.eagerState=g,xt(g,d))return Ta(e,t,o,0),Ae===null&&Ea(),!1}catch{}finally{}if(i=zo(e,t,o,a),i!==null)return wt(i,e,a),jd(i,t,a),!0}return!1}function pu(e,t,i,a){if(a={lane:2,revertLane:Ku(),action:a,hasEagerState:!1,eagerState:null,next:null},ka(e)){if(t)throw Error(r(479))}else t=zo(e,i,a,2),t!==null&&wt(t,e,2)}function ka(e){var t=e.alternate;return e===le||t!==null&&t===le}function Hd(e,t){Wi=za=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function jd(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Kf(e,i)}}var qa={readContext:ut,use:Ia,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be},kd={readContext:ut,use:Ia,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Td,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ja(4194308,4,Nd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){ja(4,2,e,t)},useMemo:function(e,t){var i=gt();t=t===void 0?null:t;var a=e();if(gi){An(!0);try{e()}finally{An(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=gt();if(i!==void 0){var o=i(t);if(gi){An(!0);try{i(t)}finally{An(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=jv.bind(null,le,e),[a.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=uu(e);var t=e.queue,i=Bd.bind(null,le,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:fu,useDeferredValue:function(e,t){var i=gt();return hu(i,e,t)},useTransition:function(){var e=uu(!1);return e=Md.bind(null,le,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=le,o=gt();if(pe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Ae===null)throw Error(r(349));(fe&124)!==0||rd(a,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,Td(ud.bind(null,a,c,e),[e]),a.flags|=2048,el(9,Ha(),od.bind(null,a,c,i,t),null),i},useId:function(){var e=gt(),t=Ae.identifierPrefix;if(pe){var i=rn,a=an;i=(a&~(1<<32-Ct(a)-1)).toString(32)+i,t="«"+t+"R"+i,i=La++,0<i&&(t+="H"+i.toString(32)),t+="»"}else i=Uv++,t="«"+t+"r"+i.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:mu,useFormState:yd,useActionState:yd,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=pu.bind(null,le,!0,i),i.dispatch=t,[e,t]},useMemoCache:au,useCacheRefresh:function(){return gt().memoizedState=Hv.bind(null,le)}},qd={readContext:ut,use:Ia,useCallback:Od,useContext:ut,useEffect:Cd,useImperativeHandle:Rd,useInsertionEffect:xd,useLayoutEffect:Ad,useMemo:Dd,useReducer:Ba,useRef:Ed,useState:function(){return Ba(cn)},useDebugValue:fu,useDeferredValue:function(e,t){var i=ke();return wd(i,be.memoizedState,e,t)},useTransition:function(){var e=Ba(cn)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:ad,useId:Ld,useHostTransitionStatus:mu,useFormState:vd,useActionState:vd,useOptimistic:function(e,t){var i=ke();return hd(i,be,e,t)},useMemoCache:au,useCacheRefresh:Id},kv={readContext:ut,use:Ia,useCallback:Od,useContext:ut,useEffect:Cd,useImperativeHandle:Rd,useInsertionEffect:xd,useLayoutEffect:Ad,useMemo:Dd,useReducer:ou,useRef:Ed,useState:function(){return ou(cn)},useDebugValue:fu,useDeferredValue:function(e,t){var i=ke();return be===null?hu(i,e,t):wd(i,be.memoizedState,e,t)},useTransition:function(){var e=ou(cn)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:ad,useId:Ld,useHostTransitionStatus:mu,useFormState:Sd,useActionState:Sd,useOptimistic:function(e,t){var i=ke();return be!==null?hd(i,be,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:au,useCacheRefresh:Id},tl=null,as=0;function Ga(e){var t=as;return as+=1,tl===null&&(tl=[]),Wh(tl,e,t)}function rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ya(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gd(e){var t=e._init;return t(e._payload)}function Yd(e){function t(C,T){if(e){var x=C.deletions;x===null?(C.deletions=[T],C.flags|=16):x.push(T)}}function i(C,T){if(!e)return null;for(;T!==null;)t(C,T),T=T.sibling;return null}function a(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function o(C,T){return C=sn(C,T),C.index=0,C.sibling=null,C}function c(C,T,x){return C.index=x,e?(x=C.alternate,x!==null?(x=x.index,x<T?(C.flags|=67108866,T):x):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function g(C,T,x,U){return T===null||T.tag!==6?(T=Io(x,C.mode,U),T.return=C,T):(T=o(T,x),T.return=C,T)}function S(C,T,x,U){var Y=x.type;return Y===B?M(C,T,x.props.children,U,x.key):T!==null&&(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===_e&&Gd(Y)===T.type)?(T=o(T,x.props),rs(T,x),T.return=C,T):(T=xa(x.type,x.key,x.props,null,C.mode,U),rs(T,x),T.return=C,T)}function A(C,T,x,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==x.containerInfo||T.stateNode.implementation!==x.implementation?(T=Bo(x,C.mode,U),T.return=C,T):(T=o(T,x.children||[]),T.return=C,T)}function M(C,T,x,U,Y){return T===null||T.tag!==7?(T=ui(x,C.mode,U,Y),T.return=C,T):(T=o(T,x),T.return=C,T)}function z(C,T,x){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Io(""+T,C.mode,x),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case b:return x=xa(T.type,T.key,T.props,null,C.mode,x),rs(x,T),x.return=C,x;case O:return T=Bo(T,C.mode,x),T.return=C,T;case _e:var U=T._init;return T=U(T._payload),z(C,T,x)}if(Fe(T)||Ie(T))return T=ui(T,C.mode,x,null),T.return=C,T;if(typeof T.then=="function")return z(C,Ga(T),x);if(T.$$typeof===ee)return z(C,Oa(C,T),x);Ya(C,T)}return null}function N(C,T,x,U){var Y=T!==null?T.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return Y!==null?null:g(C,T,""+x,U);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return x.key===Y?S(C,T,x,U):null;case O:return x.key===Y?A(C,T,x,U):null;case _e:return Y=x._init,x=Y(x._payload),N(C,T,x,U)}if(Fe(x)||Ie(x))return Y!==null?null:M(C,T,x,U,null);if(typeof x.then=="function")return N(C,T,Ga(x),U);if(x.$$typeof===ee)return N(C,T,Oa(C,x),U);Ya(C,x)}return null}function R(C,T,x,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return C=C.get(x)||null,g(T,C,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return C=C.get(U.key===null?x:U.key)||null,S(T,C,U,Y);case O:return C=C.get(U.key===null?x:U.key)||null,A(T,C,U,Y);case _e:var se=U._init;return U=se(U._payload),R(C,T,x,U,Y)}if(Fe(U)||Ie(U))return C=C.get(x)||null,M(T,C,U,Y,null);if(typeof U.then=="function")return R(C,T,x,Ga(U),Y);if(U.$$typeof===ee)return R(C,T,x,Oa(T,U),Y);Ya(T,U)}return null}function $(C,T,x,U){for(var Y=null,se=null,Q=T,J=T=0,et=null;Q!==null&&J<x.length;J++){Q.index>J?(et=Q,Q=null):et=Q.sibling;var he=N(C,Q,x[J],U);if(he===null){Q===null&&(Q=et);break}e&&Q&&he.alternate===null&&t(C,Q),T=c(he,T,J),se===null?Y=he:se.sibling=he,se=he,Q=et}if(J===x.length)return i(C,Q),pe&&fi(C,J),Y;if(Q===null){for(;J<x.length;J++)Q=z(C,x[J],U),Q!==null&&(T=c(Q,T,J),se===null?Y=Q:se.sibling=Q,se=Q);return pe&&fi(C,J),Y}for(Q=a(Q);J<x.length;J++)et=R(Q,C,J,x[J],U),et!==null&&(e&&et.alternate!==null&&Q.delete(et.key===null?J:et.key),T=c(et,T,J),se===null?Y=et:se.sibling=et,se=et);return e&&Q.forEach(function(Fn){return t(C,Fn)}),pe&&fi(C,J),Y}function P(C,T,x,U){if(x==null)throw Error(r(151));for(var Y=null,se=null,Q=T,J=T=0,et=null,he=x.next();Q!==null&&!he.done;J++,he=x.next()){Q.index>J?(et=Q,Q=null):et=Q.sibling;var Fn=N(C,Q,he.value,U);if(Fn===null){Q===null&&(Q=et);break}e&&Q&&Fn.alternate===null&&t(C,Q),T=c(Fn,T,J),se===null?Y=Fn:se.sibling=Fn,se=Fn,Q=et}if(he.done)return i(C,Q),pe&&fi(C,J),Y;if(Q===null){for(;!he.done;J++,he=x.next())he=z(C,he.value,U),he!==null&&(T=c(he,T,J),se===null?Y=he:se.sibling=he,se=he);return pe&&fi(C,J),Y}for(Q=a(Q);!he.done;J++,he=x.next())he=R(Q,C,J,he.value,U),he!==null&&(e&&he.alternate!==null&&Q.delete(he.key===null?J:he.key),T=c(he,T,J),se===null?Y=he:se.sibling=he,se=he);return e&&Q.forEach(function(q0){return t(C,q0)}),pe&&fi(C,J),Y}function Ee(C,T,x,U){if(typeof x=="object"&&x!==null&&x.type===B&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case b:e:{for(var Y=x.key;T!==null;){if(T.key===Y){if(Y=x.type,Y===B){if(T.tag===7){i(C,T.sibling),U=o(T,x.props.children),U.return=C,C=U;break e}}else if(T.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===_e&&Gd(Y)===T.type){i(C,T.sibling),U=o(T,x.props),rs(U,x),U.return=C,C=U;break e}i(C,T);break}else t(C,T);T=T.sibling}x.type===B?(U=ui(x.props.children,C.mode,U,x.key),U.return=C,C=U):(U=xa(x.type,x.key,x.props,null,C.mode,U),rs(U,x),U.return=C,C=U)}return d(C);case O:e:{for(Y=x.key;T!==null;){if(T.key===Y)if(T.tag===4&&T.stateNode.containerInfo===x.containerInfo&&T.stateNode.implementation===x.implementation){i(C,T.sibling),U=o(T,x.children||[]),U.return=C,C=U;break e}else{i(C,T);break}else t(C,T);T=T.sibling}U=Bo(x,C.mode,U),U.return=C,C=U}return d(C);case _e:return Y=x._init,x=Y(x._payload),Ee(C,T,x,U)}if(Fe(x))return $(C,T,x,U);if(Ie(x)){if(Y=Ie(x),typeof Y!="function")throw Error(r(150));return x=Y.call(x),P(C,T,x,U)}if(typeof x.then=="function")return Ee(C,T,Ga(x),U);if(x.$$typeof===ee)return Ee(C,T,Oa(C,x),U);Ya(C,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,T!==null&&T.tag===6?(i(C,T.sibling),U=o(T,x),U.return=C,C=U):(i(C,T),U=Io(x,C.mode,U),U.return=C,C=U),d(C)):i(C,T)}return function(C,T,x,U){try{as=0;var Y=Ee(C,T,x,U);return tl=null,Y}catch(Q){if(Q===Jl||Q===wa)throw Q;var se=At(29,Q,null,C.mode);return se.lanes=U,se.return=C,se}finally{}}}var nl=Yd(!0),Vd=Yd(!1),Ht=L(null),Jt=null;function zn(e){var t=e.alternate;H(Ve,Ve.current&1),H(Ht,e),Jt===null&&(t===null||Ji.current!==null||t.memoizedState!==null)&&(Jt=e)}function Qd(e){if(e.tag===22){if(H(Ve,Ve.current),H(Ht,e),Jt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Jt=e)}}else Ln()}function Ln(){H(Ve,Ve.current),H(Ht,Ht.current)}function fn(e){j(Ht),Jt===e&&(Jt=null),j(Ve)}var Ve=L(0);function Va(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||sc(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function _u(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var gu={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Dt(),o=wn(a);o.payload=t,i!=null&&(o.callback=i),t=Mn(e,o,a),t!==null&&(wt(t,e,a),$l(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Dt(),o=wn(a);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Mn(e,o,a),t!==null&&(wt(t,e,a),$l(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Dt(),a=wn(i);a.tag=2,t!=null&&(a.callback=t),t=Mn(e,a,i),t!==null&&(wt(t,e,i),$l(t,e,i))}};function Xd(e,t,i,a,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):t.prototype&&t.prototype.isPureReactComponent?!Yl(i,a)||!Yl(o,c):!0}function Kd(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&gu.enqueueReplaceState(t,t.state,null)}function yi(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=y({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}var Qa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Zd(e){Qa(e)}function Fd(e){console.error(e)}function Pd(e){Qa(e)}function Xa(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Jd(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function yu(e,t,i){return i=wn(i),i.tag=3,i.payload={element:null},i.callback=function(){Xa(e,t)},i}function Wd(e){return e=wn(e),e.tag=3,e}function $d(e,t,i,a){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=a.value;e.payload=function(){return o(c)},e.callback=function(){Jd(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Jd(t,i,a),typeof o!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var g=a.stack;this.componentDidCatch(a.value,{componentStack:g!==null?g:""})})}function qv(e,t,i,a,o){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&Zl(t,i,o,!0),i=Ht.current,i!==null){switch(i.tag){case 13:return Jt===null?Gu():i.alternate===null&&ze===0&&(ze=3),i.flags&=-257,i.flags|=65536,i.lanes=o,a===Ko?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),Vu(e,a,o)),!1;case 22:return i.flags|=65536,a===Ko?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),Vu(e,a,o)),!1}throw Error(r(435,i.tag))}return Vu(e,a,o),Gu(),!1}if(pe)return t=Ht.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==ko&&(e=Error(r(422),{cause:a}),Kl(zt(e,i)))):(a!==ko&&(t=Error(r(423),{cause:a}),Kl(zt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=zt(a,i),o=yu(e.stateNode,a,o),Po(e,o),ze!==4&&(ze=2)),!1;var c=Error(r(520),{cause:a});if(c=zt(c,i),ms===null?ms=[c]:ms.push(c),ze!==4&&(ze=2),t===null)return!0;a=zt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=yu(i.stateNode,a,e),Po(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(qn===null||!qn.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Wd(o),$d(o,e,i,a),Po(i,o),!1}i=i.return}while(i!==null);return!1}var em=Error(r(461)),We=!1;function st(e,t,i,a){t.child=e===null?Vd(t,null,i,a):nl(t,e.child,i,a)}function tm(e,t,i,a,o){i=i.render;var c=t.ref;if("ref"in a){var d={};for(var g in a)g!=="ref"&&(d[g]=a[g])}else d=a;return pi(t),a=tu(e,t,i,d,c,o),g=nu(),e!==null&&!We?(iu(e,t,o),hn(e,t,o)):(pe&&g&&Ho(t),t.flags|=1,st(e,t,a,o),t.child)}function nm(e,t,i,a,o){if(e===null){var c=i.type;return typeof c=="function"&&!Lo(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,im(e,t,c,a,o)):(e=xa(i.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Au(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Yl,i(d,a)&&e.ref===t.ref)return hn(e,t,o)}return t.flags|=1,e=sn(c,a),e.ref=t.ref,e.return=t,t.child=e}function im(e,t,i,a,o){if(e!==null){var c=e.memoizedProps;if(Yl(c,a)&&e.ref===t.ref)if(We=!1,t.pendingProps=a=c,Au(e,o))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,hn(e,t,o)}return vu(e,t,i,a,o)}function lm(e,t,i){var a=t.pendingProps,o=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=c!==null?c.baseLanes|i:i,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;t.childLanes=c&~a}else t.childLanes=0,t.child=null;return sm(e,t,a,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Da(t,c!==null?c.cachePool:null),c!==null?id(t,c):Wo(),Qd(t);else return t.lanes=t.childLanes=536870912,sm(e,t,c!==null?c.baseLanes|i:i,i)}else c!==null?(Da(t,c.cachePool),id(t,c),Ln(),t.memoizedState=null):(e!==null&&Da(t,null),Wo(),Ln());return st(e,t,o,i),t.child}function sm(e,t,i,a){var o=Xo();return o=o===null?null:{parent:Ye._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&Da(t,null),Wo(),Qd(t),e!==null&&Zl(e,t,a,!0),null}function Ka(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function vu(e,t,i,a,o){return pi(t),i=tu(e,t,i,a,void 0,o),a=nu(),e!==null&&!We?(iu(e,t,o),hn(e,t,o)):(pe&&a&&Ho(t),t.flags|=1,st(e,t,i,o),t.child)}function am(e,t,i,a,o,c){return pi(t),t.updateQueue=null,i=sd(t,a,i,o),ld(e),a=nu(),e!==null&&!We?(iu(e,t,c),hn(e,t,c)):(pe&&a&&Ho(t),t.flags|=1,st(e,t,i,c),t.child)}function rm(e,t,i,a,o){if(pi(t),t.stateNode===null){var c=Xi,d=i.contextType;typeof d=="object"&&d!==null&&(c=ut(d)),c=new i(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=gu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},Zo(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?ut(d):Xi,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(_u(t,i,d,a),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&gu.enqueueReplaceState(c,c.state,null),ts(t,a,c,o),es(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,S=yi(i,g);c.props=S;var A=c.context,M=i.contextType;d=Xi,typeof M=="object"&&M!==null&&(d=ut(M));var z=i.getDerivedStateFromProps;M=typeof z=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,M||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||A!==d)&&Kd(t,c,a,d),Dn=!1;var N=t.memoizedState;c.state=N,ts(t,a,c,o),es(),A=t.memoizedState,g||N!==A||Dn?(typeof z=="function"&&(_u(t,i,z,a),A=t.memoizedState),(S=Dn||Xd(t,i,S,a,N,A,d))?(M||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=A),c.props=a,c.state=A,c.context=d,a=S):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Fo(e,t),d=t.memoizedProps,M=yi(i,d),c.props=M,z=t.pendingProps,N=c.context,A=i.contextType,S=Xi,typeof A=="object"&&A!==null&&(S=ut(A)),g=i.getDerivedStateFromProps,(A=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==z||N!==S)&&Kd(t,c,a,S),Dn=!1,N=t.memoizedState,c.state=N,ts(t,a,c,o),es();var R=t.memoizedState;d!==z||N!==R||Dn||e!==null&&e.dependencies!==null&&Ra(e.dependencies)?(typeof g=="function"&&(_u(t,i,g,a),R=t.memoizedState),(M=Dn||Xd(t,i,M,a,N,R,S)||e!==null&&e.dependencies!==null&&Ra(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,R,S),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,R,S)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=R),c.props=a,c.state=R,c.context=S,a=M):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Ka(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=nl(t,e.child,null,o),t.child=nl(t,null,i,o)):st(e,t,i,o),t.memoizedState=c.state,e=t.child):e=hn(e,t,o),e}function om(e,t,i,a){return Xl(),t.flags|=256,st(e,t,i,a),t.child}var bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Su(e){return{baseLanes:e,cachePool:Fh()}}function Eu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=jt),e}function um(e,t,i){var a=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(pe){if(o?zn(t):Ln(),pe){var g=Ue,S;if(S=g){e:{for(S=g,g=Pt;S.nodeType!==8;){if(!g){g=null;break e}if(S=Vt(S.nextSibling),S===null){g=null;break e}}g=S}g!==null?(t.memoizedState={dehydrated:g,treeContext:ci!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},S=At(18,null,null,0),S.stateNode=g,S.return=t,t.child=S,ht=t,Ue=null,S=!0):S=!1}S||di(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return sc(g)?t.lanes=32:t.lanes=536870912,null;fn(t)}return g=a.children,a=a.fallback,o?(Ln(),o=t.mode,g=Za({mode:"hidden",children:g},o),a=ui(a,o,i,null),g.return=t,a.return=t,g.sibling=a,t.child=g,o=t.child,o.memoizedState=Su(i),o.childLanes=Eu(e,d,i),t.memoizedState=bu,a):(zn(t),Tu(t,g))}if(S=e.memoizedState,S!==null&&(g=S.dehydrated,g!==null)){if(c)t.flags&256?(zn(t),t.flags&=-257,t=Cu(e,t,i)):t.memoizedState!==null?(Ln(),t.child=e.child,t.flags|=128,t=null):(Ln(),o=a.fallback,g=t.mode,a=Za({mode:"visible",children:a.children},g),o=ui(o,g,i,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,nl(t,e.child,null,i),a=t.child,a.memoizedState=Su(i),a.childLanes=Eu(e,d,i),t.memoizedState=bu,t=o);else if(zn(t),sc(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var A=d.dgst;d=A,a=Error(r(419)),a.stack="",a.digest=d,Kl({value:a,source:null,stack:null}),t=Cu(e,t,i)}else if(We||Zl(e,t,i,!1),d=(i&e.childLanes)!==0,We||d){if(d=Ae,d!==null&&(a=i&-i,a=(a&42)!==0?1:so(a),a=(a&(d.suspendedLanes|i))!==0?0:a,a!==0&&a!==S.retryLane))throw S.retryLane=a,Qi(e,a),wt(d,e,a),em;g.data==="$?"||Gu(),t=Cu(e,t,i)}else g.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Ue=Vt(g.nextSibling),ht=t,pe=!0,hi=null,Pt=!1,e!==null&&(It[Bt++]=an,It[Bt++]=rn,It[Bt++]=ci,an=e.id,rn=e.overflow,ci=t),t=Tu(t,a.children),t.flags|=4096);return t}return o?(Ln(),o=a.fallback,g=t.mode,S=e.child,A=S.sibling,a=sn(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,A!==null?o=sn(A,o):(o=ui(o,g,i,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,g=e.child.memoizedState,g===null?g=Su(i):(S=g.cachePool,S!==null?(A=Ye._currentValue,S=S.parent!==A?{parent:A,pool:A}:S):S=Fh(),g={baseLanes:g.baseLanes|i,cachePool:S}),o.memoizedState=g,o.childLanes=Eu(e,d,i),t.memoizedState=bu,a):(zn(t),i=e.child,e=i.sibling,i=sn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Tu(e,t){return t=Za({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Za(e,t){return e=At(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Cu(e,t,i){return nl(t,e.child,null,i),e=Tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cm(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Go(e.return,t,i)}function xu(e,t,i,a,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=o)}function fm(e,t,i){var a=t.pendingProps,o=a.revealOrder,c=a.tail;if(st(e,t,a.children,i),a=Ve.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cm(e,i,t);else if(e.tag===19)cm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(H(Ve,a),o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Va(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),xu(t,!1,o,i,c);break;case"backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Va(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}xu(t,!0,i,null,c);break;case"together":xu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Zl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=sn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=sn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Au(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ra(e)))}function Gv(e,t,i){switch(t.tag){case 3:ge(t,t.stateNode.containerInfo),On(t,Ye,e.memoizedState.cache),Xl();break;case 27:case 5:eo(t);break;case 4:ge(t,t.stateNode.containerInfo);break;case 10:On(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(zn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?um(e,t,i):(zn(t),e=hn(e,t,i),e!==null?e.sibling:null);zn(t);break;case 19:var o=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(Zl(e,t,i,!1),a=(i&t.childLanes)!==0),o){if(a)return fm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),H(Ve,Ve.current),a)break;return null;case 22:case 23:return t.lanes=0,lm(e,t,i);case 24:On(t,Ye,e.memoizedState.cache)}return hn(e,t,i)}function hm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Au(e,i)&&(t.flags&128)===0)return We=!1,Gv(e,t,i);We=(e.flags&131072)!==0}else We=!1,pe&&(t.flags&1048576)!==0&&Gh(t,Na,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,o=a._init;if(a=o(a._payload),t.type=a,typeof a=="function")Lo(a)?(e=yi(a,e),t.tag=1,t=rm(null,t,a,e,i)):(t.tag=0,t=vu(null,t,a,e,i));else{if(a!=null){if(o=a.$$typeof,o===Te){t.tag=11,t=tm(null,t,a,e,i);break e}else if(o===Ge){t.tag=14,t=nm(null,t,a,e,i);break e}}throw t=Me(a)||a,Error(r(306,t,""))}}return t;case 0:return vu(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,o=yi(a,t.pendingProps),rm(e,t,a,o,i);case 3:e:{if(ge(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var c=t.memoizedState;o=c.element,Fo(e,t),ts(t,a,null,i);var d=t.memoizedState;if(a=d.cache,On(t,Ye,a),a!==c.cache&&Yo(t,[Ye],i,!0),es(),a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=om(e,t,a,i);break e}else if(a!==o){o=zt(Error(r(424)),t),Kl(o),t=om(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=Vt(e.firstChild),ht=t,pe=!0,hi=null,Pt=!0,i=Vd(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Xl(),a===o){t=hn(e,t,i);break e}st(e,t,a,i)}t=t.child}return t;case 26:return Ka(e,t),e===null?(i=_p(t.type,null,t.pendingProps,null))?t.memoizedState=i:pe||(i=t.type,e=t.pendingProps,a=or(F.current).createElement(i),a[ot]=t,a[pt]=e,rt(a,i,e),Je(a),t.stateNode=a):t.memoizedState=_p(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return eo(t),e===null&&pe&&(a=t.stateNode=dp(t.type,t.pendingProps,F.current),ht=t,Pt=!0,o=Ue,Vn(t.type)?(ac=o,Ue=Vt(a.firstChild)):Ue=o),st(e,t,t.pendingProps.children,i),Ka(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pe&&((o=a=Ue)&&(a=_0(a,t.type,t.pendingProps,Pt),a!==null?(t.stateNode=a,ht=t,Ue=Vt(a.firstChild),Pt=!1,o=!0):o=!1),o||di(t)),eo(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,a=c.children,nc(o,c)?a=null:d!==null&&nc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=tu(e,t,zv,null,null,i),Ts._currentValue=o),Ka(e,t),st(e,t,a,i),t.child;case 6:return e===null&&pe&&((e=i=Ue)&&(i=g0(i,t.pendingProps,Pt),i!==null?(t.stateNode=i,ht=t,Ue=null,e=!0):e=!1),e||di(t)),null;case 13:return um(e,t,i);case 4:return ge(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=nl(t,null,a,i):st(e,t,a,i),t.child;case 11:return tm(e,t,t.type,t.pendingProps,i);case 7:return st(e,t,t.pendingProps,i),t.child;case 8:return st(e,t,t.pendingProps.children,i),t.child;case 12:return st(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,On(t,t.type,a.value),st(e,t,a.children,i),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,pi(t),o=ut(o),a=a(o),t.flags|=1,st(e,t,a,i),t.child;case 14:return nm(e,t,t.type,t.pendingProps,i);case 15:return im(e,t,t.type,t.pendingProps,i);case 19:return fm(e,t,i);case 31:return a=t.pendingProps,i=t.mode,a={mode:a.mode,children:a.children},e===null?(i=Za(a,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=sn(e.child,a),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return lm(e,t,i);case 24:return pi(t),a=ut(Ye),e===null?(o=Xo(),o===null&&(o=Ae,c=Vo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:a,cache:o},Zo(t),On(t,Ye,o)):((e.lanes&i)!==0&&(Fo(e,t),ts(t,null,null,i),es()),o=e.memoizedState,c=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),On(t,Ye,a)):(a=c.cache,On(t,Ye,a),a!==o.cache&&Yo(t,[Ye],i,!0))),st(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function dn(e){e.flags|=4}function dm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sp(t)){if(t=Ht.current,t!==null&&((fe&4194048)===fe?Jt!==null:(fe&62914560)!==fe&&(fe&536870912)===0||t!==Jt))throw Wl=Ko,Ph;e.flags|=8192}}function Fa(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qf():536870912,e.lanes|=t,al|=t)}function os(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Yv(e,t,i){var a=t.pendingProps;switch(jo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return we(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),un(Ye),xn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ql(t)?dn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qh())),we(t),null;case 26:return i=t.memoizedState,e===null?(dn(t),i!==null?(we(t),dm(t,i)):(we(t),t.flags&=-16777217)):i?i!==e.memoizedState?(dn(t),we(t),dm(t,i)):(we(t),t.flags&=-16777217):(e.memoizedProps!==a&&dn(t),we(t),t.flags&=-16777217),null;case 27:aa(t),i=F.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&dn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return we(t),null}e=q.current,Ql(t)?Yh(t):(e=dp(o,a,i),t.stateNode=e,dn(t))}return we(t),null;case 5:if(aa(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&dn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return we(t),null}if(e=q.current,Ql(t))Yh(t);else{switch(o=or(F.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?o.createElement(i,{is:a.is}):o.createElement(i)}}e[ot]=t,e[pt]=a;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(rt(e,i,a),i){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&dn(t)}}return we(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&dn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=F.current,Ql(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,o=ht,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[ot]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||ap(e.nodeValue,i)),e||di(t)}else e=or(e).createTextNode(a),e[ot]=t,t.stateNode=e}return we(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ql(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ot]=t}else Xl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;we(t),o=!1}else o=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(fn(t),t):(fn(t),null)}if(fn(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=a!==null,e=e!==null&&e.memoizedState!==null,i){a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool);var c=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Fa(t,t.updateQueue),we(t),null;case 4:return xn(),e===null&&Ju(t.stateNode.containerInfo),we(t),null;case 10:return un(t.type),we(t),null;case 19:if(j(Ve),o=t.memoizedState,o===null)return we(t),null;if(a=(t.flags&128)!==0,c=o.rendering,c===null)if(a)os(o,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Va(e),c!==null){for(t.flags|=128,os(o,!1),e=c.updateQueue,t.updateQueue=e,Fa(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)qh(i,e),i=i.sibling;return H(Ve,Ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ft()>Wa&&(t.flags|=128,a=!0,os(o,!1),t.lanes=4194304)}else{if(!a)if(e=Va(c),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Fa(t,e),os(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!pe)return we(t),null}else 2*Ft()-o.renderingStartTime>Wa&&i!==536870912&&(t.flags|=128,a=!0,os(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,e=Ve.current,H(Ve,a?e&1|2:e&1),t):(we(t),null);case 22:case 23:return fn(t),$o(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),i=t.updateQueue,i!==null&&Fa(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&j(_i),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),un(Ye),we(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Vv(e,t){switch(jo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return un(Ye),xn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return aa(t),null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Xl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return j(Ve),null;case 4:return xn(),null;case 10:return un(t.type),null;case 22:case 23:return fn(t),$o(),e!==null&&j(_i),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return un(Ye),null;case 25:return null;default:return null}}function mm(e,t){switch(jo(t),t.tag){case 3:un(Ye),xn();break;case 26:case 27:case 5:aa(t);break;case 4:xn();break;case 13:fn(t);break;case 19:j(Ve);break;case 10:un(t.type);break;case 22:case 23:fn(t),$o(),e!==null&&j(_i);break;case 24:un(Ye)}}function us(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&e)===e){a=void 0;var c=i.create,d=i.inst;a=c(),d.destroy=a}i=i.next}while(i!==o)}}catch(g){Ce(t,t.return,g)}}function In(e,t,i){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&e)===e){var d=a.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,o=t;var S=i,A=g;try{A()}catch(M){Ce(o,S,M)}}}a=a.next}while(a!==c)}}catch(M){Ce(t,t.return,M)}}function pm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{nd(t,i)}catch(a){Ce(e,e.return,a)}}}function _m(e,t,i){i.props=yi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Ce(e,t,a)}}function cs(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(o){Ce(e,t,o)}}function Wt(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(o){Ce(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){Ce(e,t,o)}else i.current=null}function gm(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(o){Ce(e,e.return,o)}}function Nu(e,t,i){try{var a=e.stateNode;f0(a,e.type,i,t),a[pt]=t}catch(o){Ce(e,e.return,o)}}function ym(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vn(e.type)||e.tag===4}function Ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ym(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ou(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=rr));else if(a!==4&&(a===27&&Vn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Ou(e,t,i),e=e.sibling;e!==null;)Ou(e,t,i),e=e.sibling}function Pa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&Vn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Pa(e,t,i),e=e.sibling;e!==null;)Pa(e,t,i),e=e.sibling}function vm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);rt(t,a,i),t[ot]=e,t[pt]=i}catch(c){Ce(e,e.return,c)}}var mn=!1,He=!1,Du=!1,bm=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Qv(e,t){if(e=e.containerInfo,ec=mr,e=wh(e),Ro(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,S=-1,A=0,M=0,z=e,N=null;t:for(;;){for(var R;z!==i||o!==0&&z.nodeType!==3||(g=d+o),z!==c||a!==0&&z.nodeType!==3||(S=d+a),z.nodeType===3&&(d+=z.nodeValue.length),(R=z.firstChild)!==null;)N=z,z=R;for(;;){if(z===e)break t;if(N===i&&++A===o&&(g=d),N===c&&++M===a&&(S=d),(R=z.nextSibling)!==null)break;z=N,N=z.parentNode}z=R}i=g===-1||S===-1?null:{start:g,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(tc={focusedElem:e,selectionRange:i},mr=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){switch(t=$e,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,a=i.stateNode;try{var $=yi(i.type,o,i.elementType===i.type);e=a.getSnapshotBeforeUpdate($,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(P){Ce(i,i.return,P)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)lc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}}function Sm(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Bn(e,i),a&4&&us(5,i);break;case 1:if(Bn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Ce(i,i.return,d)}else{var o=yi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ce(i,i.return,d)}}a&64&&pm(i),a&512&&cs(i,i.return);break;case 3:if(Bn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{nd(e,t)}catch(d){Ce(i,i.return,d)}}break;case 27:t===null&&a&4&&vm(i);case 26:case 5:Bn(e,i),t===null&&a&4&&gm(i),a&512&&cs(i,i.return);break;case 12:Bn(e,i);break;case 13:Bn(e,i),a&4&&Cm(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=e0.bind(null,i),y0(e,i))));break;case 22:if(a=i.memoizedState!==null||mn,!a){t=t!==null&&t.memoizedState!==null||He,o=mn;var c=He;mn=a,(He=t)&&!c?Hn(e,i,(i.subtreeFlags&8772)!==0):Bn(e,i),mn=o,He=c}break;case 30:break;default:Bn(e,i)}}function Em(e){var t=e.alternate;t!==null&&(e.alternate=null,Em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&oo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,yt=!1;function pn(e,t,i){for(i=i.child;i!==null;)Tm(e,t,i),i=i.sibling}function Tm(e,t,i){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(wl,i)}catch{}switch(i.tag){case 26:He||Wt(i,t),pn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:He||Wt(i,t);var a=De,o=yt;Vn(i.type)&&(De=i.stateNode,yt=!1),pn(e,t,i),vs(i.stateNode),De=a,yt=o;break;case 5:He||Wt(i,t);case 6:if(a=De,o=yt,De=null,pn(e,t,i),De=a,yt=o,De!==null)if(yt)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(i.stateNode)}catch(c){Ce(i,t,c)}else try{De.removeChild(i.stateNode)}catch(c){Ce(i,t,c)}break;case 18:De!==null&&(yt?(e=De,fp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ns(e)):fp(De,i.stateNode));break;case 4:a=De,o=yt,De=i.stateNode.containerInfo,yt=!0,pn(e,t,i),De=a,yt=o;break;case 0:case 11:case 14:case 15:He||In(2,i,t),He||In(4,i,t),pn(e,t,i);break;case 1:He||(Wt(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&_m(i,t,a)),pn(e,t,i);break;case 21:pn(e,t,i);break;case 22:He=(a=He)||i.memoizedState!==null,pn(e,t,i),He=a;break;default:pn(e,t,i)}}function Cm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ns(e)}catch(i){Ce(t,t.return,i)}}function Xv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new bm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new bm),t;default:throw Error(r(435,e.tag))}}function wu(e,t){var i=Xv(e);t.forEach(function(a){var o=t0.bind(null,e,a);i.has(a)||(i.add(a),a.then(o,o))})}function Nt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a],c=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(Vn(g.type)){De=g.stateNode,yt=!1;break e}break;case 5:De=g.stateNode,yt=!1;break e;case 3:case 4:De=g.stateNode.containerInfo,yt=!0;break e}g=g.return}if(De===null)throw Error(r(160));Tm(c,d,o),De=null,yt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)xm(t,e),t=t.sibling}var Yt=null;function xm(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),Rt(e),a&4&&(In(3,e,e.return),us(3,e),In(5,e,e.return));break;case 1:Nt(t,e),Rt(e),a&512&&(He||i===null||Wt(i,i.return)),a&64&&mn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var o=Yt;if(Nt(t,e),Rt(e),a&512&&(He||i===null||Wt(i,i.return)),a&4){var c=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":c=o.getElementsByTagName("title")[0],(!c||c[zl]||c[ot]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(a),o.head.insertBefore(c,o.querySelector("head > title"))),rt(c,a,i),c[ot]=e,Je(c),a=c;break e;case"link":var d=vp("link","href",o).get(a+(i.href||""));if(d){for(var g=0;g<d.length;g++)if(c=d[g],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(g,1);break t}}c=o.createElement(a),rt(c,a,i),o.head.appendChild(c);break;case"meta":if(d=vp("meta","content",o).get(a+(i.content||""))){for(g=0;g<d.length;g++)if(c=d[g],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(g,1);break t}}c=o.createElement(a),rt(c,a,i),o.head.appendChild(c);break;default:throw Error(r(468,a))}c[ot]=e,Je(c),a=c}e.stateNode=a}else bp(o,e.type,e.stateNode);else e.stateNode=yp(o,a,e.memoizedProps);else c!==a?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,a===null?bp(o,e.type,e.stateNode):yp(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Nu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Nt(t,e),Rt(e),a&512&&(He||i===null||Wt(i,i.return)),i!==null&&a&4&&Nu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Nt(t,e),Rt(e),a&512&&(He||i===null||Wt(i,i.return)),e.flags&32){o=e.stateNode;try{Hi(o,"")}catch(R){Ce(e,e.return,R)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,Nu(e,o,i!==null?i.memoizedProps:o)),a&1024&&(Du=!0);break;case 6:if(Nt(t,e),Rt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(R){Ce(e,e.return,R)}}break;case 3:if(fr=null,o=Yt,Yt=ur(t.containerInfo),Nt(t,e),Yt=o,Rt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(R){Ce(e,e.return,R)}Du&&(Du=!1,Am(e));break;case 4:a=Yt,Yt=ur(e.stateNode.containerInfo),Nt(t,e),Rt(e),Yt=a;break;case 12:Nt(t,e),Rt(e);break;case 13:Nt(t,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Bu=Ft()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,wu(e,a)));break;case 22:o=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,A=mn,M=He;if(mn=A||o,He=M||S,Nt(t,e),He=M,mn=A,Rt(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(i===null||S||mn||He||vi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(c=S.stateNode,o)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=S.stateNode;var z=S.memoizedProps.style,N=z!=null&&z.hasOwnProperty("display")?z.display:null;g.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(R){Ce(S,S.return,R)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(R){Ce(S,S.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,wu(e,i))));break;case 19:Nt(t,e),Rt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,wu(e,a)));break;case 30:break;case 21:break;default:Nt(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(ym(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var o=i.stateNode,c=Ru(e);Pa(e,c,o);break;case 5:var d=i.stateNode;i.flags&32&&(Hi(d,""),i.flags&=-33);var g=Ru(e);Pa(e,g,d);break;case 3:case 4:var S=i.stateNode.containerInfo,A=Ru(e);Ou(e,A,S);break;default:throw Error(r(161))}}catch(M){Ce(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Am(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Am(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sm(e,t.alternate,t),t=t.sibling}function vi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:In(4,t,t.return),vi(t);break;case 1:Wt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&_m(t,t.return,i),vi(t);break;case 27:vs(t.stateNode);case 26:case 5:Wt(t,t.return),vi(t);break;case 22:t.memoizedState===null&&vi(t);break;case 30:vi(t);break;default:vi(t)}e=e.sibling}}function Hn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Hn(o,c,i),us(4,c);break;case 1:if(Hn(o,c,i),a=c,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Ce(a,a.return,A)}if(a=c,o=a.updateQueue,o!==null){var g=a.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)td(S[o],g)}catch(A){Ce(a,a.return,A)}}i&&d&64&&pm(c),cs(c,c.return);break;case 27:vm(c);case 26:case 5:Hn(o,c,i),i&&a===null&&d&4&&gm(c),cs(c,c.return);break;case 12:Hn(o,c,i);break;case 13:Hn(o,c,i),i&&d&4&&Cm(o,c);break;case 22:c.memoizedState===null&&Hn(o,c,i),cs(c,c.return);break;case 30:break;default:Hn(o,c,i)}t=t.sibling}}function Mu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Fl(i))}function Uu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fl(e))}function $t(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nm(e,t,i,a),t=t.sibling}function Nm(e,t,i,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,i,a),o&2048&&us(9,t);break;case 1:$t(e,t,i,a);break;case 3:$t(e,t,i,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fl(e)));break;case 12:if(o&2048){$t(e,t,i,a),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,g=c.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ce(t,t.return,S)}}else $t(e,t,i,a);break;case 13:$t(e,t,i,a);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?$t(e,t,i,a):fs(e,t):c._visibility&2?$t(e,t,i,a):(c._visibility|=2,il(e,t,i,a,(t.subtreeFlags&10256)!==0)),o&2048&&Mu(d,t);break;case 24:$t(e,t,i,a),o&2048&&Uu(t.alternate,t);break;default:$t(e,t,i,a)}}function il(e,t,i,a,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,d=t,g=i,S=a,A=d.flags;switch(d.tag){case 0:case 11:case 15:il(c,d,g,S,o),us(8,d);break;case 23:break;case 22:var M=d.stateNode;d.memoizedState!==null?M._visibility&2?il(c,d,g,S,o):fs(c,d):(M._visibility|=2,il(c,d,g,S,o)),o&&A&2048&&Mu(d.alternate,d);break;case 24:il(c,d,g,S,o),o&&A&2048&&Uu(d.alternate,d);break;default:il(c,d,g,S,o)}t=t.sibling}}function fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,o=a.flags;switch(a.tag){case 22:fs(i,a),o&2048&&Mu(a.alternate,a);break;case 24:fs(i,a),o&2048&&Uu(a.alternate,a);break;default:fs(i,a)}t=t.sibling}}var hs=8192;function ll(e){if(e.subtreeFlags&hs)for(e=e.child;e!==null;)Rm(e),e=e.sibling}function Rm(e){switch(e.tag){case 26:ll(e),e.flags&hs&&e.memoizedState!==null&&w0(Yt,e.memoizedState,e.memoizedProps);break;case 5:ll(e);break;case 3:case 4:var t=Yt;Yt=ur(e.stateNode.containerInfo),ll(e),Yt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=hs,hs=16777216,ll(e),hs=t):ll(e));break;default:ll(e)}}function Om(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ds(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];$e=a,wm(a,e)}Om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dm(e),e=e.sibling}function Dm(e){switch(e.tag){case 0:case 11:case 15:ds(e),e.flags&2048&&In(9,e,e.return);break;case 3:ds(e);break;case 12:ds(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ja(e)):ds(e);break;default:ds(e)}}function Ja(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];$e=a,wm(a,e)}Om(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:In(8,t,t.return),Ja(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Ja(t));break;default:Ja(t)}e=e.sibling}}function wm(e,t){for(;$e!==null;){var i=$e;switch(i.tag){case 0:case 11:case 15:In(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Fl(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,$e=a;else e:for(i=e;$e!==null;){a=$e;var o=a.sibling,c=a.return;if(Em(a),a===i){$e=null;break e}if(o!==null){o.return=c,$e=o;break e}$e=c}}}var Kv={getCacheForType:function(e){var t=ut(Ye),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},Zv=typeof WeakMap=="function"?WeakMap:Map,ye=0,Ae=null,oe=null,fe=0,ve=0,Ot=null,jn=!1,sl=!1,zu=!1,_n=0,ze=0,kn=0,bi=0,Lu=0,jt=0,al=0,ms=null,vt=null,Iu=!1,Bu=0,Wa=1/0,$a=null,qn=null,at=0,Gn=null,rl=null,ol=0,Hu=0,ju=null,Mm=null,ps=0,ku=null;function Dt(){if((ye&2)!==0&&fe!==0)return fe&-fe;if(w.T!==null){var e=Fi;return e!==0?e:Ku()}return Zf()}function Um(){jt===0&&(jt=(fe&536870912)===0||pe?Vf():536870912);var e=Ht.current;return e!==null&&(e.flags|=32),jt}function wt(e,t,i){(e===Ae&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(ul(e,0),Yn(e,fe,jt,!1)),Ul(e,i),((ye&2)===0||e!==Ae)&&(e===Ae&&((ye&2)===0&&(bi|=i),ze===4&&Yn(e,fe,jt,!1)),en(e))}function zm(e,t,i){if((ye&6)!==0)throw Error(r(327));var a=!i&&(t&124)===0&&(t&e.expiredLanes)===0||Ml(e,t),o=a?Jv(e,t):Yu(e,t,!0),c=a;do{if(o===0){sl&&!a&&Yn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!Fv(i)){o=Yu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;o=ms;var S=g.current.memoizedState.isDehydrated;if(S&&(ul(g,d).flags|=256),d=Yu(g,d,!1),d!==2){if(zu&&!S){g.errorRecoveryDisabledLanes|=c,bi|=c,o=4;break e}c=vt,vt=o,c!==null&&(vt===null?vt=c:vt.push.apply(vt,c))}o=d}if(c=!1,o!==2)continue}}if(o===1){ul(e,0),Yn(e,t,0,!0);break}e:{switch(a=e,c=o,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Yn(a,t,jt,!jn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Bu+300-Ft(),10<o)){if(Yn(a,t,jt,!jn),ca(a,0,!0)!==0)break e;a.timeoutHandle=up(Lm.bind(null,a,i,vt,$a,Iu,t,jt,bi,al,jn,c,2,-0,0),o);break e}Lm(a,i,vt,$a,Iu,t,jt,bi,al,jn,c,0,-0,0)}}break}while(!0);en(e)}function Lm(e,t,i,a,o,c,d,g,S,A,M,z,N,R){if(e.timeoutHandle=-1,z=t.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(Es={stylesheets:null,count:0,unsuspend:D0},Rm(t),z=M0(),z!==null)){e.cancelPendingCommit=z(Gm.bind(null,e,t,c,i,a,o,d,g,S,M,1,N,R)),Yn(e,c,d,!A);return}Gm(e,t,c,i,a,o,d,g,S)}function Fv(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var o=i[a],c=o.getSnapshot;o=o.value;try{if(!xt(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t,i,a){t&=~Lu,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var c=31-Ct(o),d=1<<c;a[c]=-1,o&=~d}i!==0&&Xf(e,i,t)}function er(){return(ye&6)===0?(_s(0),!1):!0}function qu(){if(oe!==null){if(ve===0)var e=oe.return;else e=oe,on=mi=null,lu(e),tl=null,as=0,e=oe;for(;e!==null;)mm(e.alternate,e),e=e.return;oe=null}}function ul(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,d0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),qu(),Ae=e,oe=i=sn(e.current,null),fe=t,ve=0,Ot=null,jn=!1,sl=Ml(e,t),zu=!1,al=jt=Lu=bi=kn=ze=0,vt=ms=null,Iu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-Ct(a),c=1<<o;t|=e[o],a&=~c}return _n=t,Ea(),i}function Im(e,t){le=null,w.H=qa,t===Jl||t===wa?(t=$h(),ve=3):t===Ph?(t=$h(),ve=4):ve=t===em?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,oe===null&&(ze=1,Xa(e,zt(t,e.current)))}function Bm(){var e=w.H;return w.H=qa,e===null?qa:e}function Hm(){var e=w.A;return w.A=Kv,e}function Gu(){ze=4,jn||(fe&4194048)!==fe&&Ht.current!==null||(sl=!0),(kn&134217727)===0&&(bi&134217727)===0||Ae===null||Yn(Ae,fe,jt,!1)}function Yu(e,t,i){var a=ye;ye|=2;var o=Bm(),c=Hm();(Ae!==e||fe!==t)&&($a=null,ul(e,t)),t=!1;var d=ze;e:do try{if(ve!==0&&oe!==null){var g=oe,S=Ot;switch(ve){case 8:qu(),d=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(t=!0);var A=ve;if(ve=0,Ot=null,cl(e,g,S,A),i&&sl){d=0;break e}break;default:A=ve,ve=0,Ot=null,cl(e,g,S,A)}}Pv(),d=ze;break}catch(M){Im(e,M)}while(!0);return t&&e.shellSuspendCounter++,on=mi=null,ye=a,w.H=o,w.A=c,oe===null&&(Ae=null,fe=0,Ea()),d}function Pv(){for(;oe!==null;)jm(oe)}function Jv(e,t){var i=ye;ye|=2;var a=Bm(),o=Hm();Ae!==e||fe!==t?($a=null,Wa=Ft()+500,ul(e,t)):sl=Ml(e,t);e:do try{if(ve!==0&&oe!==null){t=oe;var c=Ot;t:switch(ve){case 1:ve=0,Ot=null,cl(e,t,c,1);break;case 2:case 9:if(Jh(c)){ve=0,Ot=null,km(t);break}t=function(){ve!==2&&ve!==9||Ae!==e||(ve=7),en(e)},c.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:Jh(c)?(ve=0,Ot=null,km(t)):(ve=0,Ot=null,cl(e,t,c,7));break;case 5:var d=null;switch(oe.tag){case 26:d=oe.memoizedState;case 5:case 27:var g=oe;if(!d||Sp(d)){ve=0,Ot=null;var S=g.sibling;if(S!==null)oe=S;else{var A=g.return;A!==null?(oe=A,tr(A)):oe=null}break t}}ve=0,Ot=null,cl(e,t,c,5);break;case 6:ve=0,Ot=null,cl(e,t,c,6);break;case 8:qu(),ze=6;break e;default:throw Error(r(462))}}Wv();break}catch(M){Im(e,M)}while(!0);return on=mi=null,w.H=a,w.A=o,ye=i,oe!==null?0:(Ae=null,fe=0,Ea(),ze)}function Wv(){for(;oe!==null&&!by();)jm(oe)}function jm(e){var t=hm(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?tr(e):oe=t}function km(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=am(i,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=am(i,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:lu(t);default:mm(i,t),t=oe=qh(t,_n),t=hm(i,t,_n)}e.memoizedProps=e.pendingProps,t===null?tr(e):oe=t}function cl(e,t,i,a){on=mi=null,lu(t),tl=null,as=0;var o=t.return;try{if(qv(e,o,t,i,fe)){ze=1,Xa(e,zt(i,e.current)),oe=null;return}}catch(c){if(o!==null)throw oe=o,c;ze=1,Xa(e,zt(i,e.current)),oe=null;return}t.flags&32768?(pe||a===1?e=!0:sl||(fe&536870912)!==0?e=!1:(jn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ht.current,a!==null&&a.tag===13&&(a.flags|=16384))),qm(t,e)):tr(t)}function tr(e){var t=e;do{if((t.flags&32768)!==0){qm(t,jn);return}e=t.return;var i=Yv(t.alternate,t,_n);if(i!==null){oe=i;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ze===0&&(ze=5)}function qm(e,t){do{var i=Vv(e.alternate,e);if(i!==null){i.flags&=32767,oe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=i}while(e!==null);ze=6,oe=null}function Gm(e,t,i,a,o,c,d,g,S){e.cancelPendingCommit=null;do nr();while(at!==0);if((ye&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Uo,Dy(e,i,c,d,g,S),e===Ae&&(oe=Ae=null,fe=0),rl=t,Gn=e,ol=i,Hu=c,ju=o,Mm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,n0(ra,function(){return Km(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=w.T,w.T=null,o=G.p,G.p=2,d=ye,ye|=4;try{Qv(e,t,i)}finally{ye=d,G.p=o,w.T=a}}at=1,Ym(),Vm(),Qm()}}function Ym(){if(at===1){at=0;var e=Gn,t=rl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=w.T,w.T=null;var a=G.p;G.p=2;var o=ye;ye|=4;try{xm(t,e);var c=tc,d=wh(e.containerInfo),g=c.focusedElem,S=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&Dh(g.ownerDocument.documentElement,g)){if(S!==null&&Ro(g)){var A=S.start,M=S.end;if(M===void 0&&(M=A),"selectionStart"in g)g.selectionStart=A,g.selectionEnd=Math.min(M,g.value.length);else{var z=g.ownerDocument||document,N=z&&z.defaultView||window;if(N.getSelection){var R=N.getSelection(),$=g.textContent.length,P=Math.min(S.start,$),Ee=S.end===void 0?P:Math.min(S.end,$);!R.extend&&P>Ee&&(d=Ee,Ee=P,P=d);var C=Oh(g,P),T=Oh(g,Ee);if(C&&T&&(R.rangeCount!==1||R.anchorNode!==C.node||R.anchorOffset!==C.offset||R.focusNode!==T.node||R.focusOffset!==T.offset)){var x=z.createRange();x.setStart(C.node,C.offset),R.removeAllRanges(),P>Ee?(R.addRange(x),R.extend(T.node,T.offset)):(x.setEnd(T.node,T.offset),R.addRange(x))}}}}for(z=[],R=g;R=R.parentNode;)R.nodeType===1&&z.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<z.length;g++){var U=z[g];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}mr=!!ec,tc=ec=null}finally{ye=o,G.p=a,w.T=i}}e.current=t,at=2}}function Vm(){if(at===2){at=0;var e=Gn,t=rl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=w.T,w.T=null;var a=G.p;G.p=2;var o=ye;ye|=4;try{Sm(e,t.alternate,t)}finally{ye=o,G.p=a,w.T=i}}at=3}}function Qm(){if(at===4||at===3){at=0,Sy();var e=Gn,t=rl,i=ol,a=Mm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,rl=Gn=null,Xm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(qn=null),ao(i),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(wl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=w.T,o=G.p,G.p=2,w.T=null;try{for(var c=e.onRecoverableError,d=0;d<a.length;d++){var g=a[d];c(g.value,{componentStack:g.stack})}}finally{w.T=t,G.p=o}}(ol&3)!==0&&nr(),en(e),o=e.pendingLanes,(i&4194090)!==0&&(o&42)!==0?e===ku?ps++:(ps=0,ku=e):ps=0,_s(0)}}function Xm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Fl(t)))}function nr(e){return Ym(),Vm(),Qm(),Km()}function Km(){if(at!==5)return!1;var e=Gn,t=Hu;Hu=0;var i=ao(ol),a=w.T,o=G.p;try{G.p=32>i?32:i,w.T=null,i=ju,ju=null;var c=Gn,d=ol;if(at=0,rl=Gn=null,ol=0,(ye&6)!==0)throw Error(r(331));var g=ye;if(ye|=4,Dm(c.current),Nm(c,c.current,d,i),ye=g,_s(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(wl,c)}catch{}return!0}finally{G.p=o,w.T=a,Xm(e,t)}}function Zm(e,t,i){t=zt(i,t),t=yu(e.stateNode,t,2),e=Mn(e,t,2),e!==null&&(Ul(e,2),en(e))}function Ce(e,t,i){if(e.tag===3)Zm(e,e,i);else for(;t!==null;){if(t.tag===3){Zm(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qn===null||!qn.has(a))){e=zt(i,e),i=Wd(2),a=Mn(t,i,2),a!==null&&($d(i,a,t,e),Ul(a,2),en(a));break}}t=t.return}}function Vu(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Zv;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(i)||(zu=!0,o.add(i),e=$v.bind(null,e,t,i),t.then(e,e))}function $v(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ae===e&&(fe&i)===i&&(ze===4||ze===3&&(fe&62914560)===fe&&300>Ft()-Bu?(ye&2)===0&&ul(e,0):Lu|=i,al===fe&&(al=0)),en(e)}function Fm(e,t){t===0&&(t=Qf()),e=Qi(e,t),e!==null&&(Ul(e,t),en(e))}function e0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Fm(e,i)}function t0(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),Fm(e,i)}function n0(e,t){return no(e,t)}var ir=null,fl=null,Qu=!1,lr=!1,Xu=!1,Si=0;function en(e){e!==fl&&e.next===null&&(fl===null?ir=fl=e:fl=fl.next=e),lr=!0,Qu||(Qu=!0,l0())}function _s(e,t){if(!Xu&&lr){Xu=!0;do for(var i=!1,a=ir;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var c=0;else{var d=a.suspendedLanes,g=a.pingedLanes;c=(1<<31-Ct(42|e)+1)-1,c&=o&~(d&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,$m(a,c))}else c=fe,c=ca(a,a===Ae?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Ml(a,c)||(i=!0,$m(a,c));a=a.next}while(i);Xu=!1}}function i0(){Pm()}function Pm(){lr=Qu=!1;var e=0;Si!==0&&(h0()&&(e=Si),Si=0);for(var t=Ft(),i=null,a=ir;a!==null;){var o=a.next,c=Jm(a,t);c===0?(a.next=null,i===null?ir=o:i.next=o,o===null&&(fl=i)):(i=a,(e!==0||(c&3)!==0)&&(lr=!0)),a=o}_s(e)}function Jm(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-Ct(c),g=1<<d,S=o[d];S===-1?((g&i)===0||(g&a)!==0)&&(o[d]=Oy(g,t)):S<=t&&(e.expiredLanes|=g),c&=~g}if(t=Ae,i=fe,i=ca(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&io(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ml(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&io(a),ao(i)){case 2:case 8:i=Gf;break;case 32:i=ra;break;case 268435456:i=Yf;break;default:i=ra}return a=Wm.bind(null,e),i=no(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&io(a),e.callbackPriority=2,e.callbackNode=null,2}function Wm(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(nr()&&e.callbackNode!==i)return null;var a=fe;return a=ca(e,e===Ae?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(zm(e,a,t),Jm(e,Ft()),e.callbackNode!=null&&e.callbackNode===i?Wm.bind(null,e):null)}function $m(e,t){if(nr())return null;zm(e,t,!0)}function l0(){m0(function(){(ye&6)!==0?no(qf,i0):Pm()})}function Ku(){return Si===0&&(Si=Vf()),Si}function ep(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function tp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function s0(e,t,i,a,o){if(t==="submit"&&i&&i.stateNode===o){var c=ep((o[pt]||null).action),d=a.submitter;d&&(t=(t=d[pt]||null)?ep(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var g=new va("action","action",null,a,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Si!==0){var S=d?tp(o,d):new FormData(o);du(i,{pending:!0,data:S,method:o.method,action:c},null,S)}}else typeof c=="function"&&(g.preventDefault(),S=d?tp(o,d):new FormData(o),du(i,{pending:!0,data:S,method:o.method,action:c},c,S))},currentTarget:o}]})}}for(var Zu=0;Zu<Mo.length;Zu++){var Fu=Mo[Zu],a0=Fu.toLowerCase(),r0=Fu[0].toUpperCase()+Fu.slice(1);Gt(a0,"on"+r0)}Gt(zh,"onAnimationEnd"),Gt(Lh,"onAnimationIteration"),Gt(Ih,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Cv,"onTransitionRun"),Gt(xv,"onTransitionStart"),Gt(Av,"onTransitionCancel"),Gt(Bh,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gs));function np(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var d=a.length-1;0<=d;d--){var g=a[d],S=g.instance,A=g.currentTarget;if(g=g.listener,S!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=A;try{c(o)}catch(M){Qa(M)}o.currentTarget=null,c=S}else for(d=0;d<a.length;d++){if(g=a[d],S=g.instance,A=g.currentTarget,g=g.listener,S!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=A;try{c(o)}catch(M){Qa(M)}o.currentTarget=null,c=S}}}}function ue(e,t){var i=t[ro];i===void 0&&(i=t[ro]=new Set);var a=e+"__bubble";i.has(a)||(ip(t,e,2,!1),i.add(a))}function Pu(e,t,i){var a=0;t&&(a|=4),ip(i,e,a,t)}var sr="_reactListening"+Math.random().toString(36).slice(2);function Ju(e){if(!e[sr]){e[sr]=!0,Pf.forEach(function(i){i!=="selectionchange"&&(o0.has(i)||Pu(i,!1,e),Pu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sr]||(t[sr]=!0,Pu("selectionchange",!1,t))}}function ip(e,t,i,a){switch(Np(t)){case 2:var o=L0;break;case 8:o=I0;break;default:o=fc}i=o.bind(null,t,i,e),o=void 0,!vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function Wu(e,t,i,a,o){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var g=a.stateNode.containerInfo;if(g===o)break;if(d===4)for(d=a.return;d!==null;){var S=d.tag;if((S===3||S===4)&&d.stateNode.containerInfo===o)return;d=d.return}for(;g!==null;){if(d=Mi(g),d===null)return;if(S=d.tag,S===5||S===6||S===26||S===27){a=c=d;continue e}g=g.parentNode}}a=a.return}ch(function(){var A=c,M=go(i),z=[];e:{var N=Hh.get(e);if(N!==void 0){var R=va,$=e;switch(e){case"keypress":if(ga(i)===0)break e;case"keydown":case"keyup":R=nv;break;case"focusin":$="focus",R=To;break;case"focusout":$="blur",R=To;break;case"beforeblur":case"afterblur":R=To;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=sv;break;case zh:case Lh:case Ih:R=Ky;break;case Bh:R=rv;break;case"scroll":case"scrollend":R=Gy;break;case"wheel":R=uv;break;case"copy":case"cut":case"paste":R=Fy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=ph;break;case"toggle":case"beforetoggle":R=fv}var P=(t&4)!==0,Ee=!P&&(e==="scroll"||e==="scrollend"),C=P?N!==null?N+"Capture":null:N;P=[];for(var T=A,x;T!==null;){var U=T;if(x=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||x===null||C===null||(U=Il(T,C),U!=null&&P.push(ys(T,U,x))),Ee)break;T=T.return}0<P.length&&(N=new R(N,$,null,i,M),z.push({event:N,listeners:P}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",N&&i!==_o&&($=i.relatedTarget||i.fromElement)&&(Mi($)||$[wi]))break e;if((R||N)&&(N=M.window===M?M:(N=M.ownerDocument)?N.defaultView||N.parentWindow:window,R?($=i.relatedTarget||i.toElement,R=A,$=$?Mi($):null,$!==null&&(Ee=f($),P=$.tag,$!==Ee||P!==5&&P!==27&&P!==6)&&($=null)):(R=null,$=A),R!==$)){if(P=dh,U="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(P=ph,U="onPointerLeave",C="onPointerEnter",T="pointer"),Ee=R==null?N:Ll(R),x=$==null?N:Ll($),N=new P(U,T+"leave",R,i,M),N.target=Ee,N.relatedTarget=x,U=null,Mi(M)===A&&(P=new P(C,T+"enter",$,i,M),P.target=x,P.relatedTarget=Ee,U=P),Ee=U,R&&$)t:{for(P=R,C=$,T=0,x=P;x;x=hl(x))T++;for(x=0,U=C;U;U=hl(U))x++;for(;0<T-x;)P=hl(P),T--;for(;0<x-T;)C=hl(C),x--;for(;T--;){if(P===C||C!==null&&P===C.alternate)break t;P=hl(P),C=hl(C)}P=null}else P=null;R!==null&&lp(z,N,R,P,!1),$!==null&&Ee!==null&&lp(z,Ee,$,P,!0)}}e:{if(N=A?Ll(A):window,R=N.nodeName&&N.nodeName.toLowerCase(),R==="select"||R==="input"&&N.type==="file")var Y=Th;else if(Sh(N))if(Ch)Y=Sv;else{Y=vv;var se=yv}else R=N.nodeName,!R||R.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?A&&po(A.elementType)&&(Y=Th):Y=bv;if(Y&&(Y=Y(e,A))){Eh(z,Y,i,M);break e}se&&se(e,N,A),e==="focusout"&&A&&N.type==="number"&&A.memoizedProps.value!=null&&mo(N,"number",N.value)}switch(se=A?Ll(A):window,e){case"focusin":(Sh(se)||se.contentEditable==="true")&&(Gi=se,Oo=A,Vl=null);break;case"focusout":Vl=Oo=Gi=null;break;case"mousedown":Do=!0;break;case"contextmenu":case"mouseup":case"dragend":Do=!1,Mh(z,i,M);break;case"selectionchange":if(Tv)break;case"keydown":case"keyup":Mh(z,i,M)}var Q;if(xo)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else qi?vh(e,i)&&(J="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(J="onCompositionStart");J&&(_h&&i.locale!=="ko"&&(qi||J!=="onCompositionStart"?J==="onCompositionEnd"&&qi&&(Q=fh()):(Rn=M,bo="value"in Rn?Rn.value:Rn.textContent,qi=!0)),se=ar(A,J),0<se.length&&(J=new mh(J,e,null,i,M),z.push({event:J,listeners:se}),Q?J.data=Q:(Q=bh(i),Q!==null&&(J.data=Q)))),(Q=dv?mv(e,i):pv(e,i))&&(J=ar(A,"onBeforeInput"),0<J.length&&(se=new mh("onBeforeInput","beforeinput",null,i,M),z.push({event:se,listeners:J}),se.data=Q)),s0(z,e,A,i,M)}np(z,t)})}function ys(e,t,i){return{instance:e,listener:t,currentTarget:i}}function ar(e,t){for(var i=t+"Capture",a=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Il(e,i),o!=null&&a.unshift(ys(e,o,c)),o=Il(e,t),o!=null&&a.push(ys(e,o,c))),e.tag===3)return a;e=e.return}return[]}function hl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lp(e,t,i,a,o){for(var c=t._reactName,d=[];i!==null&&i!==a;){var g=i,S=g.alternate,A=g.stateNode;if(g=g.tag,S!==null&&S===a)break;g!==5&&g!==26&&g!==27||A===null||(S=A,o?(A=Il(i,c),A!=null&&d.unshift(ys(i,A,S))):o||(A=Il(i,c),A!=null&&d.push(ys(i,A,S)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var u0=/\r\n?/g,c0=/\u0000|\uFFFD/g;function sp(e){return(typeof e=="string"?e:""+e).replace(u0,`
`).replace(c0,"")}function ap(e,t){return t=sp(t),sp(e)===t}function rr(){}function Se(e,t,i,a,o,c){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Hi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Hi(e,""+a);break;case"className":ha(e,"class",a);break;case"tabIndex":ha(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ha(e,i,a);break;case"style":oh(e,a,c);break;case"data":if(t!=="object"){ha(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=pa(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Se(e,t,"name",o.name,o,null),Se(e,t,"formEncType",o.formEncType,o,null),Se(e,t,"formMethod",o.formMethod,o,null),Se(e,t,"formTarget",o.formTarget,o,null)):(Se(e,t,"encType",o.encType,o,null),Se(e,t,"method",o.method,o,null),Se(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=pa(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=rr);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=pa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":ue("beforetoggle",e),ue("toggle",e),fa(e,"popover",a);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":fa(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ky.get(i)||i,fa(e,i,a))}}function $u(e,t,i,a,o,c){switch(i){case"style":oh(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Hi(e,a):(typeof a=="number"||typeof a=="bigint")&&Hi(e,""+a);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"onClick":a!=null&&(e.onclick=rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[pt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof a=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,o);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):fa(e,i,a)}}}function rt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var a=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Se(e,t,c,d,i,null)}}o&&Se(e,t,"srcSet",i.srcSet,i,null),a&&Se(e,t,"src",i.src,i,null);return;case"input":ue("invalid",e);var g=c=d=o=null,S=null,A=null;for(a in i)if(i.hasOwnProperty(a)){var M=i[a];if(M!=null)switch(a){case"name":o=M;break;case"type":d=M;break;case"checked":S=M;break;case"defaultChecked":A=M;break;case"value":c=M;break;case"defaultValue":g=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,t));break;default:Se(e,t,a,M,i,null)}}lh(e,c,g,S,A,d,o,!1),da(e);return;case"select":ue("invalid",e),a=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(g=i[o],g!=null))switch(o){case"value":c=g;break;case"defaultValue":d=g;break;case"multiple":a=g;default:Se(e,t,o,g,i,null)}t=c,i=d,e.multiple=!!a,t!=null?Bi(e,!!a,t,!1):i!=null&&Bi(e,!!a,i,!0);return;case"textarea":ue("invalid",e),c=o=a=null;for(d in i)if(i.hasOwnProperty(d)&&(g=i[d],g!=null))switch(d){case"value":a=g;break;case"defaultValue":o=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:Se(e,t,d,g,i,null)}ah(e,a,o,c),da(e);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(a=i[S],a!=null))switch(S){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Se(e,t,S,a,i,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(a=0;a<gs.length;a++)ue(gs[a],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(a=i[A],a!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Se(e,t,A,a,i,null)}return;default:if(po(t)){for(M in i)i.hasOwnProperty(M)&&(a=i[M],a!==void 0&&$u(e,t,M,a,i,void 0));return}}for(g in i)i.hasOwnProperty(g)&&(a=i[g],a!=null&&Se(e,t,g,a,i,null))}function f0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,g=null,S=null,A=null,M=null;for(R in i){var z=i[R];if(i.hasOwnProperty(R)&&z!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":S=z;default:a.hasOwnProperty(R)||Se(e,t,R,null,a,z)}}for(var N in a){var R=a[N];if(z=i[N],a.hasOwnProperty(N)&&(R!=null||z!=null))switch(N){case"type":c=R;break;case"name":o=R;break;case"checked":A=R;break;case"defaultChecked":M=R;break;case"value":d=R;break;case"defaultValue":g=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:R!==z&&Se(e,t,N,R,a,z)}}ho(e,d,g,S,A,M,c,o);return;case"select":R=d=g=N=null;for(c in i)if(S=i[c],i.hasOwnProperty(c)&&S!=null)switch(c){case"value":break;case"multiple":R=S;default:a.hasOwnProperty(c)||Se(e,t,c,null,a,S)}for(o in a)if(c=a[o],S=i[o],a.hasOwnProperty(o)&&(c!=null||S!=null))switch(o){case"value":N=c;break;case"defaultValue":g=c;break;case"multiple":d=c;default:c!==S&&Se(e,t,o,c,a,S)}t=g,i=d,a=R,N!=null?Bi(e,!!i,N,!1):!!a!=!!i&&(t!=null?Bi(e,!!i,t,!0):Bi(e,!!i,i?[]:"",!1));return;case"textarea":R=N=null;for(g in i)if(o=i[g],i.hasOwnProperty(g)&&o!=null&&!a.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Se(e,t,g,null,a,o)}for(d in a)if(o=a[d],c=i[d],a.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":N=o;break;case"defaultValue":R=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&Se(e,t,d,o,a,c)}sh(e,N,R);return;case"option":for(var $ in i)if(N=i[$],i.hasOwnProperty($)&&N!=null&&!a.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:Se(e,t,$,null,a,N)}for(S in a)if(N=a[S],R=i[S],a.hasOwnProperty(S)&&N!==R&&(N!=null||R!=null))switch(S){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Se(e,t,S,N,a,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var P in i)N=i[P],i.hasOwnProperty(P)&&N!=null&&!a.hasOwnProperty(P)&&Se(e,t,P,null,a,N);for(A in a)if(N=a[A],R=i[A],a.hasOwnProperty(A)&&N!==R&&(N!=null||R!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:Se(e,t,A,N,a,R)}return;default:if(po(t)){for(var Ee in i)N=i[Ee],i.hasOwnProperty(Ee)&&N!==void 0&&!a.hasOwnProperty(Ee)&&$u(e,t,Ee,void 0,a,N);for(M in a)N=a[M],R=i[M],!a.hasOwnProperty(M)||N===R||N===void 0&&R===void 0||$u(e,t,M,N,a,R);return}}for(var C in i)N=i[C],i.hasOwnProperty(C)&&N!=null&&!a.hasOwnProperty(C)&&Se(e,t,C,null,a,N);for(z in a)N=a[z],R=i[z],!a.hasOwnProperty(z)||N===R||N==null&&R==null||Se(e,t,z,N,a,R)}var ec=null,tc=null;function or(e){return e.nodeType===9?e:e.ownerDocument}function rp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function op(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ic=null;function h0(){var e=window.event;return e&&e.type==="popstate"?e===ic?!1:(ic=e,!0):(ic=null,!1)}var up=typeof setTimeout=="function"?setTimeout:void 0,d0=typeof clearTimeout=="function"?clearTimeout:void 0,cp=typeof Promise=="function"?Promise:void 0,m0=typeof queueMicrotask=="function"?queueMicrotask:typeof cp<"u"?function(e){return cp.resolve(null).then(e).catch(p0)}:up;function p0(e){setTimeout(function(){throw e})}function Vn(e){return e==="head"}function fp(e,t){var i=t,a=0,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(0<a&&8>a){i=a;var d=e.ownerDocument;if(i&1&&vs(d.documentElement),i&2&&vs(d.body),i&4)for(i=d.head,vs(i),d=i.firstChild;d;){var g=d.nextSibling,S=d.nodeName;d[zl]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=g}}if(o===0){e.removeChild(c),Ns(t);return}o--}else i==="$"||i==="$?"||i==="$!"?o++:a=i.charCodeAt(0)-48;else a=0;i=c}while(i);Ns(t)}function lc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":lc(i),oo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function _0(e,t,i,a){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[zl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function g0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Vt(e.nextSibling),e===null))return null;return e}function sc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function y0(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ac=null;function hp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function dp(e,t,i){switch(t=or(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function vs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);oo(e)}var kt=new Map,mp=new Set;function ur(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gn=G.d;G.d={f:v0,r:b0,D:S0,C:E0,L:T0,m:C0,X:A0,S:x0,M:N0};function v0(){var e=gn.f(),t=er();return e||t}function b0(e){var t=Ui(e);t!==null&&t.tag===5&&t.type==="form"?zd(t):gn.r(e)}var dl=typeof document>"u"?null:document;function pp(e,t,i){var a=dl;if(a&&typeof t=="string"&&t){var o=Ut(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),mp.has(o)||(mp.add(o),e={rel:e,crossOrigin:i,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),rt(t,"link",e),Je(t),a.head.appendChild(t)))}}function S0(e){gn.D(e),pp("dns-prefetch",e,null)}function E0(e,t){gn.C(e,t),pp("preconnect",e,t)}function T0(e,t,i){gn.L(e,t,i);var a=dl;if(a&&e&&t){var o='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Ut(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Ut(i.imageSizes)+'"]')):o+='[href="'+Ut(e)+'"]';var c=o;switch(t){case"style":c=ml(e);break;case"script":c=pl(e)}kt.has(c)||(e=y({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),kt.set(c,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(bs(c))||t==="script"&&a.querySelector(Ss(c))||(t=a.createElement("link"),rt(t,"link",e),Je(t),a.head.appendChild(t)))}}function C0(e,t){gn.m(e,t);var i=dl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ut(a)+'"][href="'+Ut(e)+'"]',c=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=pl(e)}if(!kt.has(c)&&(e=y({rel:"modulepreload",href:e},t),kt.set(c,e),i.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ss(c)))return}a=i.createElement("link"),rt(a,"link",e),Je(a),i.head.appendChild(a)}}}function x0(e,t,i){gn.S(e,t,i);var a=dl;if(a&&e){var o=zi(a).hoistableStyles,c=ml(e);t=t||"default";var d=o.get(c);if(!d){var g={loading:0,preload:null};if(d=a.querySelector(bs(c)))g.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},i),(i=kt.get(c))&&rc(e,i);var S=d=a.createElement("link");Je(S),rt(S,"link",e),S._p=new Promise(function(A,M){S.onload=A,S.onerror=M}),S.addEventListener("load",function(){g.loading|=1}),S.addEventListener("error",function(){g.loading|=2}),g.loading|=4,cr(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:g},o.set(c,d)}}}function A0(e,t){gn.X(e,t);var i=dl;if(i&&e){var a=zi(i).hoistableScripts,o=pl(e),c=a.get(o);c||(c=i.querySelector(Ss(o)),c||(e=y({src:e,async:!0},t),(t=kt.get(o))&&oc(e,t),c=i.createElement("script"),Je(c),rt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(o,c))}}function N0(e,t){gn.M(e,t);var i=dl;if(i&&e){var a=zi(i).hoistableScripts,o=pl(e),c=a.get(o);c||(c=i.querySelector(Ss(o)),c||(e=y({src:e,async:!0,type:"module"},t),(t=kt.get(o))&&oc(e,t),c=i.createElement("script"),Je(c),rt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(o,c))}}function _p(e,t,i,a){var o=(o=F.current)?ur(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ml(i.href),i=zi(o).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ml(i.href);var c=zi(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(bs(e)))&&!c._p&&(d.instance=c,d.state.loading=5),kt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},kt.set(e,i),c||R0(o,e,i,d.state))),t&&a===null)throw Error(r(528,""));return d}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=pl(i),i=zi(o).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ml(e){return'href="'+Ut(e)+'"'}function bs(e){return'link[rel="stylesheet"]['+e+"]"}function gp(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function R0(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),rt(t,"link",i),Je(t),e.head.appendChild(t))}function pl(e){return'[src="'+Ut(e)+'"]'}function Ss(e){return"script[async]"+e}function yp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ut(i.href)+'"]');if(a)return t.instance=a,Je(a),a;var o=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Je(a),rt(a,"style",o),cr(a,i.precedence,e),t.instance=a;case"stylesheet":o=ml(i.href);var c=e.querySelector(bs(o));if(c)return t.state.loading|=4,t.instance=c,Je(c),c;a=gp(i),(o=kt.get(o))&&rc(a,o),c=(e.ownerDocument||e).createElement("link"),Je(c);var d=c;return d._p=new Promise(function(g,S){d.onload=g,d.onerror=S}),rt(c,"link",a),t.state.loading|=4,cr(c,i.precedence,e),t.instance=c;case"script":return c=pl(i.src),(o=e.querySelector(Ss(c)))?(t.instance=o,Je(o),o):(a=i,(o=kt.get(c))&&(a=y({},i),oc(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),Je(o),rt(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,cr(a,i.precedence,e));return t.instance}function cr(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,c=o,d=0;d<a.length;d++){var g=a[d];if(g.dataset.precedence===t)c=g;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function rc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var fr=null;function vp(e,t,i){if(fr===null){var a=new Map,o=fr=new Map;o.set(i,a)}else o=fr,a=o.get(i),a||(a=new Map,o.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[zl]||c[ot]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var g=a.get(d);g?g.push(c):a.set(d,[c])}}return a}function bp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function O0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Sp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Es=null;function D0(){}function w0(e,t,i){if(Es===null)throw Error(r(475));var a=Es;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=ml(i.href),c=e.querySelector(bs(o));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=hr.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=c,Je(c);return}c=e.ownerDocument||e,i=gp(i),(o=kt.get(o))&&rc(i,o),c=c.createElement("link"),Je(c);var d=c;d._p=new Promise(function(g,S){d.onload=g,d.onerror=S}),rt(c,"link",i),t.instance=c}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=hr.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function M0(){if(Es===null)throw Error(r(475));var e=Es;return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function hr(){if(this.count--,this.count===0){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dr=null;function uc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dr=new Map,t.forEach(U0,e),dr=null,hr.call(e))}function U0(e,t){if(!(t.state.loading&4)){var i=dr.get(e);if(i)var a=i.get(null);else{i=new Map,dr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||a,c===a&&i.set(null,o),i.set(d,o),this.count++,a=hr.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ts={$$typeof:ee,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function z0(e,t,i,a,o,c,d,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.hiddenUpdates=lo(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function Ep(e,t,i,a,o,c,d,g,S,A,M,z){return e=new z0(e,t,i,d,g,S,A,z),t=1,c===!0&&(t|=24),c=At(3,null,null,t),e.current=c,c.stateNode=e,t=Vo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:i,cache:t},Zo(c),e}function Tp(e){return e?(e=Xi,e):Xi}function Cp(e,t,i,a,o,c){o=Tp(o),a.context===null?a.context=o:a.pendingContext=o,a=wn(t),a.payload={element:i},c=c===void 0?null:c,c!==null&&(a.callback=c),i=Mn(e,a,t),i!==null&&(wt(i,e,t),$l(i,e,t))}function xp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function cc(e,t){xp(e,t),(e=e.alternate)&&xp(e,t)}function Ap(e){if(e.tag===13){var t=Qi(e,67108864);t!==null&&wt(t,e,67108864),cc(e,67108864)}}var mr=!0;function L0(e,t,i,a){var o=w.T;w.T=null;var c=G.p;try{G.p=2,fc(e,t,i,a)}finally{G.p=c,w.T=o}}function I0(e,t,i,a){var o=w.T;w.T=null;var c=G.p;try{G.p=8,fc(e,t,i,a)}finally{G.p=c,w.T=o}}function fc(e,t,i,a){if(mr){var o=hc(a);if(o===null)Wu(e,t,a,pr,i),Rp(e,a);else if(H0(o,e,t,i,a))a.stopPropagation();else if(Rp(e,a),t&4&&-1<B0.indexOf(e)){for(;o!==null;){var c=Ui(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=li(c.pendingLanes);if(d!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var S=1<<31-Ct(d);g.entanglements[1]|=S,d&=~S}en(c),(ye&6)===0&&(Wa=Ft()+500,_s(0))}}break;case 13:g=Qi(c,2),g!==null&&wt(g,c,2),er(),cc(c,2)}if(c=hc(a),c===null&&Wu(e,t,a,pr,i),c===o)break;o=c}o!==null&&a.stopPropagation()}else Wu(e,t,a,null,i)}}function hc(e){return e=go(e),dc(e)}var pr=null;function dc(e){if(pr=null,e=Mi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pr=e,null}function Np(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ey()){case qf:return 2;case Gf:return 8;case ra:case Ty:return 32;case Yf:return 268435456;default:return 32}default:return 32}}var mc=!1,Qn=null,Xn=null,Kn=null,Cs=new Map,xs=new Map,Zn=[],B0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rp(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function As(e,t,i,a,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Ui(t),t!==null&&Ap(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function H0(e,t,i,a,o){switch(t){case"focusin":return Qn=As(Qn,e,t,i,a,o),!0;case"dragenter":return Xn=As(Xn,e,t,i,a,o),!0;case"mouseover":return Kn=As(Kn,e,t,i,a,o),!0;case"pointerover":var c=o.pointerId;return Cs.set(c,As(Cs.get(c)||null,e,t,i,a,o)),!0;case"gotpointercapture":return c=o.pointerId,xs.set(c,As(xs.get(c)||null,e,t,i,a,o)),!0}return!1}function Op(e){var t=Mi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,wy(e.priority,function(){if(i.tag===13){var a=Dt();a=so(a);var o=Qi(i,a);o!==null&&wt(o,i,a),cc(i,a)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _r(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=hc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);_o=a,i.target.dispatchEvent(a),_o=null}else return t=Ui(i),t!==null&&Ap(t),e.blockedOn=i,!1;t.shift()}return!0}function Dp(e,t,i){_r(e)&&i.delete(t)}function j0(){mc=!1,Qn!==null&&_r(Qn)&&(Qn=null),Xn!==null&&_r(Xn)&&(Xn=null),Kn!==null&&_r(Kn)&&(Kn=null),Cs.forEach(Dp),xs.forEach(Dp)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,mc||(mc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,j0)))}var yr=null;function wp(e){yr!==e&&(yr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yr===e&&(yr=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(dc(a||i)===null)continue;break}var c=Ui(i);c!==null&&(e.splice(t,3),t-=3,du(c,{pending:!0,data:o,method:i.method,action:a},a,o))}}))}function Ns(e){function t(S){return gr(S,e)}Qn!==null&&gr(Qn,e),Xn!==null&&gr(Xn,e),Kn!==null&&gr(Kn,e),Cs.forEach(t),xs.forEach(t);for(var i=0;i<Zn.length;i++){var a=Zn[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Zn.length&&(i=Zn[0],i.blockedOn===null);)Op(i),i.blockedOn===null&&Zn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],d=o[pt]||null;if(typeof c=="function")d||wp(i);else if(d){var g=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[pt]||null)g=d.formAction;else if(dc(o)!==null)continue}else g=d.action;typeof g=="function"?i[a+1]=g:(i.splice(a,3),a-=3),wp(i)}}}function pc(e){this._internalRoot=e}vr.prototype.render=pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=Dt();Cp(i,a,e,t,null,null)},vr.prototype.unmount=pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cp(e.current,2,null,e,null,null),er(),t[wi]=null}};function vr(e){this._internalRoot=e}vr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Zn.length&&t!==0&&t<Zn[i].priority;i++);Zn.splice(i,0,e),i===0&&Op(e)}};var Mp=n.version;if(Mp!=="19.1.1")throw Error(r(527,Mp,"19.1.1"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var k0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var br=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!br.isDisabled&&br.supportsFiber)try{wl=br.inject(k0),Tt=br}catch{}}return Os.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,a="",o=Zd,c=Fd,d=Pd,g=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(g=t.unstable_transitionCallbacks)),t=Ep(e,1,!1,null,null,i,a,o,c,d,g,null),e[wi]=t.current,Ju(e),new pc(t)},Os.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var a=!1,o="",c=Zd,d=Fd,g=Pd,S=null,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(A=i.formState)),t=Ep(e,1,!0,t,i??null,a,o,c,d,g,S,A),t.context=Tp(null),i=t.current,a=Dt(),a=so(a),o=wn(a),o.callback=null,Mn(i,o,a),i=a,t.current.lanes=i,Ul(t,i),en(t),e[wi]=t.current,Ju(e),new vr(t)},Os.version="19.1.1",Os}var Gp;function P0(){if(Gp)return yc.exports;Gp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),yc.exports=F0(),yc.exports}var J0=P0();const W0=q_(J0),Yp=s=>{let n;const l=new Set,r=(p,y)=>{const v=typeof p=="function"?p(n):p;if(!Object.is(v,n)){const b=n;n=y??(typeof v!="object"||v===null)?v:Object.assign({},n,v),l.forEach(O=>O(n,b))}},u=()=>n,m={setState:r,getState:u,getInitialState:()=>_,subscribe:p=>(l.add(p),()=>l.delete(p))},_=n=s(r,u,m);return m},$0=(s=>s?Yp(s):Yp),eb=s=>s;function tb(s,n=eb){const l=yn.useSyncExternalStore(s.subscribe,yn.useCallback(()=>n(s.getState()),[s,n]),yn.useCallback(()=>n(s.getInitialState()),[s,n]));return yn.useDebugValue(l),l}const nb=s=>{const n=$0(s),l=r=>tb(n,r);return Object.assign(l,n),l},ib=(s=>nb),Vp={BASE_URL:"/birthday-deposit/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyBLD_nsbeGX6VVN46wIzfwYXZvqp9sqLKE",VITE_FIREBASE_APP_ID:"1:966406899242:web:4fa35014795a1e0bee6553",VITE_FIREBASE_AUTH_DOMAIN:"birthday-party-2bd8b.firebaseapp.com",VITE_FIREBASE_DATABASE_URL:"https://birthday-party-2bd8b-default-rtdb.firebaseio.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"966406899242",VITE_FIREBASE_PROJECT_ID:"birthday-party-2bd8b",VITE_FIREBASE_STORAGE_BUCKET:"birthday-party-2bd8b.firebasestorage.app"},ks=new Map,Sr=s=>{const n=ks.get(s);return n?Object.fromEntries(Object.entries(n.stores).map(([l,r])=>[l,r.getState()])):{}},lb=(s,n,l)=>{if(s===void 0)return{type:"untracked",connection:n.connect(l)};const r=ks.get(l.name);if(r)return{type:"tracked",store:s,...r};const u={connection:n.connect(l),stores:{}};return ks.set(l.name,u),{type:"tracked",store:s,...u}},sb=(s,n)=>{if(n===void 0)return;const l=ks.get(s);l&&(delete l.stores[n],Object.keys(l.stores).length===0&&ks.delete(s))},ab=s=>{var n,l;if(!s)return;const r=s.split(`
`),u=r.findIndex(h=>h.includes("api.setState"));if(u<0)return;const f=((n=r[u+1])==null?void 0:n.trim())||"";return(l=/.+ (.+) .+/.exec(f))==null?void 0:l[1]},rb=(s,n={})=>(l,r,u)=>{const{enabled:f,anonymousActionType:h,store:m,..._}=n;let p;try{p=(f??(Vp?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!p)return s(l,r,u);const{connection:y,...v}=lb(m,p,_);let b=!0;u.setState=((I,V,K)=>{const X=l(I,V);if(!b)return X;const ee=K===void 0?{type:h||ab(new Error().stack)||"anonymous"}:typeof K=="string"?{type:K}:K;return m===void 0?(y?.send(ee,r()),X):(y?.send({...ee,type:`${m}/${ee.type}`},{...Sr(_.name),[m]:u.getState()}),X)}),u.devtools={cleanup:()=>{y&&typeof y.unsubscribe=="function"&&y.unsubscribe(),sb(_.name,m)}};const O=(...I)=>{const V=b;b=!1,l(...I),b=V},B=s(u.setState,r,u);if(v.type==="untracked"?y?.init(B):(v.stores[v.store]=u,y?.init(Object.fromEntries(Object.entries(v.stores).map(([I,V])=>[I,I===v.store?B:V.getState()])))),u.dispatchFromDevtools&&typeof u.dispatch=="function"){let I=!1;const V=u.dispatch;u.dispatch=(...K)=>{(Vp?"production":void 0)!=="production"&&K[0].type==="__setState"&&!I&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),I=!0),V(...K)}}return y.subscribe(I=>{var V;switch(I.type){case"ACTION":if(typeof I.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Ec(I.payload,K=>{if(K.type==="__setState"){if(m===void 0){O(K.state);return}Object.keys(K.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const X=K.state[m];if(X==null)return;JSON.stringify(u.getState())!==JSON.stringify(X)&&O(X);return}u.dispatchFromDevtools&&typeof u.dispatch=="function"&&u.dispatch(K)});case"DISPATCH":switch(I.payload.type){case"RESET":return O(B),m===void 0?y?.init(u.getState()):y?.init(Sr(_.name));case"COMMIT":if(m===void 0){y?.init(u.getState());return}return y?.init(Sr(_.name));case"ROLLBACK":return Ec(I.state,K=>{if(m===void 0){O(K),y?.init(u.getState());return}O(K[m]),y?.init(Sr(_.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ec(I.state,K=>{if(m===void 0){O(K);return}JSON.stringify(u.getState())!==JSON.stringify(K[m])&&O(K[m])});case"IMPORT_STATE":{const{nextLiftedState:K}=I.payload,X=(V=K.computedStates.slice(-1)[0])==null?void 0:V.state;if(!X)return;O(m===void 0?X:X[m]),y?.send(null,K);return}case"PAUSE_RECORDING":return b=!b}return}}),B},ob=rb,Ec=(s,n)=>{let l;try{l=JSON.parse(s)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}l!==void 0&&n(l)};function ub(s,n){let l;try{l=s()}catch{return}return{getItem:u=>{var f;const h=_=>_===null?null:JSON.parse(_,void 0),m=(f=l.getItem(u))!=null?f:null;return m instanceof Promise?m.then(h):h(m)},setItem:(u,f)=>l.setItem(u,JSON.stringify(f,void 0)),removeItem:u=>l.removeItem(u)}}const Bc=s=>n=>{try{const l=s(n);return l instanceof Promise?l:{then(r){return Bc(r)(l)},catch(r){return this}}}catch(l){return{then(r){return this},catch(r){return Bc(r)(l)}}}},cb=(s,n)=>(l,r,u)=>{let f={storage:ub(()=>localStorage),partialize:I=>I,version:0,merge:(I,V)=>({...V,...I}),...n},h=!1;const m=new Set,_=new Set;let p=f.storage;if(!p)return s((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),l(...I)},r,u);const y=()=>{const I=f.partialize({...r()});return p.setItem(f.name,{state:I,version:f.version})},v=u.setState;u.setState=(I,V)=>(v(I,V),y());const b=s((...I)=>(l(...I),y()),r,u);u.getInitialState=()=>b;let O;const B=()=>{var I,V;if(!p)return;h=!1,m.forEach(X=>{var ee;return X((ee=r())!=null?ee:b)});const K=((V=f.onRehydrateStorage)==null?void 0:V.call(f,(I=r())!=null?I:b))||void 0;return Bc(p.getItem.bind(p))(f.name).then(X=>{if(X)if(typeof X.version=="number"&&X.version!==f.version){if(f.migrate){const ee=f.migrate(X.state,X.version);return ee instanceof Promise?ee.then(Te=>[!0,Te]):[!0,ee]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,X.state];return[!1,void 0]}).then(X=>{var ee;const[Te,ne]=X;if(O=f.merge(ne,(ee=r())!=null?ee:b),l(O,!0),Te)return y()}).then(()=>{K?.(O,void 0),O=r(),h=!0,_.forEach(X=>X(O))}).catch(X=>{K?.(void 0,X)})};return u.persist={setOptions:I=>{f={...f,...I},I.storage&&(p=I.storage)},clearStorage:()=>{p?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>B(),hasHydrated:()=>h,onHydrate:I=>(m.add(I),()=>{m.delete(I)}),onFinishHydration:I=>(_.add(I),()=>{_.delete(I)})},f.skipHydration||B(),O||b},fb=cb,hb=()=>{};var Qp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(s,n){if(!s)throw Al(n)},Al=function(s){return new Error("Firebase Database ("+G_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},db=function(s){const n=[];let l=0,r=0;for(;l<s.length;){const u=s[l++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=s[l++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=s[l++],h=s[l++],m=s[l++],_=((u&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const f=s[l++],h=s[l++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},sf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const f=s[u],h=u+1<s.length,m=h?s[u+1]:0,_=u+2<s.length,p=_?s[u+2]:0,y=f>>2,v=(f&3)<<4|m>>4;let b=(m&15)<<2|p>>6,O=p&63;_||(O=64,h||(b=64)),r.push(l[y],l[v],l[b],l[O])}return r.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(Y_(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):db(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const f=l[s.charAt(u++)],m=u<s.length?l[s.charAt(u)]:0;++u;const p=u<s.length?l[s.charAt(u)]:64;++u;const v=u<s.length?l[s.charAt(u)]:64;if(++u,f==null||m==null||p==null||v==null)throw new mb;const b=f<<2|m>>4;if(r.push(b),p!==64){const O=m<<4&240|p>>2;if(r.push(O),v!==64){const B=p<<6&192|v;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class mb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V_=function(s){const n=Y_(s);return sf.encodeByteArray(n,!0)},xr=function(s){return V_(s).replace(/\./g,"")},Hc=function(s){try{return sf.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(s){return Q_(void 0,s)}function Q_(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!_b(l)||(s[l]=Q_(s[l],n[l]));return s}function _b(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=()=>gb().__FIREBASE_DEFAULTS__,vb=()=>{if(typeof process>"u"||typeof Qp>"u")return;const s=Qp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},bb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&Hc(s[1]);return n&&JSON.parse(n)},X_=()=>{try{return hb()||yb()||vb()||bb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Sb=s=>X_()?.emulatorHosts?.[s],Eb=s=>{const n=Sb(s);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},K_=()=>X_()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tb(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",u=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[xr(JSON.stringify(l)),xr(JSON.stringify(h)),""].join(".")}const zs={};function xb(){const s={prod:[],emulator:[]};for(const n of Object.keys(zs))zs[n]?s.emulator.push(n):s.prod.push(n);return s}function Ab(s){let n=document.getElementById(s),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),l=!0),{created:l,element:n}}let Xp=!1;function Nb(s,n){if(typeof window>"u"||typeof document>"u"||!af(window.location.host)||zs[s]===n||zs[s]||Xp)return;zs[s]=n;function l(b){return`__firebase__banner__${b}`}const r="__firebase__banner",f=xb().prod.length>0;function h(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function _(b,O){b.setAttribute("width","24"),b.setAttribute("id",O),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Xp=!0,h()},b}function y(b,O){b.setAttribute("id",O),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=Ab(r),O=l("text"),B=document.getElementById(O)||document.createElement("span"),I=l("learnmore"),V=document.getElementById(I)||document.createElement("a"),K=l("preprendIcon"),X=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ee=b.element;m(ee),y(V,I);const Te=p();_(X,K),ee.append(X,B,V,Te),document.body.appendChild(ee)}f?(B.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rb())}function Ob(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Db(){return G_.NODE_ADMIN===!0}function wb(){try{return typeof indexedDB=="object"}catch{return!1}}function Mb(){return new Promise((s,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),l||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{l=!1},u.onerror=()=>{n(u.error?.message||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="FirebaseError";class Ws extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=Ub,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,F_.prototype.create)}}class F_{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?zb(f,r):"Error",m=`${this.serviceName}: ${h} (${u}).`;return new Ws(u,m,r)}}function zb(s,n){return s.replace(Lb,(l,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const Lb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(s){return JSON.parse(s)}function Qe(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(s){let n={},l={},r={},u="";try{const f=s.split(".");n=qs(Hc(f[0])||""),l=qs(Hc(f[1])||""),u=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:u}},Ib=function(s){const n=P_(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},Bb=function(s){const n=P_(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function El(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Kp(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Ar(s,n,l){const r={};for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&(r[u]=n.call(l,s[u],u,s));return r}function Nr(s,n){if(s===n)return!0;const l=Object.keys(s),r=Object.keys(n);for(const u of l){if(!r.includes(u))return!1;const f=s[u],h=n[u];if(Zp(f)&&Zp(h)){if(!Nr(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!l.includes(u))return!1;return!0}function Zp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(s){const n=[];for(const[l,r]of Object.entries(s))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)r[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)r[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const b=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(b<<1|b>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],_=this.chain_[4],p,y;for(let v=0;v<80;v++){v<40?v<20?(p=m^f&(h^m),y=1518500249):(p=f^h^m,y=1859775393):v<60?(p=f&h|m&(f|h),y=2400959708):(p=f^h^m,y=3395469782);const b=(u<<5|u>>>27)+p+_+y+r[v]&4294967295;_=m,m=h,h=(f<<30|f>>>2)&4294967295,f=u,u=b}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<l;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<l;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<l;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function rf(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,k(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[l++]=u:u<2048?(n[l++]=u>>6|192,n[l++]=u&63|128):u<65536?(n[l++]=u>>12|224,n[l++]=u>>6&63|128,n[l++]=u&63|128):(n[l++]=u>>18|240,n[l++]=u>>12&63|128,n[l++]=u>>6&63|128,n[l++]=u&63|128)}return n},Vr=function(s){let n=0;for(let l=0;l<s.length;l++){const r=s.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(s){return s&&s._delegate?s._delegate:s}class Gs{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new Yr;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:l});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Yb(n))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=Ei){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ei){return this.instances.has(n)}getOptions(n=Ei){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);r===m&&h.resolve(u)}return u}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const f=this.instances.get(r);return f&&n(f,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const u of r)try{u(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gb(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Ei){return this.component?this.component.multipleInstances?n:Ei:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gb(s){return s===Ei?void 0:s}function Yb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new qb(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ne||(Ne={}));const Qb={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Xb=Ne.INFO,Kb={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},Zb=(s,n,...l)=>{if(n<s.logLevel)return;const r=new Date().toISOString(),u=Kb[n];if(u)console[u](`[${r}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class J_{constructor(n){this.name=n,this._logLevel=Xb,this._logHandler=Zb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ne))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Qb[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...n),this._logHandler(this,Ne.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...n),this._logHandler(this,Ne.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...n),this._logHandler(this,Ne.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...n),this._logHandler(this,Ne.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...n),this._logHandler(this,Ne.ERROR,...n)}}const Fb=(s,n)=>n.some(l=>s instanceof l);let Fp,Pp;function Pb(){return Fp||(Fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jb(){return Pp||(Pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W_=new WeakMap,jc=new WeakMap,$_=new WeakMap,Tc=new WeakMap,of=new WeakMap;function Wb(s){const n=new Promise((l,r)=>{const u=()=>{s.removeEventListener("success",f),s.removeEventListener("error",h)},f=()=>{l(Jn(s.result)),u()},h=()=>{r(s.error),u()};s.addEventListener("success",f),s.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&W_.set(l,s)}).catch(()=>{}),of.set(n,s),n}function $b(s){if(jc.has(s))return;const n=new Promise((l,r)=>{const u=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",h),s.removeEventListener("abort",h)},f=()=>{l(),u()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",f),s.addEventListener("error",h),s.addEventListener("abort",h)});jc.set(s,n)}let kc={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return jc.get(s);if(n==="objectStoreNames")return s.objectStoreNames||$_.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return Jn(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function eS(s){kc=s(kc)}function tS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=s.call(Cc(this),n,...l);return $_.set(r,n.sort?n.sort():[n]),Jn(r)}:Jb().includes(s)?function(...n){return s.apply(Cc(this),n),Jn(W_.get(this))}:function(...n){return Jn(s.apply(Cc(this),n))}}function nS(s){return typeof s=="function"?tS(s):(s instanceof IDBTransaction&&$b(s),Fb(s,Pb())?new Proxy(s,kc):s)}function Jn(s){if(s instanceof IDBRequest)return Wb(s);if(Tc.has(s))return Tc.get(s);const n=nS(s);return n!==s&&(Tc.set(s,n),of.set(n,s)),n}const Cc=s=>of.get(s);function iS(s,n,{blocked:l,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(s,n),m=Jn(h);return r&&h.addEventListener("upgradeneeded",_=>{r(Jn(h.result),_.oldVersion,_.newVersion,Jn(h.transaction),_)}),l&&h.addEventListener("blocked",_=>l(_.oldVersion,_.newVersion,_)),m.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",p=>u(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const lS=["get","getKey","getAll","getAllKeys","count"],sS=["put","add","delete","clear"],xc=new Map;function Jp(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(xc.get(n))return xc.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,u=sS.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(u||lS.includes(l)))return;const f=async function(h,...m){const _=this.transaction(h,u?"readwrite":"readonly");let p=_.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[l](...m),u&&_.done]))[0]};return xc.set(n,f),f}eS(s=>({...s,get:(n,l,r)=>Jp(n,l)||s.get(n,l,r),has:(n,l)=>!!Jp(n,l)||s.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(rS(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function rS(s){return s.getComponent()?.type==="VERSION"}const qc="@firebase/app",Wp="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new J_("@firebase/app"),oS="@firebase/app-compat",uS="@firebase/analytics-compat",cS="@firebase/analytics",fS="@firebase/app-check-compat",hS="@firebase/app-check",dS="@firebase/auth",mS="@firebase/auth-compat",pS="@firebase/database",_S="@firebase/data-connect",gS="@firebase/database-compat",yS="@firebase/functions",vS="@firebase/functions-compat",bS="@firebase/installations",SS="@firebase/installations-compat",ES="@firebase/messaging",TS="@firebase/messaging-compat",CS="@firebase/performance",xS="@firebase/performance-compat",AS="@firebase/remote-config",NS="@firebase/remote-config-compat",RS="@firebase/storage",OS="@firebase/storage-compat",DS="@firebase/firestore",wS="@firebase/ai",MS="@firebase/firestore-compat",US="firebase",zS="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="[DEFAULT]",LS={[qc]:"fire-core",[oS]:"fire-core-compat",[cS]:"fire-analytics",[uS]:"fire-analytics-compat",[hS]:"fire-app-check",[fS]:"fire-app-check-compat",[dS]:"fire-auth",[mS]:"fire-auth-compat",[pS]:"fire-rtdb",[_S]:"fire-data-connect",[gS]:"fire-rtdb-compat",[yS]:"fire-fn",[vS]:"fire-fn-compat",[bS]:"fire-iid",[SS]:"fire-iid-compat",[ES]:"fire-fcm",[TS]:"fire-fcm-compat",[CS]:"fire-perf",[xS]:"fire-perf-compat",[AS]:"fire-rc",[NS]:"fire-rc-compat",[RS]:"fire-gcs",[OS]:"fire-gcs-compat",[DS]:"fire-fst",[MS]:"fire-fst-compat",[wS]:"fire-vertex","fire-js":"fire-js",[US]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Map,IS=new Map,Yc=new Map;function $p(s,n){try{s.container.addComponent(n)}catch(l){Sn.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function Or(s){const n=s.name;if(Yc.has(n))return Sn.debug(`There were multiple attempts to register component ${n}.`),!1;Yc.set(n,s);for(const l of Rr.values())$p(l,s);for(const l of IS.values())$p(l,s);return!0}function BS(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}function HS(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wn=new F_("app","Firebase",jS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=zS;function eg(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const r={name:Gc,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw Wn.create("bad-app-name",{appName:String(u)});if(l||(l=K_()),!l)throw Wn.create("no-options");const f=Rr.get(u);if(f){if(Nr(l,f.options)&&Nr(r,f.config))return f;throw Wn.create("duplicate-app",{appName:u})}const h=new Vb(u);for(const _ of Yc.values())h.addComponent(_);const m=new kS(l,r,h);return Rr.set(u,m),m}function GS(s=Gc){const n=Rr.get(s);if(!n&&s===Gc&&K_())return eg();if(!n)throw Wn.create("no-app",{appName:s});return n}function vl(s,n,l){let r=LS[s]??s;l&&(r+=`-${l}`);const u=r.match(/\s|\//),f=n.match(/\s|\//);if(u||f){const h=[`Unable to register library "${r}" with version "${n}":`];u&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Sn.warn(h.join(" "));return}Or(new Gs(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebase-heartbeat-database",VS=1,Ys="firebase-heartbeat-store";let Ac=null;function tg(){return Ac||(Ac=iS(YS,VS,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Ys)}catch(l){console.warn(l)}}}}).catch(s=>{throw Wn.create("idb-open",{originalErrorMessage:s.message})})),Ac}async function QS(s){try{const l=(await tg()).transaction(Ys),r=await l.objectStore(Ys).get(ng(s));return await l.done,r}catch(n){if(n instanceof Ws)Sn.warn(n.message);else{const l=Wn.create("idb-get",{originalErrorMessage:n?.message});Sn.warn(l.message)}}}async function e_(s,n){try{const r=(await tg()).transaction(Ys,"readwrite");await r.objectStore(Ys).put(n,ng(s)),await r.done}catch(l){if(l instanceof Ws)Sn.warn(l.message);else{const r=Wn.create("idb-set",{originalErrorMessage:l?.message});Sn.warn(r.message)}}}function ng(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=1024,KS=30;class ZS{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new PS(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>KS){const u=JS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Sn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t_(),{heartbeatsToSend:l,unsentEntries:r}=FS(this._heartbeatsCache.heartbeats),u=xr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Sn.warn(n),""}}}function t_(){return new Date().toISOString().substring(0,10)}function FS(s,n=XS){const l=[];let r=s.slice();for(const u of s){const f=l.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),n_(l)>n){f.dates.pop();break}}else if(l.push({agent:u.agent,dates:[u.date]}),n_(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class PS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wb()?Mb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await QS(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function n_(s){return xr(JSON.stringify({version:2,heartbeats:s})).length}function JS(s){if(s.length===0)return-1;let n=0,l=s[0].date;for(let r=1;r<s.length;r++)s[r].date<l&&(l=s[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(s){Or(new Gs("platform-logger",n=>new aS(n),"PRIVATE")),Or(new Gs("heartbeat",n=>new ZS(n),"PRIVATE")),vl(qc,Wp,s),vl(qc,Wp,"esm2020"),vl("fire-js","")}WS("");var $S="firebase",e1="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vl($S,e1,"app");var i_={};const l_="@firebase/database",s_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig="";function t1(s){ig=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Qe(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:qs(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return Tn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new n1(n)}}catch{}return new i1},Ci=lg("localStorage"),l1=lg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new J_("@firebase/database"),s1=(function(){let s=1;return function(){return s++}})(),sg=function(s){const n=kb(s),l=new jb;l.update(n);const r=l.digest();return sf.encodeByteArray(r)},$s=function(...s){let n="";for(let l=0;l<s.length;l++){const r=s[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=$s.apply(null,r):typeof r=="object"?n+=Qe(r):n+=r,n+=" "}return n};let Ls=null,a_=!0;const a1=function(s,n){k(!0,"Can't turn on custom loggers persistently."),bl.logLevel=Ne.VERBOSE,Ls=bl.log.bind(bl)},ft=function(...s){if(a_===!0&&(a_=!1,Ls===null&&l1.get("logging_enabled")===!0&&a1()),Ls){const n=$s.apply(null,s);Ls(n)}},ea=function(s){return function(...n){ft(s,...n)}},Vc=function(...s){const n="FIREBASE INTERNAL ERROR: "+$s(...s);bl.error(n)},En=function(...s){const n=`FIREBASE FATAL ERROR: ${$s(...s)}`;throw bl.error(n),new Error(n)},St=function(...s){const n="FIREBASE WARNING: "+$s(...s);bl.warn(n)},r1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ag=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},o1=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Tl="[MIN_NAME]",Ai="[MAX_NAME]",Rl=function(s,n){if(s===n)return 0;if(s===Tl||n===Ai)return-1;if(n===Tl||s===Ai)return 1;{const l=r_(s),r=r_(n);return l!==null?r!==null?l-r===0?s.length-n.length:l-r:-1:r!==null?1:s<n?-1:1}},u1=function(s,n){return s===n?0:s<n?-1:1},Ds=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+Qe(n))},uf=function(s){if(typeof s!="object"||s===null)return Qe(s);const n=[];for(const r in s)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=Qe(n[r]),l+=":",l+=uf(s[n[r]]);return l+="}",l},rg=function(s,n){const l=s.length;if(l<=n)return[s];const r=[];for(let u=0;u<l;u+=n)u+n>l?r.push(s.substring(u,l)):r.push(s.substring(u,u+n));return r};function Et(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const og=function(s){k(!ag(s),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let u,f,h,m,_;s===0?(f=0,h=0,u=1/s===-1/0?1:0):(u=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),f=m+r,h=Math.round(s*Math.pow(2,l-m)-Math.pow(2,l))):(f=0,h=Math.round(s/Math.pow(2,1-r-l))));const p=[];for(_=l;_;_-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(_=n;_;_-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(u?1:0),p.reverse();const y=p.join("");let v="";for(_=0;_<64;_+=8){let b=parseInt(y.substr(_,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},c1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},f1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function h1(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const r=new Error(s+" at "+n._path.toString()+": "+l);return r.code=s.toUpperCase(),r}const d1=new RegExp("^-?(0*)\\d{1,10}$"),m1=-2147483648,p1=2147483647,r_=function(s){if(d1.test(s)){const n=Number(s);if(n>=m1&&n<=p1)return n}return null},Ol=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw St("Exception was thrown by user callback.",l),n},Math.floor(0))}},_1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Is=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,HS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(n)}}class Cr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Cr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="5",ug="v",cg="s",fg="r",hg="f",dg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mg="ls",pg="p",Qc="ac",_g="websocket",gg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(n,l,r,u,f=!1,h="",m=!1,_=!1,p=null){this.secure=l,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=_,this.emulatorOptions=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ci.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ci.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function v1(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function vg(s,n,l){k(typeof n=="string","typeof type must == string"),k(typeof l=="object","typeof params must == object");let r;if(n===_g)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===gg)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);v1(s)&&(l.ns=s.namespace);const u=[];return Et(l,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.counters_={}}incrementCounter(n,l=1){Tn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return pb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc={},Rc={};function ff(s){const n=s.toString();return Nc[n]||(Nc[n]=new b1),Nc[n]}function S1(s,n){const l=s.toString();return Rc[l]||(Rc[l]=n()),Rc[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&Ol(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="start",T1="close",C1="pLPCommand",x1="pRTLPCB",bg="id",Sg="pw",Eg="ser",A1="cb",N1="seg",R1="ts",O1="d",D1="dframe",Tg=1870,Cg=30,w1=Tg-Cg,M1=25e3,U1=3e4;class gl{constructor(n,l,r,u,f,h,m){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ea(n),this.stats_=ff(l),this.urlFn=_=>(this.appCheckToken&&(_[Qc]=this.appCheckToken),vg(l,gg,_))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new E1(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(U1)),o1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hf((...f)=>{const[h,m,_,p,y]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===o_)this.id=m,this.password=_;else if(h===T1)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[o_]="t",r[Eg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[A1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ug]=cf,this.transportSessionId&&(r[cg]=this.transportSessionId),this.lastSessionId&&(r[mg]=this.lastSessionId),this.applicationId&&(r[pg]=this.applicationId),this.appCheckToken&&(r[Qc]=this.appCheckToken),typeof location<"u"&&location.hostname&&dg.test(location.hostname)&&(r[fg]=hg);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gl.forceAllow_=!0}static forceDisallow(){gl.forceDisallow_=!0}static isAvailable(){return gl.forceAllow_?!0:!gl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!c1()&&!f1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=Qe(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=V_(l),u=rg(r,w1);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[D1]="t",r[bg]=n,r[Sg]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=Qe(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class hf{constructor(n,l,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=s1(),window[C1+this.uniqueCallbackIdentifier]=n,window[x1+this.uniqueCallbackIdentifier]=l,this.myIFrame=hf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){ft("frame writing exception"),m.stack&&ft(m.stack),ft(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||ft("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[bg]=this.myID,n[Sg]=this.myPW,n[Eg]=this.currentSerial;let l=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Cg+r.length<=Tg;){const h=this.pendingSegs.shift();r=r+"&"+N1+u+"="+h.seg+"&"+R1+u+"="+h.ts+"&"+O1+u+"="+h.d,u++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},u=setTimeout(r,Math.floor(M1)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{ft("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=16384,L1=45e3;let Dr=null;typeof MozWebSocket<"u"?Dr=MozWebSocket:typeof WebSocket<"u"&&(Dr=WebSocket);class Qt{constructor(n,l,r,u,f,h,m){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ea(this.connId),this.stats_=ff(l),this.connURL=Qt.connectionURL_(l,h,m,u,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,u,f){const h={};return h[ug]=cf,typeof location<"u"&&location.hostname&&dg.test(location.hostname)&&(h[fg]=hg),l&&(h[cg]=l),r&&(h[mg]=r),u&&(h[Qc]=u),f&&(h[pg]=f),vg(n,_g,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ci.set("previous_websocket_failure",!0);try{let r;Db(),this.mySock=new Dr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Qt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Dr!==null&&!Qt.forceDisallow_}static previouslyFailed(){return Ci.isInMemoryStorage||Ci.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ci.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=qs(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(k(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=Qe(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=rg(l,z1);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(L1))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qt.responsesRequiredToBeHealthy=2;Qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static get ALL_TRANSPORTS(){return[gl,Qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=Qt&&Qt.isAvailable();let r=l&&!Qt.previouslyFailed();if(n.webSocketOnly&&(l||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qt];else{const u=this.transports_=[];for(const f of Vs.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);Vs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=6e4,B1=5e3,H1=10*1024,j1=100*1024,Oc="t",u_="d",k1="s",c_="r",q1="e",f_="o",h_="a",d_="n",m_="p",G1="h";class Y1{constructor(n,l,r,u,f,h,m,_,p,y){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=_,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ea("c:"+this.id+":"),this.transportManager_=new Vs(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=Is(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>j1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>H1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Oc in n){const l=n[Oc];l===h_?this.upgradeIfSecondaryHealthy_():l===c_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===f_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Ds("t",n),r=Ds("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:m_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:h_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:d_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Ds("t",n),r=Ds("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Ds(Oc,n);if(u_ in n){const r=n[u_];if(l===G1){const u={...r};this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(l===d_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===k1?this.onConnectionShutdown_(r):l===c_?this.onReset_(r):l===q1?Vc("Server Error: "+r):l===f_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vc("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),cf!==r&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),Is(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(I1))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Is(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(B1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:m_,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ci.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{put(n,l,r,u){}merge(n,l,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(n){this.allowedEvents_=n,this.listeners_={},k(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const u=this.getInitialEvent(n);u&&l.apply(r,u)}off(n,l,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===l&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){k(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Ag{static getInstance(){return new wr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Z_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return k(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=32,__=768;class xe{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function de(){return new xe("")}function ae(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ti(s){return s.pieces_.length-s.pieceNum_}function Re(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new xe(s.pieces_,n)}function Ng(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function V1(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function Rg(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function Og(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new xe(n,0)}function Xe(s,n){const l=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)l.push(s.pieces_[r]);if(n instanceof xe)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&l.push(r[u])}return new xe(l,0)}function ce(s){return s.pieceNum_>=s.pieces_.length}function dt(s,n){const l=ae(s),r=ae(n);if(l===null)return n;if(l===r)return dt(Re(s),Re(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function df(s,n){if(ti(s)!==ti(n))return!1;for(let l=s.pieceNum_,r=n.pieceNum_;l<=s.pieces_.length;l++,r++)if(s.pieces_[l]!==n.pieces_[r])return!1;return!0}function Xt(s,n){let l=s.pieceNum_,r=n.pieceNum_;if(ti(s)>ti(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class Q1{constructor(n,l){this.errorPrefix_=l,this.parts_=Rg(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vr(this.parts_[r]);Dg(this)}}function X1(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=Vr(n),Dg(s)}function K1(s){const n=s.parts_.pop();s.byteLength_-=Vr(n),s.parts_.length>0&&(s.byteLength_-=1)}function Dg(s){if(s.byteLength_>__)throw new Error(s.errorPrefix_+"has a key path longer than "+__+" bytes ("+s.byteLength_+").");if(s.parts_.length>p_)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+p_+") or object contains a cycle "+Ti(s))}function Ti(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends Ag{static getInstance(){return new mf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return k(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=1e3,Z1=300*1e3,g_=30*1e3,F1=1.3,P1=3e4,J1="server_kill",y_=3;class bn extends xg{constructor(n,l,r,u,f,h,m,_){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=bn.nextPersistentConnectionId_++,this.log_=ea("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ws,this.maxReconnectDelay_=Z1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&wr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const u=++this.requestNumber_,f={r:u,a:n,b:l};this.log_(Qe(f)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const l=new Yr,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?l.resolve(m):l.reject(m)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),k(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:u,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),u=l._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,m=>{const _=m.d,p=m.s;bn.warnOnListenWarnings_(_,l),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(p,_))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&Tn(n,"w")){const r=El(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Bb(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=g_)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=Ib(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),k(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,l)}sendUnlisten_(n,l,r,u){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,u){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,l,r,u){this.putInternal("p",n,l,r,u)}merge(n,l,r,u){this.putInternal("m",n,l,r,u)}putInternal(n,l,r,u,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Qe(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Vc("Unrecognized action received from server: "+Qe(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>P1&&(this.reconnectDelay_=ws),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*F1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+bn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const _=function(){m?m.close():(h=!0,r())},p=function(v){k(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(v)};this.realtime_={close:_,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,m=new Y1(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,O=>{St(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(J1)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&St(v),_())}}}interrupt(n){ft("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ft("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Kp(this.interruptReasons_)&&(this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>uf(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,l){const r=new xe(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,l){ft("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=y_&&(this.reconnectDelay_=g_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){ft("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=y_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+ig.replace(/\./g,"-")]=1,Z_()?n["framework.cordova"]=1:Ob()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=wr.getInstance().currentlyOnline();return Kp(this.interruptReasons_)&&n}}bn.nextPersistentConnectionId_=0;bn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new re(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new re(Tl,n),u=new re(Tl,l);return this.compare(r,u)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er;class wg extends Qr{static get __EMPTY_NODE(){return Er}static set __EMPTY_NODE(n){Er=n}compare(n,l){return Rl(n.name,l.name)}isDefinedOn(n){throw Al("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return re.MIN}maxPost(){return new re(Ai,Er)}makePost(n,l){return k(typeof n=="string","KeyIndex indexValue must always be a string."),new re(n,Er)}toString(){return".key"}}const Sl=new wg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(n,l,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class nt{constructor(n,l,r,u,f){this.key=n,this.value=l,this.color=r??nt.RED,this.left=u??bt.EMPTY_NODE,this.right=f??bt.EMPTY_NODE}copy(n,l,r,u,f){return new nt(n??this.key,l??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,l,r),null):f===0?u=u.copy(null,l,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,l,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return bt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,u;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return bt.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}nt.RED=!0;nt.BLACK=!1;class W1{copy(n,l,r,u,f){return this}insert(n,l,r){return new nt(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class bt{constructor(n,l=bt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new bt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,nt.BLACK,null,null))}remove(n){return new bt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,nt.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,u=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Tr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Tr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Tr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Tr(this.root_,null,this.comparator_,!0,n)}}bt.EMPTY_NODE=new W1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(s,n){return Rl(s.name,n.name)}function pf(s,n){return Rl(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc;function eE(s){Xc=s}const Mg=function(s){return typeof s=="number"?"number:"+og(s):"string:"+s},Ug=function(s){if(s.isLeafNode()){const n=s.val();k(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Tn(n,".sv"),"Priority must be a string or number.")}else k(s===Xc||s.isEmpty(),"priority of unexpected type.");k(s===Xc||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_;class tt{static set __childrenNodeConstructor(n){v_=n}static get __childrenNodeConstructor(){return v_}constructor(n,l=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ug(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new tt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ce(n)?this:ae(n)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=ae(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(k(r!==".priority"||ti(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Mg(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=og(this.value_):n+=this.value_,this.lazyHash_=sg(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===tt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof tt.__childrenNodeConstructor?-1:(k(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,u=tt.VALUE_TYPE_ORDER.indexOf(l),f=tt.VALUE_TYPE_ORDER.indexOf(r);return k(u>=0,"Unknown leaf type: "+l),k(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg,Lg;function tE(s){zg=s}function nE(s){Lg=s}class iE extends Qr{compare(n,l){const r=n.node.getPriority(),u=l.node.getPriority(),f=r.compareTo(u);return f===0?Rl(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Ai,new tt("[PRIORITY-POST]",Lg))}makePost(n,l){const r=zg(n);return new re(l,new tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Le=new iE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=Math.log(2);class sE{constructor(n){const l=f=>parseInt(Math.log(f)/lE,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Mr=function(s,n,l,r){s.sort(n);const u=function(_,p){const y=p-_;let v,b;if(y===0)return null;if(y===1)return v=s[_],b=l?l(v):v,new nt(b,v.node,nt.BLACK,null,null);{const O=parseInt(y/2,10)+_,B=u(_,O),I=u(O+1,p);return v=s[O],b=l?l(v):v,new nt(b,v.node,nt.BLACK,B,I)}},f=function(_){let p=null,y=null,v=s.length;const b=function(B,I){const V=v-B,K=v;v-=B;const X=u(V+1,K),ee=s[V],Te=l?l(ee):ee;O(new nt(Te,ee.node,I,null,X))},O=function(B){p?(p.left=B,p=B):(y=B,p=B)};for(let B=0;B<_.count;++B){const I=_.nextBitIsOne(),V=Math.pow(2,_.count-(B+1));I?b(V,nt.BLACK):(b(V,nt.BLACK),b(V,nt.RED))}return y},h=new sE(s.length),m=f(h);return new bt(r||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;const _l={};class vn{static get Default(){return k(_l&&Le,"ChildrenNode.ts has not been loaded"),Dc=Dc||new vn({".priority":_l},{".priority":Le}),Dc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=El(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof bt?l:null}hasIndex(n){return Tn(this.indexSet_,n.toString())}addIndex(n,l){k(n!==Sl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=l.getIterator(re.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let m;u?m=Mr(r,n.getCompare()):m=_l;const _=n.toString(),p={...this.indexSet_};p[_]=n;const y={...this.indexes_};return y[_]=m,new vn(y,p)}addToIndexes(n,l){const r=Ar(this.indexes_,(u,f)=>{const h=El(this.indexSet_,f);if(k(h,"Missing index implementation for "+f),u===_l)if(h.isDefinedOn(n.node)){const m=[],_=l.getIterator(re.Wrap);let p=_.getNext();for(;p;)p.name!==n.name&&m.push(p),p=_.getNext();return m.push(n),Mr(m,h.getCompare())}else return _l;else{const m=l.get(n.name);let _=u;return m&&(_=_.remove(new re(n.name,m))),_.insert(n,n.node)}});return new vn(r,this.indexSet_)}removeFromIndexes(n,l){const r=Ar(this.indexes_,u=>{if(u===_l)return u;{const f=l.get(n.name);return f?u.remove(new re(n.name,f)):u}});return new vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms;class W{static get EMPTY_NODE(){return Ms||(Ms=new W(new bt(pf),null,vn.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ug(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ms}updatePriority(n){return this.children_.isEmpty()?this:new W(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?Ms:l}}getChild(n){const l=ae(n);return l===null?this:this.getImmediateChild(l).getChild(Re(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(k(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new re(n,l);let u,f;l.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?Ms:this.priorityNode_;return new W(u,h,f)}}updateChild(n,l){const r=ae(n);if(r===null)return l;{k(ae(n)!==".priority"||ti(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(Re(n),l);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,u=0,f=!0;if(this.forEachChild(Le,(h,m)=>{l[h]=m.val(n),r++,f&&W.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const m in l)h[m]=l[m];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Mg(this.getPriority().val())+":"),this.forEachChild(Le,(l,r)=>{const u=r.hash();u!==""&&(n+=":"+l+":"+u)}),this.lazyHash_=n===""?"":sg(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new re(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new re(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new re(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>l(u.name,u.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,re.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,re.Wrap);let f=u.peek();for(;f!=null&&l.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ta?-1:0}withIndex(n){if(n===Sl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new W(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Sl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(Le),u=l.getIterator(Le);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Sl?null:this.indexMap_.get(n.toString())}}W.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aE extends W{constructor(){super(new bt(pf),W.EMPTY_NODE,vn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return W.EMPTY_NODE}isEmpty(){return!1}}const ta=new aE;Object.defineProperties(re,{MIN:{value:new re(Tl,W.EMPTY_NODE)},MAX:{value:new re(Ai,ta)}});wg.__EMPTY_NODE=W.EMPTY_NODE;tt.__childrenNodeConstructor=W;eE(ta);nE(ta);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=!0;function lt(s,n=null){if(s===null)return W.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),k(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new tt(l,lt(n))}if(!(s instanceof Array)&&rE){const l=[];let r=!1;if(Et(s,(h,m)=>{if(h.substring(0,1)!=="."){const _=lt(m);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),l.push(new re(h,_)))}}),l.length===0)return W.EMPTY_NODE;const f=Mr(l,$1,h=>h.name,pf);if(r){const h=Mr(l,Le.getCompare());return new W(f,lt(n),new vn({".priority":h},{".priority":Le}))}else return new W(f,lt(n),vn.Default)}else{let l=W.EMPTY_NODE;return Et(s,(r,u)=>{if(Tn(s,r)&&r.substring(0,1)!=="."){const f=lt(u);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(lt(n))}}tE(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends Qr{constructor(n){super(),this.indexPath_=n,k(!ce(n)&&ae(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),u=this.extractChild(l.node),f=r.compareTo(u);return f===0?Rl(n.name,l.name):f}makePost(n,l){const r=lt(n),u=W.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(l,u)}maxPost(){const n=W.EMPTY_NODE.updateChild(this.indexPath_,ta);return new re(Ai,n)}toString(){return Rg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Qr{compare(n,l){const r=n.node.compareTo(l.node);return r===0?Rl(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(n,l){const r=lt(n);return new re(l,r)}toString(){return".value"}}const cE=new uE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(s){return{type:"value",snapshotNode:s}}function Cl(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function Qs(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Xs(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function fE(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(n){this.index_=n}updateChild(n,l,r,u,f,h){k(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(l);return m.getChild(u).equals(r.getChild(u))&&m.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(Qs(l,m)):k(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Cl(l,r)):h.trackChildChange(Xs(l,r,m))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Le,(u,f)=>{l.hasChild(u)||r.trackChildChange(Qs(u,f))}),l.isLeafNode()||l.forEachChild(Le,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(Xs(u,f,h))}else r.trackChildChange(Cl(u,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?W.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(n){this.indexedFilter_=new _f(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ks.getStartPost_(n),this.endPost_=Ks.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,u,f,h){return this.matches(new re(l,r))||(r=W.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,u,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=W.EMPTY_NODE);let u=l.withIndex(this.index_);u=u.updatePriority(W.EMPTY_NODE);const f=this;return l.forEachChild(Le,(h,m)=>{f.matches(new re(h,m))||(u=u.updateImmediateChild(h,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ks(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,u,f,h){return this.rangedFilter_.matches(new re(l,r))||(r=W.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,u,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let u;if(l.isLeafNode()||l.isEmpty())u=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){u=W.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))u=u.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{u=l.withIndex(this.index_),u=u.updatePriority(W.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:u=u.updateImmediateChild(m.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,u,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(b,O)=>v(O,b)}else h=this.index_.getCompare();const m=n;k(m.numChildren()===this.limit_,"");const _=new re(l,r),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),y=this.rangedFilter_.matches(_);if(m.hasChild(l)){const v=m.getImmediateChild(l);let b=u.getChildAfterChild(this.index_,p,this.reverse_);for(;b!=null&&(b.name===l||m.hasChild(b.name));)b=u.getChildAfterChild(this.index_,b,this.reverse_);const O=b==null?1:h(b,_);if(y&&!r.isEmpty()&&O>=0)return f?.trackChildChange(Xs(l,r,v)),m.updateImmediateChild(l,r);{f?.trackChildChange(Qs(l,v));const I=m.updateImmediateChild(l,W.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(f?.trackChildChange(Cl(b.name,b.node)),I.updateImmediateChild(b.name,b.node)):I}}else return r.isEmpty()?n:y&&h(p,_)>=0?(f!=null&&(f.trackChildChange(Qs(p.name,p.node)),f.trackChildChange(Cl(l,r))),m.updateImmediateChild(l,r).updateImmediateChild(p.name,W.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tl}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ai}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const n=new gf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function dE(s){return s.loadsAllData()?new _f(s.getIndex()):s.hasLimit()?new hE(s):new Ks(s)}function b_(s){const n={};if(s.isDefault())return n;let l;if(s.index_===Le?l="$priority":s.index_===cE?l="$value":s.index_===Sl?l="$key":(k(s.index_ instanceof oE,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=Qe(l),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";n[r]=Qe(s.indexStartValue_),s.startNameSet_&&(n[r]+=","+Qe(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";n[r]=Qe(s.indexEndValue_),s.endNameSet_&&(n[r]+=","+Qe(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function S_(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==Le&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends xg{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(k(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=ea("p:rest:"),this.listens_={}}listen(n,l,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Ur.getListenId_(n,r),m={};this.listens_[h]=m;const _=b_(n._queryParams);this.restRequest_(f+".json",_,(p,y)=>{let v=y;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(f,v,!1,r),El(this.listens_,h)===m){let b;p?p===401?b="permission_denied":b="rest_error:"+p:b="ok",u(b,null)}})}unlisten(n,l){const r=Ur.getListenId_(n,l);delete this.listens_[r]}get(n){const l=b_(n._queryParams),r=n._path.toString(),u=new Yr;return this.restRequest_(r+".json",l,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(r,m,!1,null),u.resolve(m)):u.reject(new Error(m))}),u.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(l.auth=u.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+Hb(l);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let _=null;if(m.status>=200&&m.status<300){try{_=qs(m.responseText)}catch{St("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,_)}else m.status!==401&&m.status!==404&&St("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return{value:null,children:new Map}}function Bg(s,n,l){if(ce(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const r=ae(n);s.children.has(r)||s.children.set(r,zr());const u=s.children.get(r);n=Re(n),Bg(u,n,l)}}function Kc(s,n,l){s.value!==null?l(n,s.value):pE(s,(r,u)=>{const f=new xe(n.toString()+"/"+r);Kc(u,f,l)})}function pE(s,n){s.children.forEach((l,r)=>{n(r,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&Et(this.last_,(r,u)=>{l[r]=l[r]-u}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=10*1e3,gE=30*1e3,yE=300*1e3;class vE{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new _E(n);const r=E_+(gE-E_)*Math.random();Is(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;Et(n,(u,f)=>{f>0&&Tn(this.statsToReport_,u)&&(l[u]=f,r=!0)}),r&&this.server_.reportStats(l),Is(this.reportStats_.bind(this),Math.floor(Math.random()*2*yE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Kt||(Kt={}));function Hg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vf(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=Kt.ACK_USER_WRITE,this.source=Hg()}operationForChild(n){if(ce(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new xe(n));return new Lr(de(),l,this.revert)}}else return k(ae(this.path)===n,"operationForChild called for unrelated child."),new Lr(Re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(n,l){this.source=n,this.path=l,this.type=Kt.LISTEN_COMPLETE}operationForChild(n){return ce(this.path)?new Zs(this.source,de()):new Zs(this.source,Re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=Kt.OVERWRITE}operationForChild(n){return ce(this.path)?new Ni(this.source,de(),this.snap.getImmediateChild(n)):new Ni(this.source,Re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=Kt.MERGE}operationForChild(n){if(ce(this.path)){const l=this.children.subtree(new xe(n));return l.isEmpty()?null:l.value?new Ni(this.source,de(),l.value):new Fs(this.source,de(),l)}else return k(ae(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Fs(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ce(n))return this.isFullyInitialized()&&!this.filtered_;const l=ae(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function SE(s,n,l,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(fE(h.childName,h.snapshotNode))}),Us(s,u,"child_removed",n,r,l),Us(s,u,"child_added",n,r,l),Us(s,u,"child_moved",f,r,l),Us(s,u,"child_changed",n,r,l),Us(s,u,"value",n,r,l),u}function Us(s,n,l,r,u,f){const h=r.filter(m=>m.type===l);h.sort((m,_)=>TE(s,m,_)),h.forEach(m=>{const _=EE(s,m,f);u.forEach(p=>{p.respondsTo(m.type)&&n.push(p.createEvent(_,s.query_))})})}function EE(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function TE(s,n,l){if(n.childName==null||l.childName==null)throw Al("Should only compare child_ events.");const r=new re(n.childName,n.snapshotNode),u=new re(l.childName,l.snapshotNode);return s.index_.compare(r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(s,n){return{eventCache:s,serverCache:n}}function Bs(s,n,l,r){return Xr(new ni(n,l,r),s.serverCache)}function jg(s,n,l,r){return Xr(s.eventCache,new ni(n,l,r))}function Ir(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Ri(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc;const CE=()=>(wc||(wc=new bt(u1)),wc);class Oe{static fromObject(n){let l=new Oe(null);return Et(n,(r,u)=>{l=l.set(new xe(r),u)}),l}constructor(n,l=CE()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:de(),value:this.value};if(ce(n))return null;{const r=ae(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(Re(n),l);return f!=null?{path:Xe(new xe(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ce(n))return this;{const l=ae(n),r=this.children.get(l);return r!==null?r.subtree(Re(n)):new Oe(null)}}set(n,l){if(ce(n))return new Oe(l,this.children);{const r=ae(n),f=(this.children.get(r)||new Oe(null)).set(Re(n),l),h=this.children.insert(r,f);return new Oe(this.value,h)}}remove(n){if(ce(n))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const l=ae(n),r=this.children.get(l);if(r){const u=r.remove(Re(n));let f;return u.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,u),this.value===null&&f.isEmpty()?new Oe(null):new Oe(this.value,f)}else return this}}get(n){if(ce(n))return this.value;{const l=ae(n),r=this.children.get(l);return r?r.get(Re(n)):null}}setTree(n,l){if(ce(n))return l;{const r=ae(n),f=(this.children.get(r)||new Oe(null)).setTree(Re(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Oe(this.value,h)}}fold(n){return this.fold_(de(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(Xe(n,u),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,de(),l)}findOnPath_(n,l,r){const u=this.value?r(l,this.value):!1;if(u)return u;if(ce(n))return null;{const f=ae(n),h=this.children.get(f);return h?h.findOnPath_(Re(n),Xe(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,de(),l)}foreachOnPath_(n,l,r){if(ce(n))return this;{this.value&&r(l,this.value);const u=ae(n),f=this.children.get(u);return f?f.foreachOnPath_(Re(n),Xe(l,u),r):new Oe(null)}}foreach(n){this.foreach_(de(),n)}foreach_(n,l){this.children.inorderTraversal((r,u)=>{u.foreach_(Xe(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(n){this.writeTree_=n}static empty(){return new Zt(new Oe(null))}}function Hs(s,n,l){if(ce(n))return new Zt(new Oe(l));{const r=s.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=dt(u,n);return f=f.updateChild(h,l),new Zt(s.writeTree_.set(u,f))}else{const u=new Oe(l),f=s.writeTree_.setTree(n,u);return new Zt(f)}}}function T_(s,n,l){let r=s;return Et(l,(u,f)=>{r=Hs(r,Xe(n,u),f)}),r}function C_(s,n){if(ce(n))return Zt.empty();{const l=s.writeTree_.setTree(n,new Oe(null));return new Zt(l)}}function Zc(s,n){return Di(s,n)!=null}function Di(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(dt(l.path,n)):null}function x_(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Le,(r,u)=>{n.push(new re(r,u))}):s.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new re(r,u.value))}),n}function $n(s,n){if(ce(n))return s;{const l=Di(s,n);return l!=null?new Zt(new Oe(l)):new Zt(s.writeTree_.subtree(n))}}function Fc(s){return s.writeTree_.isEmpty()}function xl(s,n){return kg(de(),s.writeTree_,n)}function kg(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(k(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=kg(Xe(s,u),f,l)}),!l.getChild(s).isEmpty()&&r!==null&&(l=l.updateChild(Xe(s,".priority"),r)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(s,n){return Vg(n,s)}function xE(s,n,l,r,u){k(r>s.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),s.allWrites.push({path:n,snap:l,writeId:r,visible:u}),u&&(s.visibleWrites=Hs(s.visibleWrites,n,l)),s.lastWriteId=r}function AE(s,n){for(let l=0;l<s.allWrites.length;l++){const r=s.allWrites[l];if(r.writeId===n)return r}return null}function NE(s,n){const l=s.allWrites.findIndex(m=>m.writeId===n);k(l>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[l];s.allWrites.splice(l,1);let u=r.visible,f=!1,h=s.allWrites.length-1;for(;u&&h>=0;){const m=s.allWrites[h];m.visible&&(h>=l&&RE(m,r.path)?u=!1:Xt(r.path,m.path)&&(f=!0)),h--}if(u){if(f)return OE(s),!0;if(r.snap)s.visibleWrites=C_(s.visibleWrites,r.path);else{const m=r.children;Et(m,_=>{s.visibleWrites=C_(s.visibleWrites,Xe(r.path,_))})}return!0}else return!1}function RE(s,n){if(s.snap)return Xt(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&Xt(Xe(s.path,l),n))return!0;return!1}function OE(s){s.visibleWrites=qg(s.allWrites,DE,de()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function DE(s){return s.visible}function qg(s,n,l){let r=Zt.empty();for(let u=0;u<s.length;++u){const f=s[u];if(n(f)){const h=f.path;let m;if(f.snap)Xt(l,h)?(m=dt(l,h),r=Hs(r,m,f.snap)):Xt(h,l)&&(m=dt(h,l),r=Hs(r,de(),f.snap.getChild(m)));else if(f.children){if(Xt(l,h))m=dt(l,h),r=T_(r,m,f.children);else if(Xt(h,l))if(m=dt(h,l),ce(m))r=T_(r,de(),f.children);else{const _=El(f.children,ae(m));if(_){const p=_.getChild(Re(m));r=Hs(r,de(),p)}}}else throw Al("WriteRecord should have .snap or .children")}}return r}function Gg(s,n,l,r,u){if(!r&&!u){const f=Di(s.visibleWrites,n);if(f!=null)return f;{const h=$n(s.visibleWrites,n);if(Fc(h))return l;if(l==null&&!Zc(h,de()))return null;{const m=l||W.EMPTY_NODE;return xl(h,m)}}}else{const f=$n(s.visibleWrites,n);if(!u&&Fc(f))return l;if(!u&&l==null&&!Zc(f,de()))return null;{const h=function(p){return(p.visible||u)&&(!r||!~r.indexOf(p.writeId))&&(Xt(p.path,n)||Xt(n,p.path))},m=qg(s.allWrites,h,n),_=l||W.EMPTY_NODE;return xl(m,_)}}}function wE(s,n,l){let r=W.EMPTY_NODE;const u=Di(s.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(Le,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=$n(s.visibleWrites,n);return l.forEachChild(Le,(h,m)=>{const _=xl($n(f,new xe(h)),m);r=r.updateImmediateChild(h,_)}),x_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=$n(s.visibleWrites,n);return x_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function ME(s,n,l,r,u){k(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=Xe(n,l);if(Zc(s.visibleWrites,f))return null;{const h=$n(s.visibleWrites,f);return Fc(h)?u.getChild(l):xl(h,u.getChild(l))}}function UE(s,n,l,r){const u=Xe(n,l),f=Di(s.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=$n(s.visibleWrites,u);return xl(h,r.getNode().getImmediateChild(l))}else return null}function zE(s,n){return Di(s.visibleWrites,n)}function LE(s,n,l,r,u,f,h){let m;const _=$n(s.visibleWrites,n),p=Di(_,de());if(p!=null)m=p;else if(l!=null)m=xl(_,l);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const y=[],v=h.getCompare(),b=f?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let O=b.getNext();for(;O&&y.length<u;)v(O,r)!==0&&y.push(O),O=b.getNext();return y}else return[]}function IE(){return{visibleWrites:Zt.empty(),allWrites:[],lastWriteId:-1}}function Br(s,n,l,r){return Gg(s.writeTree,s.treePath,n,l,r)}function bf(s,n){return wE(s.writeTree,s.treePath,n)}function A_(s,n,l,r){return ME(s.writeTree,s.treePath,n,l,r)}function Hr(s,n){return zE(s.writeTree,Xe(s.treePath,n))}function BE(s,n,l,r,u,f){return LE(s.writeTree,s.treePath,n,l,r,u,f)}function Sf(s,n,l){return UE(s.writeTree,s.treePath,n,l)}function Yg(s,n){return Vg(Xe(s.treePath,n),s.writeTree)}function Vg(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;k(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),k(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,Xs(r,n.snapshotNode,u.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,Qs(r,u.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,Cl(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,Xs(r,n.snapshotNode,u.oldSnap));else throw Al("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const Qg=new jE;class Ef{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new ni(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ri(this.viewCache_),f=BE(this.writes_,u,l,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(s){return{filter:s}}function qE(s,n){k(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),k(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function GE(s,n,l,r,u){const f=new HE;let h,m;if(l.type===Kt.OVERWRITE){const p=l;p.source.fromUser?h=Pc(s,n,p.path,p.snap,r,u,f):(k(p.source.fromServer,"Unknown source."),m=p.source.tagged||n.serverCache.isFiltered()&&!ce(p.path),h=jr(s,n,p.path,p.snap,r,u,m,f))}else if(l.type===Kt.MERGE){const p=l;p.source.fromUser?h=VE(s,n,p.path,p.children,r,u,f):(k(p.source.fromServer,"Unknown source."),m=p.source.tagged||n.serverCache.isFiltered(),h=Jc(s,n,p.path,p.children,r,u,m,f))}else if(l.type===Kt.ACK_USER_WRITE){const p=l;p.revert?h=KE(s,n,p.path,r,u,f):h=QE(s,n,p.path,p.affectedTree,r,u,f)}else if(l.type===Kt.LISTEN_COMPLETE)h=XE(s,n,l.path,r,f);else throw Al("Unknown operation type: "+l.type);const _=f.getChanges();return YE(n,h,_),{viewCache:h,changes:_}}function YE(s,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Ir(s);(l.length>0||!s.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(Ig(Ir(n)))}}function Xg(s,n,l,r,u,f){const h=n.eventCache;if(Hr(r,l)!=null)return n;{let m,_;if(ce(l))if(k(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const p=Ri(n),y=p instanceof W?p:W.EMPTY_NODE,v=bf(r,y);m=s.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const p=Br(r,Ri(n));m=s.filter.updateFullNode(n.eventCache.getNode(),p,f)}else{const p=ae(l);if(p===".priority"){k(ti(l)===1,"Can't have a priority with additional path components");const y=h.getNode();_=n.serverCache.getNode();const v=A_(r,l,y,_);v!=null?m=s.filter.updatePriority(y,v):m=h.getNode()}else{const y=Re(l);let v;if(h.isCompleteForChild(p)){_=n.serverCache.getNode();const b=A_(r,l,h.getNode(),_);b!=null?v=h.getNode().getImmediateChild(p).updateChild(y,b):v=h.getNode().getImmediateChild(p)}else v=Sf(r,p,n.serverCache);v!=null?m=s.filter.updateChild(h.getNode(),p,v,y,u,f):m=h.getNode()}}return Bs(n,m,h.isFullyInitialized()||ce(l),s.filter.filtersNodes())}}function jr(s,n,l,r,u,f,h,m){const _=n.serverCache;let p;const y=h?s.filter:s.filter.getIndexedFilter();if(ce(l))p=y.updateFullNode(_.getNode(),r,null);else if(y.filtersNodes()&&!_.isFiltered()){const O=_.getNode().updateChild(l,r);p=y.updateFullNode(_.getNode(),O,null)}else{const O=ae(l);if(!_.isCompleteForPath(l)&&ti(l)>1)return n;const B=Re(l),V=_.getNode().getImmediateChild(O).updateChild(B,r);O===".priority"?p=y.updatePriority(_.getNode(),V):p=y.updateChild(_.getNode(),O,V,B,Qg,null)}const v=jg(n,p,_.isFullyInitialized()||ce(l),y.filtersNodes()),b=new Ef(u,v,f);return Xg(s,v,l,u,b,m)}function Pc(s,n,l,r,u,f,h){const m=n.eventCache;let _,p;const y=new Ef(u,n,f);if(ce(l))p=s.filter.updateFullNode(n.eventCache.getNode(),r,h),_=Bs(n,p,!0,s.filter.filtersNodes());else{const v=ae(l);if(v===".priority")p=s.filter.updatePriority(n.eventCache.getNode(),r),_=Bs(n,p,m.isFullyInitialized(),m.isFiltered());else{const b=Re(l),O=m.getNode().getImmediateChild(v);let B;if(ce(b))B=r;else{const I=y.getCompleteChild(v);I!=null?Ng(b)===".priority"&&I.getChild(Og(b)).isEmpty()?B=I:B=I.updateChild(b,r):B=W.EMPTY_NODE}if(O.equals(B))_=n;else{const I=s.filter.updateChild(m.getNode(),v,B,b,y,h);_=Bs(n,I,m.isFullyInitialized(),s.filter.filtersNodes())}}}return _}function N_(s,n){return s.eventCache.isCompleteForChild(n)}function VE(s,n,l,r,u,f,h){let m=n;return r.foreach((_,p)=>{const y=Xe(l,_);N_(n,ae(y))&&(m=Pc(s,m,y,p,u,f,h))}),r.foreach((_,p)=>{const y=Xe(l,_);N_(n,ae(y))||(m=Pc(s,m,y,p,u,f,h))}),m}function R_(s,n,l){return l.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function Jc(s,n,l,r,u,f,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _=n,p;ce(l)?p=r:p=new Oe(null).setTree(l,r);const y=n.serverCache.getNode();return p.children.inorderTraversal((v,b)=>{if(y.hasChild(v)){const O=n.serverCache.getNode().getImmediateChild(v),B=R_(s,O,b);_=jr(s,_,new xe(v),B,u,f,h,m)}}),p.children.inorderTraversal((v,b)=>{const O=!n.serverCache.isCompleteForChild(v)&&b.value===null;if(!y.hasChild(v)&&!O){const B=n.serverCache.getNode().getImmediateChild(v),I=R_(s,B,b);_=jr(s,_,new xe(v),I,u,f,h,m)}}),_}function QE(s,n,l,r,u,f,h){if(Hr(u,l)!=null)return n;const m=n.serverCache.isFiltered(),_=n.serverCache;if(r.value!=null){if(ce(l)&&_.isFullyInitialized()||_.isCompleteForPath(l))return jr(s,n,l,_.getNode().getChild(l),u,f,m,h);if(ce(l)){let p=new Oe(null);return _.getNode().forEachChild(Sl,(y,v)=>{p=p.set(new xe(y),v)}),Jc(s,n,l,p,u,f,m,h)}else return n}else{let p=new Oe(null);return r.foreach((y,v)=>{const b=Xe(l,y);_.isCompleteForPath(b)&&(p=p.set(y,_.getNode().getChild(b)))}),Jc(s,n,l,p,u,f,m,h)}}function XE(s,n,l,r,u){const f=n.serverCache,h=jg(n,f.getNode(),f.isFullyInitialized()||ce(l),f.isFiltered());return Xg(s,h,l,r,Qg,u)}function KE(s,n,l,r,u,f){let h;if(Hr(r,l)!=null)return n;{const m=new Ef(r,n,u),_=n.eventCache.getNode();let p;if(ce(l)||ae(l)===".priority"){let y;if(n.serverCache.isFullyInitialized())y=Br(r,Ri(n));else{const v=n.serverCache.getNode();k(v instanceof W,"serverChildren would be complete if leaf node"),y=bf(r,v)}y=y,p=s.filter.updateFullNode(_,y,f)}else{const y=ae(l);let v=Sf(r,y,n.serverCache);v==null&&n.serverCache.isCompleteForChild(y)&&(v=_.getImmediateChild(y)),v!=null?p=s.filter.updateChild(_,y,v,Re(l),m,f):n.eventCache.getNode().hasChild(y)?p=s.filter.updateChild(_,y,W.EMPTY_NODE,Re(l),m,f):p=_,p.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Br(r,Ri(n)),h.isLeafNode()&&(p=s.filter.updateFullNode(p,h,f)))}return h=n.serverCache.isFullyInitialized()||Hr(r,de())!=null,Bs(n,p,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new _f(r.getIndex()),f=dE(r);this.processor_=kE(f);const h=l.serverCache,m=l.eventCache,_=u.updateFullNode(W.EMPTY_NODE,h.getNode(),null),p=f.updateFullNode(W.EMPTY_NODE,m.getNode(),null),y=new ni(_,h.isFullyInitialized(),u.filtersNodes()),v=new ni(p,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=Xr(v,y),this.eventGenerator_=new bE(this.query_)}get query(){return this.query_}}function FE(s){return s.viewCache_.serverCache.getNode()}function PE(s){return Ir(s.viewCache_)}function JE(s,n){const l=Ri(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!ce(n)&&!l.getImmediateChild(ae(n)).isEmpty())?l.getChild(n):null}function O_(s){return s.eventRegistrations_.length===0}function WE(s,n){s.eventRegistrations_.push(n)}function D_(s,n,l){const r=[];if(l){k(n==null,"A cancel should cancel all event registrations.");const u=s.query._path;s.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<s.eventRegistrations_.length;++f){const h=s.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=u}else s.eventRegistrations_=[];return r}function w_(s,n,l,r){n.type===Kt.MERGE&&n.source.queryId!==null&&(k(Ri(s.viewCache_),"We should always have a full cache before handling merges"),k(Ir(s.viewCache_),"Missing event cache, even though we have a server cache"));const u=s.viewCache_,f=GE(s.processor_,u,n,l,r);return qE(s.processor_,f.viewCache),k(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,Kg(s,f.changes,f.viewCache.eventCache.getNode(),null)}function $E(s,n){const l=s.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Le,(f,h)=>{r.push(Cl(f,h))}),l.isFullyInitialized()&&r.push(Ig(l.getNode())),Kg(s,r,l.getNode(),n)}function Kg(s,n,l,r){const u=r?[r]:s.eventRegistrations_;return SE(s.eventGenerator_,n,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kr;class Zg{constructor(){this.views=new Map}}function eT(s){k(!kr,"__referenceConstructor has already been defined"),kr=s}function tT(){return k(kr,"Reference.ts has not been loaded"),kr}function nT(s){return s.views.size===0}function Tf(s,n,l,r){const u=n.source.queryId;if(u!==null){const f=s.views.get(u);return k(f!=null,"SyncTree gave us an op for an invalid query."),w_(f,n,l,r)}else{let f=[];for(const h of s.views.values())f=f.concat(w_(h,n,l,r));return f}}function Fg(s,n,l,r,u){const f=n._queryIdentifier,h=s.views.get(f);if(!h){let m=Br(l,u?r:null),_=!1;m?_=!0:r instanceof W?(m=bf(l,r),_=!1):(m=W.EMPTY_NODE,_=!1);const p=Xr(new ni(m,_,!1),new ni(r,u,!1));return new ZE(n,p)}return h}function iT(s,n,l,r,u,f){const h=Fg(s,n,r,u,f);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,h),WE(h,l),$E(h,l)}function lT(s,n,l,r){const u=n._queryIdentifier,f=[];let h=[];const m=ii(s);if(u==="default")for(const[_,p]of s.views.entries())h=h.concat(D_(p,l,r)),O_(p)&&(s.views.delete(_),p.query._queryParams.loadsAllData()||f.push(p.query));else{const _=s.views.get(u);_&&(h=h.concat(D_(_,l,r)),O_(_)&&(s.views.delete(u),_.query._queryParams.loadsAllData()||f.push(_.query)))}return m&&!ii(s)&&f.push(new(tT())(n._repo,n._path)),{removed:f,events:h}}function Pg(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function ei(s,n){let l=null;for(const r of s.views.values())l=l||JE(r,n);return l}function Jg(s,n){if(n._queryParams.loadsAllData())return Zr(s);{const r=n._queryIdentifier;return s.views.get(r)}}function Wg(s,n){return Jg(s,n)!=null}function ii(s){return Zr(s)!=null}function Zr(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr;function sT(s){k(!qr,"__referenceConstructor has already been defined"),qr=s}function aT(){return k(qr,"Reference.ts has not been loaded"),qr}let rT=1;class M_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=IE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $g(s,n,l,r,u){return xE(s.pendingWriteTree_,n,l,r,u),u?ia(s,new Ni(Hg(),n,l)):[]}function xi(s,n,l=!1){const r=AE(s.pendingWriteTree_,n);if(NE(s.pendingWriteTree_,n)){let f=new Oe(null);return r.snap!=null?f=f.set(de(),!0):Et(r.children,h=>{f=f.set(new xe(h),!0)}),ia(s,new Lr(r.path,f,l))}else return[]}function na(s,n,l){return ia(s,new Ni(yf(),n,l))}function oT(s,n,l){const r=Oe.fromObject(l);return ia(s,new Fs(yf(),n,r))}function uT(s,n){return ia(s,new Zs(yf(),n))}function cT(s,n,l){const r=xf(s,l);if(r){const u=Af(r),f=u.path,h=u.queryId,m=dt(f,n),_=new Zs(vf(h),m);return Nf(s,f,_)}else return[]}function Gr(s,n,l,r,u=!1){const f=n._path,h=s.syncPointTree_.get(f);let m=[];if(h&&(n._queryIdentifier==="default"||Wg(h,n))){const _=lT(h,n,l,r);nT(h)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const p=_.removed;if(m=_.events,!u){const y=p.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(f,(b,O)=>ii(O));if(y&&!v){const b=s.syncPointTree_.subtree(f);if(!b.isEmpty()){const O=dT(b);for(let B=0;B<O.length;++B){const I=O[B],V=I.query,K=iy(s,I);s.listenProvider_.startListening(js(V),Ps(s,V),K.hashFn,K.onComplete)}}}!v&&p.length>0&&!r&&(y?s.listenProvider_.stopListening(js(n),null):p.forEach(b=>{const O=s.queryToTagMap.get(Fr(b));s.listenProvider_.stopListening(js(b),O)}))}mT(s,p)}return m}function ey(s,n,l,r){const u=xf(s,r);if(u!=null){const f=Af(u),h=f.path,m=f.queryId,_=dt(h,n),p=new Ni(vf(m),_,l);return Nf(s,h,p)}else return[]}function fT(s,n,l,r){const u=xf(s,r);if(u){const f=Af(u),h=f.path,m=f.queryId,_=dt(h,n),p=Oe.fromObject(l),y=new Fs(vf(m),_,p);return Nf(s,h,y)}else return[]}function Wc(s,n,l,r=!1){const u=n._path;let f=null,h=!1;s.syncPointTree_.foreachOnPath(u,(b,O)=>{const B=dt(b,u);f=f||ei(O,B),h=h||ii(O)});let m=s.syncPointTree_.get(u);m?(h=h||ii(m),f=f||ei(m,de())):(m=new Zg,s.syncPointTree_=s.syncPointTree_.set(u,m));let _;f!=null?_=!0:(_=!1,f=W.EMPTY_NODE,s.syncPointTree_.subtree(u).foreachChild((O,B)=>{const I=ei(B,de());I&&(f=f.updateImmediateChild(O,I))}));const p=Wg(m,n);if(!p&&!n._queryParams.loadsAllData()){const b=Fr(n);k(!s.queryToTagMap.has(b),"View does not exist, but we have a tag");const O=pT();s.queryToTagMap.set(b,O),s.tagToQueryMap.set(O,b)}const y=Kr(s.pendingWriteTree_,u);let v=iT(m,n,l,y,f,_);if(!p&&!h&&!r){const b=Jg(m,n);v=v.concat(_T(s,n,b))}return v}function Cf(s,n,l){const u=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(n,(h,m)=>{const _=dt(h,n),p=ei(m,_);if(p)return p});return Gg(u,n,f,l,!0)}function hT(s,n){const l=n._path;let r=null;s.syncPointTree_.foreachOnPath(l,(p,y)=>{const v=dt(p,l);r=r||ei(y,v)});let u=s.syncPointTree_.get(l);u?r=r||ei(u,de()):(u=new Zg,s.syncPointTree_=s.syncPointTree_.set(l,u));const f=r!=null,h=f?new ni(r,!0,!1):null,m=Kr(s.pendingWriteTree_,n._path),_=Fg(u,n,m,f?h.getNode():W.EMPTY_NODE,f);return PE(_)}function ia(s,n){return ty(n,s.syncPointTree_,null,Kr(s.pendingWriteTree_,de()))}function ty(s,n,l,r){if(ce(s.path))return ny(s,n,l,r);{const u=n.get(de());l==null&&u!=null&&(l=ei(u,de()));let f=[];const h=ae(s.path),m=s.operationForChild(h),_=n.children.get(h);if(_&&m){const p=l?l.getImmediateChild(h):null,y=Yg(r,h);f=f.concat(ty(m,_,p,y))}return u&&(f=f.concat(Tf(u,s,r,l))),f}}function ny(s,n,l,r){const u=n.get(de());l==null&&u!=null&&(l=ei(u,de()));let f=[];return n.children.inorderTraversal((h,m)=>{const _=l?l.getImmediateChild(h):null,p=Yg(r,h),y=s.operationForChild(h);y&&(f=f.concat(ny(y,m,_,p)))}),u&&(f=f.concat(Tf(u,s,r,l))),f}function iy(s,n){const l=n.query,r=Ps(s,l);return{hashFn:()=>(FE(n)||W.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?cT(s,l._path,r):uT(s,l._path);{const f=h1(u,l);return Gr(s,l,null,f)}}}}function Ps(s,n){const l=Fr(n);return s.queryToTagMap.get(l)}function Fr(s){return s._path.toString()+"$"+s._queryIdentifier}function xf(s,n){return s.tagToQueryMap.get(n)}function Af(s){const n=s.indexOf("$");return k(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new xe(s.substr(0,n))}}function Nf(s,n,l){const r=s.syncPointTree_.get(n);k(r,"Missing sync point for query tag that we're tracking");const u=Kr(s.pendingWriteTree_,n);return Tf(r,l,u,null)}function dT(s){return s.fold((n,l,r)=>{if(l&&ii(l))return[Zr(l)];{let u=[];return l&&(u=Pg(l)),Et(r,(f,h)=>{u=u.concat(h)}),u}})}function js(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(aT())(s._repo,s._path):s}function mT(s,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const u=Fr(r),f=s.queryToTagMap.get(u);s.queryToTagMap.delete(u),s.tagToQueryMap.delete(f)}}}function pT(){return rT++}function _T(s,n,l){const r=n._path,u=Ps(s,n),f=iy(s,l),h=s.listenProvider_.startListening(js(n),u,f.hashFn,f.onComplete),m=s.syncPointTree_.subtree(r);if(u)k(!ii(m.value),"If we're adding a query, it shouldn't be shadowed");else{const _=m.fold((p,y,v)=>{if(!ce(p)&&y&&ii(y))return[Zr(y).query];{let b=[];return y&&(b=b.concat(Pg(y).map(O=>O.query))),Et(v,(O,B)=>{b=b.concat(B)}),b}});for(let p=0;p<_.length;++p){const y=_[p];s.listenProvider_.stopListening(js(y),Ps(s,y))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Rf(l)}node(){return this.node_}}class Of{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Xe(this.path_,n);return new Of(this.syncTree_,l)}node(){return Cf(this.syncTree_,this.path_)}}const gT=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},U_=function(s,n,l){if(!s||typeof s!="object")return s;if(k(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return yT(s[".sv"],n,l);if(typeof s[".sv"]=="object")return vT(s[".sv"],n);k(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},yT=function(s,n,l){switch(s){case"timestamp":return l.timestamp;default:k(!1,"Unexpected server value: "+s)}},vT=function(s,n,l){s.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&k(!1,"Unexpected increment value: "+r);const u=n.node();if(k(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},bT=function(s,n,l,r){return Df(n,new Of(l,s),r)},ly=function(s,n,l){return Df(s,new Rf(n),l)};function Df(s,n,l){const r=s.getPriority().val(),u=U_(r,n.getImmediateChild(".priority"),l);let f;if(s.isLeafNode()){const h=s,m=U_(h.getValue(),n,l);return m!==h.getValue()||u!==h.getPriority().val()?new tt(m,lt(u)):s}else{const h=s;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new tt(u))),h.forEachChild(Le,(m,_)=>{const p=Df(_,n.getImmediateChild(m),l);p!==_&&(f=f.updateImmediateChild(m,p))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function Mf(s,n){let l=n instanceof xe?n:new xe(n),r=s,u=ae(l);for(;u!==null;){const f=El(r.node.children,u)||{children:{},childCount:0};r=new wf(u,r,f),l=Re(l),u=ae(l)}return r}function Dl(s){return s.node.value}function sy(s,n){s.node.value=n,$c(s)}function ay(s){return s.node.childCount>0}function ST(s){return Dl(s)===void 0&&!ay(s)}function Pr(s,n){Et(s.node.children,(l,r)=>{n(new wf(l,s,r))})}function ry(s,n,l,r){l&&n(s),Pr(s,u=>{ry(u,n,!0)})}function ET(s,n,l){let r=s.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function la(s){return new xe(s.parent===null?s.name:la(s.parent)+"/"+s.name)}function $c(s){s.parent!==null&&TT(s.parent,s.name,s)}function TT(s,n,l){const r=ST(l),u=Tn(s.node.children,n);r&&u?(delete s.node.children[n],s.node.childCount--,$c(s)):!r&&!u&&(s.node.children[n]=l.node,s.node.childCount++,$c(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=/[\[\].#$\/\u0000-\u001F\u007F]/,xT=/[\[\].#$\u0000-\u001F\u007F]/,Mc=10*1024*1024,oy=function(s){return typeof s=="string"&&s.length!==0&&!CT.test(s)},uy=function(s){return typeof s=="string"&&s.length!==0&&!xT.test(s)},AT=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),uy(s)},NT=function(s,n,l,r){Uf(rf(s,"value"),n,l)},Uf=function(s,n,l){const r=l instanceof xe?new Q1(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+Ti(r));if(typeof n=="function")throw new Error(s+"contains a function "+Ti(r)+" with contents = "+n.toString());if(ag(n))throw new Error(s+"contains "+n.toString()+" "+Ti(r));if(typeof n=="string"&&n.length>Mc/3&&Vr(n)>Mc)throw new Error(s+"contains a string greater than "+Mc+" utf8 bytes "+Ti(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(Et(n,(h,m)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!oy(h)))throw new Error(s+" contains an invalid key ("+h+") "+Ti(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);X1(r,h),Uf(s,m,r),K1(r)}),u&&f)throw new Error(s+' contains ".value" child '+Ti(r)+" in addition to actual children.")}},cy=function(s,n,l,r){if(!uy(l))throw new Error(rf(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},RT=function(s,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),cy(s,n,l)},OT=function(s,n){if(ae(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},DT=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!oy(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!AT(l))throw new Error(rf(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zf(s,n){let l=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();l!==null&&!df(f,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(u)}l&&s.eventLists_.push(l)}function fy(s,n,l){zf(s,l),hy(s,r=>df(r,n))}function tn(s,n,l){zf(s,l),hy(s,r=>Xt(r,n)||Xt(n,r))}function hy(s,n){s.recursionDepth_++;let l=!0;for(let r=0;r<s.eventLists_.length;r++){const u=s.eventLists_[r];if(u){const f=u.path;n(f)?(MT(s.eventLists_[r]),s.eventLists_[r]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function MT(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const r=l.getEventRunner();Ls&&ft("event: "+l.toString()),Ol(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="repo_interrupt",zT=25;class LT{constructor(n,l,r,u){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zr(),this.transactionQueueTree_=new wf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IT(s,n,l){if(s.stats_=ff(s.repoInfo_),s.forceRestClient_||_1())s.server_=new Ur(s.repoInfo_,(r,u,f,h)=>{z_(s,r,u,f,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>L_(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new bn(s.repoInfo_,n,(r,u,f,h)=>{z_(s,r,u,f,h)},r=>{L_(s,r)},r=>{HT(s,r)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=S1(s.repoInfo_,()=>new vE(s.stats_,s.server_)),s.infoData_=new mE,s.infoSyncTree_=new M_({startListening:(r,u,f,h)=>{let m=[];const _=s.infoData_.getNode(r._path);return _.isEmpty()||(m=na(s.infoSyncTree_,r._path,_),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),If(s,"connected",!1),s.serverSyncTree_=new M_({startListening:(r,u,f,h)=>(s.server_.listen(r,f,u,(m,_)=>{const p=h(m,_);tn(s.eventQueue_,r._path,p)}),[]),stopListening:(r,u)=>{s.server_.unlisten(r,u)}})}function BT(s){const l=s.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Lf(s){return gT({timestamp:BT(s)})}function z_(s,n,l,r,u){s.dataUpdateCount++;const f=new xe(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let h=[];if(u)if(r){const _=Ar(l,p=>lt(p));h=fT(s.serverSyncTree_,f,_,u)}else{const _=lt(l);h=ey(s.serverSyncTree_,f,_,u)}else if(r){const _=Ar(l,p=>lt(p));h=oT(s.serverSyncTree_,f,_)}else{const _=lt(l);h=na(s.serverSyncTree_,f,_)}let m=f;h.length>0&&(m=Wr(s,f)),tn(s.eventQueue_,m,h)}function L_(s,n){If(s,"connected",n),n===!1&&qT(s)}function HT(s,n){Et(n,(l,r)=>{If(s,l,r)})}function If(s,n,l){const r=new xe("/.info/"+n),u=lt(l);s.infoData_.updateSnapshot(r,u);const f=na(s.infoSyncTree_,r,u);tn(s.eventQueue_,r,f)}function dy(s){return s.nextWriteId_++}function jT(s,n,l){const r=hT(s.serverSyncTree_,n);return r!=null?Promise.resolve(r):s.server_.get(n).then(u=>{const f=lt(u).withIndex(n._queryParams.getIndex());Wc(s.serverSyncTree_,n,l,!0);let h;if(n._queryParams.loadsAllData())h=na(s.serverSyncTree_,n._path,f);else{const m=Ps(s.serverSyncTree_,n);h=ey(s.serverSyncTree_,n._path,f,m)}return tn(s.eventQueue_,n._path,h),Gr(s.serverSyncTree_,n,l,null,!0),f},u=>(Jr(s,"get for query "+Qe(n)+" failed: "+u),Promise.reject(new Error(u))))}function kT(s,n,l,r,u){Jr(s,"set",{path:n.toString(),value:l,priority:r});const f=Lf(s),h=lt(l,r),m=Cf(s.serverSyncTree_,n),_=ly(h,m,f),p=dy(s),y=$g(s.serverSyncTree_,n,_,p,!0);zf(s.eventQueue_,y),s.server_.put(n.toString(),h.val(!0),(b,O)=>{const B=b==="ok";B||St("set at "+n+" failed: "+b);const I=xi(s.serverSyncTree_,p,!B);tn(s.eventQueue_,n,I),VT(s,u,b,O)});const v=vy(s,n);Wr(s,v),tn(s.eventQueue_,v,[])}function qT(s){Jr(s,"onDisconnectEvents");const n=Lf(s),l=zr();Kc(s.onDisconnect_,de(),(u,f)=>{const h=bT(u,f,s.serverSyncTree_,n);Bg(l,u,h)});let r=[];Kc(l,de(),(u,f)=>{r=r.concat(na(s.serverSyncTree_,u,f));const h=vy(s,u);Wr(s,h)}),s.onDisconnect_=zr(),tn(s.eventQueue_,de(),r)}function GT(s,n,l){let r;ae(n._path)===".info"?r=Wc(s.infoSyncTree_,n,l):r=Wc(s.serverSyncTree_,n,l),fy(s.eventQueue_,n._path,r)}function my(s,n,l){let r;ae(n._path)===".info"?r=Gr(s.infoSyncTree_,n,l):r=Gr(s.serverSyncTree_,n,l),fy(s.eventQueue_,n._path,r)}function YT(s){s.persistentConnection_&&s.persistentConnection_.interrupt(UT)}function Jr(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),ft(l,...n)}function VT(s,n,l,r){n&&Ol(()=>{if(l==="ok")n(null);else{const u=(l||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function py(s,n,l){return Cf(s.serverSyncTree_,n,l)||W.EMPTY_NODE}function Bf(s,n=s.transactionQueueTree_){if(n||$r(s,n),Dl(n)){const l=gy(s,n);k(l.length>0,"Sending zero length transaction queue"),l.every(u=>u.status===0)&&QT(s,la(n),l)}else ay(n)&&Pr(n,l=>{Bf(s,l)})}function QT(s,n,l){const r=l.map(p=>p.currentWriteId),u=py(s,n,r);let f=u;const h=u.hash();for(let p=0;p<l.length;p++){const y=l[p];k(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=dt(n,y.path);f=f.updateChild(v,y.currentOutputSnapshotRaw)}const m=f.val(!0),_=n;s.server_.put(_.toString(),m,p=>{Jr(s,"transaction put response",{path:_.toString(),status:p});let y=[];if(p==="ok"){const v=[];for(let b=0;b<l.length;b++)l[b].status=2,y=y.concat(xi(s.serverSyncTree_,l[b].currentWriteId)),l[b].onComplete&&v.push(()=>l[b].onComplete(null,!0,l[b].currentOutputSnapshotResolved)),l[b].unwatcher();$r(s,Mf(s.transactionQueueTree_,n)),Bf(s,s.transactionQueueTree_),tn(s.eventQueue_,n,y);for(let b=0;b<v.length;b++)Ol(v[b])}else{if(p==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{St("transaction at "+_.toString()+" failed: "+p);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=p}Wr(s,n)}},h)}function Wr(s,n){const l=_y(s,n),r=la(l),u=gy(s,l);return XT(s,u,r),r}function XT(s,n,l){if(n.length===0)return;const r=[];let u=[];const h=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const _=n[m],p=dt(l,_.path);let y=!1,v;if(k(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)y=!0,v=_.abortReason,u=u.concat(xi(s.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=zT)y=!0,v="maxretry",u=u.concat(xi(s.serverSyncTree_,_.currentWriteId,!0));else{const b=py(s,_.path,h);_.currentInputSnapshot=b;const O=n[m].update(b.val());if(O!==void 0){Uf("transaction failed: Data returned ",O,_.path);let B=lt(O);typeof O=="object"&&O!=null&&Tn(O,".priority")||(B=B.updatePriority(b.getPriority()));const V=_.currentWriteId,K=Lf(s),X=ly(B,b,K);_.currentOutputSnapshotRaw=B,_.currentOutputSnapshotResolved=X,_.currentWriteId=dy(s),h.splice(h.indexOf(V),1),u=u.concat($g(s.serverSyncTree_,_.path,X,_.currentWriteId,_.applyLocally)),u=u.concat(xi(s.serverSyncTree_,V,!0))}else y=!0,v="nodata",u=u.concat(xi(s.serverSyncTree_,_.currentWriteId,!0))}tn(s.eventQueue_,l,u),u=[],y&&(n[m].status=2,(function(b){setTimeout(b,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(v==="nodata"?r.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):r.push(()=>n[m].onComplete(new Error(v),!1,null))))}$r(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)Ol(r[m]);Bf(s,s.transactionQueueTree_)}function _y(s,n){let l,r=s.transactionQueueTree_;for(l=ae(n);l!==null&&Dl(r)===void 0;)r=Mf(r,l),n=Re(n),l=ae(n);return r}function gy(s,n){const l=[];return yy(s,n,l),l.sort((r,u)=>r.order-u.order),l}function yy(s,n,l){const r=Dl(n);if(r)for(let u=0;u<r.length;u++)l.push(r[u]);Pr(n,u=>{yy(s,u,l)})}function $r(s,n){const l=Dl(n);if(l){let r=0;for(let u=0;u<l.length;u++)l[u].status!==2&&(l[r]=l[u],r++);l.length=r,sy(n,l.length>0?l:void 0)}Pr(n,r=>{$r(s,r)})}function vy(s,n){const l=la(_y(s,n)),r=Mf(s.transactionQueueTree_,n);return ET(r,u=>{Uc(s,u)}),Uc(s,r),ry(r,u=>{Uc(s,u)}),l}function Uc(s,n){const l=Dl(n);if(l){const r=[];let u=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(k(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(k(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),u=u.concat(xi(s.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?sy(n,void 0):l.length=f+1,tn(s.eventQueue_,la(n),u);for(let h=0;h<r.length;h++)Ol(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){let n="";const l=s.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let u=l[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function ZT(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):St(`Invalid query segment '${l}' in query '${s}'`)}return n}const I_=function(s,n){const l=FT(s),r=l.namespace;l.domain==="firebase.com"&&En(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&En("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||r1();const u=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new yg(l.host,l.secure,r,u,n,"",r!==l.subdomain),path:new xe(l.pathString)}},FT=function(s){let n="",l="",r="",u="",f="",h=!0,m="https",_=443;if(typeof s=="string"){let p=s.indexOf("//");p>=0&&(m=s.substring(0,p-1),s=s.substring(p+2));let y=s.indexOf("/");y===-1&&(y=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),n=s.substring(0,Math.min(y,v)),y<v&&(u=KT(s.substring(y,v)));const b=ZT(s.substring(Math.min(s.length,v)));p=n.indexOf(":"),p>=0?(h=m==="https"||m==="wss",_=parseInt(n.substring(p+1),10)):p=n.length;const O=n.slice(0,p);if(O.toLowerCase()==="localhost")l="localhost";else if(O.split(".").length<=2)l=O;else{const B=n.indexOf(".");r=n.substring(0,B).toLowerCase(),l=n.substring(B+1),f=r}"ns"in b&&(f=b.ns)}return{host:n,port:_,domain:l,subdomain:r,secure:h,scheme:m,pathString:u,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(n,l,r,u){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}}class JT{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(n,l,r,u){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=u}get key(){return ce(this._path)?null:Ng(this._path)}get ref(){return new Cn(this._repo,this._path)}get _queryIdentifier(){const n=S_(this._queryParams),l=uf(n);return l==="{}"?"default":l}get _queryObject(){return S_(this._queryParams)}isEqual(n){if(n=Nl(n),!(n instanceof jf))return!1;const l=this._repo===n._repo,r=df(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return l&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+V1(this._path)}}class Cn extends jf{constructor(n,l){super(n,l,new gf,!1)}get parent(){const n=Og(this._path);return n===null?null:new Cn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Js{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new xe(n),r=ef(this.ref,n);return new Js(this._node.getChild(l),r,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new Js(u,ef(this.ref,r),Le)))}hasChild(n){const l=new xe(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zc(s,n){return s=Nl(s),s._checkNotDeleted("ref"),n!==void 0?ef(s._root,n):s._root}function ef(s,n){return s=Nl(s),ae(s._path)===null?RT("child","path",n):cy("child","path",n),new Cn(s._repo,Xe(s._path,n))}function WT(s,n){s=Nl(s),OT("set",s._path),NT("set",n,s._path);const l=new Yr;return kT(s._repo,s._path,n,null,l.wrapCallback(()=>{})),l.promise}function $T(s){s=Nl(s);const n=new Hf(()=>{}),l=new sa(n);return jT(s._repo,s,l).then(r=>new Js(r,new Cn(s._repo,s._path),s._queryParams.getIndex()))}class sa{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new PT("value",this,new Js(n.snapshotNode,new Cn(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new JT(this,n,l):null}matches(n){return n instanceof sa?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function eC(s,n,l,r,u){const f=new Hf(l,void 0),h=new sa(f);return GT(s._repo,s,h),()=>my(s._repo,s,h)}function tC(s,n,l,r){return eC(s,"value",n)}function nC(s,n,l){let r=null;const u=l?new Hf(l):null;r=new sa(u),my(s._repo,s,r)}eT(Cn);sT(Cn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="FIREBASE_DATABASE_EMULATOR_HOST",tf={};let lC=!1;function sC(s,n,l,r){const u=n.lastIndexOf(":"),f=n.substring(0,u),h=af(f);s.repoInfo_=new yg(n,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(s.authTokenProvider_=r)}function aC(s,n,l,r,u){let f=r||s.options.databaseURL;f===void 0&&(s.options.projectId||En("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=I_(f,u),m=h.repoInfo,_;typeof process<"u"&&i_&&(_=i_[iC]),_?(f=`http://${_}?ns=${m.namespace}`,h=I_(f,u),m=h.repoInfo):h.repoInfo.secure;const p=new y1(s.name,s.options,n);DT("Invalid Firebase Database URL",h),ce(h.path)||En("Database URL must point to the root of a Firebase Database (not including a child path).");const y=oC(m,s,p,new g1(s,l));return new uC(y,s)}function rC(s,n){const l=tf[n];(!l||l[s.key]!==s)&&En(`Database ${n}(${s.repoInfo_}) has already been deleted.`),YT(s),delete l[s.key]}function oC(s,n,l,r){let u=tf[n.name];u||(u={},tf[n.name]=u);let f=u[s.toURLString()];return f&&En("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new LT(s,lC,l,r),u[s.toURLString()]=f,f}class uC{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cn(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&En("Cannot call "+n+" on a deleted database.")}}function cC(s=GS(),n){const l=BS(s,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=Eb("database");r&&fC(l,...r)}return l}function fC(s,n,l,r={}){s=Nl(s),s._checkNotDeleted("useEmulator");const u=`${n}:${l}`,f=s._repoInternal;if(s._instanceStarted){if(u===s._repoInternal.repoInfo_.host&&Nr(r,f.repoInfo_.emulatorOptions))return;En("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&En('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Cr(Cr.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:Cb(r.mockUserToken,s.app.options.projectId);h=new Cr(m)}af(n)&&(Tb(n),Nb("Database",!0)),sC(f,u,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(s){t1(qS),Or(new Gs("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return aC(r,u,f,l)},"PUBLIC").setMultipleInstances(!0)),vl(l_,s_,s),vl(l_,s_,"esm2020")}bn.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};bn.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};hC();const Oi=[{id:"pate-small",name:"Pate (маленькая)",price:350},{id:"pate-big",name:"Pate (большая)",price:700},{id:"crispy-chicken-burger",name:"Crispy Chicken Burger",price:550},{id:"pulled-pork-burger",name:"Pulled Pork Burger",price:550},{id:"crispy-chicken-tacos",name:"Crispy Chicken Tacos",price:420},{id:"pulled-pork-tacos",name:"Pulled Pork Tacos",price:420},{id:"beef-tacos",name:"Beef Tacos",price:450},{id:"cheese-tacos",name:"Cheese Tacos",price:420},{id:"chicken-wings",name:"Крылья куринные",price:450},{id:"fries",name:"Картофель фри",price:220},{id:"sauce",name:"Соус",price:70},{id:"sauce-hell",name:'Соус "Ticket to Hell"',price:200},{id:"snack-peanuts",name:"Арахис",price:100,category:"snack"},{id:"snack-chips",name:"Чипсы",price:130,category:"snack"},{id:"snack-cheese",name:"Сыр копченый",price:250,category:"snack"},{id:"snack-jerky",name:"Джерки",price:390,category:"snack"},{id:"snack-popcorn",name:"Попкорн",price:100,category:"snack"},{id:"snack-egg",name:"Маринованное яйцо",price:120,category:"snack"}],kf=[{id:"p1",code:"OSTRO",benefit:{type:"free_item",value:"chicken-wings",description:"🔥 Бесплатные острые крылья!"},used:!1},{id:"p2",code:"CHERNOE",benefit:{type:"free_beer",value:"black",description:"🍺 Бесплатное черное пиво!"},used:!1},{id:"p3",code:"PODAROK",benefit:{type:"any_under",value:500,description:"🎁 Любая позиция до 500₽ — бесплатно!"},used:!1},{id:"p4",code:"TACOLOVE",benefit:{type:"free_item",value:"crispy-chicken-tacos",description:"🌮 Бесплатные такос!"},used:!1},{id:"p5",code:"CHEESEPLZ",benefit:{type:"free_item",value:"cheese-tacos",description:"🧀 Бесплатная сырная тарелка!"},used:!1}],dC=15e3,mC=(s,n)=>({orders:{},addItem:l=>{const r=Oi.find(f=>f.id===l);if(!r)return;n().getCalculatedBalance?.()>=r.price&&s(f=>({orders:{...f.orders,[l]:(f.orders[l]||0)+1}}))},removeItem:l=>{!Oi.find(u=>u.id===l)||!n().orders[l]||s(u=>{const f=u.orders[l]-1,h={...u.orders};return f<=0?delete h[l]:h[l]=f,{orders:h}})}}),pC=(s,n)=>({beers:[],addBeer:(l=300)=>s(r=>({beers:[...r.beers,l]})),removeBeer:()=>s(l=>l.beers.length===0?{}:{beers:l.beers.slice(0,-1)}),getBeersByPrice:()=>{const{beers:l}=n(),r=new Map;for(const u of l)r.set(u,(r.get(u)||0)+1);return Array.from(r.entries()).map(([u,f])=>({price:u,count:f})).sort((u,f)=>u.price-f.price)}}),_C=(s,n)=>({replenishments:[],initialBalance:dC,addReplenishment:l=>s(r=>({replenishments:[...r.replenishments,l]})),getTotalReplenished:()=>n().replenishments.reduce((l,r)=>l+r,0)}),B_=s=>{let n=0,l="",r="item";switch(s.benefit.type){case"free_item":{const u=Oi.find(f=>f.id===s.benefit.value);u&&(n=u.price,l=u.id,r="item");break}case"free_beer":{n=s.benefit.value==="black"?400:300,l="beer",r="beer";break}case"any_under":{const u=Oi.find(f=>f.price<=s.benefit.value);u&&(n=u.price,l=u.id,r="item");break}}return{price:n,recordId:l,type:r}},gC=(s,n)=>({promos:kf.map(l=>({...l})),promoTransactions:[],getAvailablePromos:()=>n().promos.filter(r=>!r.used),getRandomPromo:()=>{const l=n().getAvailablePromos();if(l.length===0)return null;const r=Math.floor(Math.random()*l.length);return l[r]},issuePromo:l=>{const u=n().promos.find(_=>_.id===l&&!_.used);if(!u)return null;const{price:f,recordId:h,type:m}=B_(u);return f>0&&s(_=>({promoTransactions:[..._.promoTransactions,{id:h,type:m,price:f,at:Date.now()}]})),s(_=>({promos:_.promos.map(p=>p.id===l?{...p,used:!0}:p)})),u},applyPromo:l=>{const u=n().promos.find(_=>_.code===l.toUpperCase()&&!_.used);if(!u)return!1;const{price:f,recordId:h,type:m}=B_(u);return f>0&&n().addPromoTransaction({id:h,type:m,price:f,at:Date.now()}),n().markPromoUsed(u.id),!0},markPromoUsed:l=>s(r=>({promos:r.promos.map(u=>u.id===l?{...u,used:!0}:u)})),addPromoTransaction:l=>s(r=>({promoTransactions:[...r.promoTransactions,l]})),getTotalPromoSpent:()=>n().promoTransactions.reduce((r,u)=>r+u.price,0)}),yC=(s,n)=>({attempts:{first:!1,second:!1,third:!1},unlockAttempt:l=>s(r=>({attempts:{...r.attempts,[l]:!0}})),hasAttempt:l=>n().attempts[l],isAttemptUsed:l=>{const r=`luck_attempt_used_${l}`;return localStorage.getItem(r)==="true"},markAttemptUsed:l=>{const r=`luck_attempt_used_${l}`;localStorage.setItem(r,"true")},tryLuck:()=>{const l=n(),u=["first","second","third"].find(h=>l.attempts[h]&&!l.isAttemptUsed(h));if(!u)return!1;const f=Math.random()<.05;return l.markAttemptUsed(u),s(h=>({attempts:{...h.attempts,[u]:!1}})),f}}),vC={apiKey:"AIzaSyBLD_nsbeGX6VVN46wIzfwYXZvqp9sqLKE",authDomain:"birthday-party-2bd8b.firebaseapp.com",databaseURL:"https://birthday-party-2bd8b-default-rtdb.firebaseio.com",projectId:"birthday-party-2bd8b",storageBucket:"birthday-party-2bd8b.firebasestorage.app",messagingSenderId:"966406899242",appId:"1:966406899242:web:4fa35014795a1e0bee6553"},bC=eg(vC),Lc=cC(bC),Ic="party_12_09_25",Pn=ib()(fb(ob((s,n,l)=>({...mC(s,n),...pC(s,n),..._C(s,n),...gC(s,n),...yC(s,n),reset:()=>s({orders:{},beers:[],replenishments:[],promoTransactions:[],promos:kf.map(r=>({...r})),attempts:{first:!1,second:!1,third:!1}}),getTotalSpent:()=>{const r=n(),u=Object.entries(r.orders).reduce((h,[m,_])=>{const p=Oi.find(y=>y.id===m);return h+(p?p.price*_:0)},0),f=r.beers.reduce((h,m)=>h+m,0);return u+f},getCalculatedBalance:()=>{const r=n(),u=r.getTotalSpent(),f=r.getTotalReplenished();return r.initialBalance+f-u},startListeningToCloud:r=>{const u=zc(Lc,Ic),f=h=>{h.exists()&&r()};return tC(u,f),()=>{nC(u,"value",f)}},syncToCloud:async()=>{const r=n(),u={orders:r.orders,beers:r.beers,replenishments:r.replenishments,promos:r.promos,promoTransactions:r.promoTransactions,attempts:r.attempts,updatedAt:Date.now()};try{await WT(zc(Lc,Ic),u),r.showNotification("✅ Данные сохранены в облаке!","success")}catch(f){console.error("Firebase sync error:",f),r.showNotification("❌ Не удалось сохранить в облаке","error")}},syncFromCloud:async()=>{try{const r=await $T(zc(Lc,Ic));if(!r.exists()){n().showNotification("⚠️ Нет данных в облаке","error");return}const u=r.val();n().reset(),Array.isArray(u.replenishments)&&u.replenishments.forEach(f=>{n().addReplenishment(f)}),u.orders&&typeof u.orders=="object"&&Object.entries(u.orders).forEach(([f,h])=>{const m=h;for(let _=0;_<m;_++)n().addItem(f)}),Array.isArray(u.beers)&&u.beers.forEach(f=>{n().addBeer(f)}),Array.isArray(u.promos)&&u.promos.forEach(f=>{if(f.used){const h=n().promos.find(m=>m.id===f.id);h&&!h.used&&n().markPromoUsed(h.id)}}),Array.isArray(u.promoTransactions)&&u.promoTransactions.forEach(f=>{n().addPromoTransaction(f)}),u.attempts&&s({attempts:{first:u.attempts.first,second:u.attempts.second,third:u.attempts.third}}),n().showNotification("🎉 Данные загружены из облака!","success")}catch(r){console.error("Firebase sync error:",r),n().showNotification("❌ Не удалось загрузить из облака","error")}}}),{name:"deposit-storage"}),{name:"deposit-storage"}));function SC({onLogin:s}){const[n,l]=it.useState(""),r=()=>{s(n==="bd120925"?"admin":"guest"),l("")};return D.jsx("div",{className:"min-h-screen bg-ctp-base text-ctp-text flex items-center justify-center px-4",children:D.jsxs("div",{className:"bg-ctp-surface0 p-6 rounded-lg shadow-lg max-w-xs w-full border border-ctp-overlay0/20",children:[D.jsx("h1",{className:"text-xl font-bold text-ctp-rosewater mb-4 text-center",children:"🎉 День Рождения"}),D.jsx("p",{className:"text-ctp-subtext0 text-sm mb-4",children:"Войдите, чтобы продолжить"}),D.jsx("input",{type:"password",placeholder:"Пароль",value:n,onChange:u=>l(u.target.value),onKeyDown:u=>u.key==="Enter"&&r(),className:"w-full bg-ctp-surface1 text-ctp-text px-3 py-2 rounded border border-ctp-overlay0/30 focus:outline-none focus:ring-2 focus:ring-ctp-blue/50 mb-3"}),D.jsx("button",{onClick:r,className:"w-full bg-ctp-blue hover:bg-ctp-blue/90 text-ctp-base py-2 rounded font-medium transition",children:"Войти"})]})})}function EC({show:s,message:n,type:l}){return s?D.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-notification",children:D.jsx("div",{className:`px-6 py-3 rounded-lg shadow-xl border-2 font-medium
          ${l==="success"?"bg-ctp-green/20 border-ctp-green text-ctp-green":"bg-ctp-red/20 border-ctp-red text-ctp-red"}
          backdrop-blur-sm
        `,children:n})}):null}function TC({role:s,onLogout:n}){return D.jsxs("header",{className:"flex justify-between items-center mb-6 bg-ctp-surface0 p-3 rounded-lg border border-ctp-overlay0/20",children:[D.jsxs("div",{children:[D.jsx("h1",{className:"text-xl font-bold text-ctp-rosewater",children:"🎉 День Рождения"}),D.jsxs("p",{className:"text-ctp-subtext0 text-sm",children:["Роль: ",D.jsx("span",{className:"font-medium",children:s==="admin"?"Владос":"Гость"})]})]}),D.jsx("button",{onClick:n,className:"bg-ctp-overlay1 hover:bg-ctp-overlay1/80 text-ctp-text text-sm px-3 py-1 rounded transition",children:"Выход"})]})}function CC({balance:s}){const n=s>=6e3?"text-ctp-green":s>=3e3?"text-ctp-yellow":"text-ctp-red";return D.jsxs("div",{className:"bg-ctp-surface0 p-4 rounded-lg mb-6 shadow-lg border border-ctp-overlay0/20",children:[D.jsx("h2",{className:"text-lg font-semibold text-ctp-text mb-2",children:"Баланс"}),D.jsxs("p",{className:`text-3xl font-bold ${n} transition-colors duration-300`,children:[s.toLocaleString()," ₽"]})]})}function xC({onReplenish:s,showNotification:n}){const[l,r]=it.useState(""),u=()=>{const f=parseInt(l);f>0&&(s(f),r(""),n("✅ Баланс пополнен"))};return D.jsxs("div",{className:"bg-ctp-surface0 p-4 rounded-lg mb-6 shadow-lg border border-ctp-overlay0/20",children:[D.jsx("h2",{className:"text-lg font-semibold text-ctp-text mb-3",children:"💸 Пополнить баланс"}),D.jsxs("div",{className:"flex gap-2 flex-wrap",children:[D.jsx("input",{type:"number",placeholder:"Сумма",value:l,onChange:f=>r(f.target.value),className:"bg-ctp-surface1 text-ctp-text px-3 py-2 rounded flex-1 min-w-0 border border-ctp-overlay0/30 focus:outline-none focus:ring-2 focus:ring-ctp-blue/50"}),D.jsx("button",{onClick:u,className:"bg-ctp-mantle hover:bg-ctp-mantle/90 hover:text-ctp-rosewater text-ctp-text px-4 py-2 rounded font-medium transition-all duration-200 transform hover:scale-105 shadow-md",children:"Пополнить"})]})]})}function AC({beers:s,getBeersByPrice:n,addBeer:l,removeBeer:r,calculatedBalance:u,role:f,showNotification:h}){const[m,_]=it.useState("300"),p=(()=>{const O=parseInt(m);return isNaN(O)?0:O})(),y=m===""||p<=0||p>u,v=p>u?p-u:0,b=()=>{const O=parseInt(m);if(isNaN(O)||O<=0||O>u){h("❌ Недостаточно средств или неверная цена","error");return}l(O),_("300")};return D.jsxs("div",{className:"bg-ctp-surface0 p-4 rounded-lg mb-6 shadow-lg border border-ctp-overlay0/20",children:[D.jsx("h2",{className:"text-lg font-semibold text-ctp-text mb-3",children:"🍺 Пиво"}),f==="admin"&&D.jsxs("div",{className:"flex gap-2 items-center flex-wrap mb-3",children:[D.jsx("input",{type:"number",placeholder:"Цена",value:m,onChange:O=>_(O.target.value),className:`bg-ctp-surface1 px-3 py-2 rounded w-32 border focus:outline-none focus:ring-2
              ${p<=0&&m!==""||p>u?"border-ctp-red/60 text-ctp-red bg-ctp-surface0/80":"border-ctp-overlay0/30 text-ctp-text bg-ctp-surface1"}
            `}),D.jsx("button",{onClick:b,disabled:y,className:"bg-ctp-mantle hover:bg-ctp-mantle/90 hover:text-ctp-rosewater text-ctp-text px-4 py-2 rounded font-medium transition-all duration-200 transform hover:scale-105 shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"+1 Пиво"}),D.jsx("button",{onClick:r,disabled:s.length===0,className:"bg-ctp-mantle hover:bg-ctp-mantle/90 hover:text-ctp-rosewater text-ctp-text px-4 py-2 rounded font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow",children:"-1"})]}),f==="admin"&&p<=0&&m!==""&&D.jsx("p",{className:"text-ctp-red text-sm mb-2 animate-pulse",children:"⚠️ Цена должна быть больше 0"}),f==="admin"&&p>u&&p>0&&D.jsxs("p",{className:"text-ctp-red text-sm mb-2 animate-pulse",children:["⚠️ Не хватает ",v.toLocaleString()," ₽"]}),n().length>0?D.jsx("div",{className:"space-y-1",children:n().map(({price:O,count:B})=>D.jsxs("p",{className:"text-ctp-subtext0 flex items-center gap-1",children:["🍺 ",D.jsxs("span",{className:"font-medium text-ctp-text",children:[O," ₽"]})," ×",B]},O))}):D.jsx("p",{className:"text-ctp-subtext0",children:"Пока нет пива😢"})]})}const NC="Left",RC="Right",OC="Up",DC="Down",yl={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},nf={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},H_="mousemove",j_="mouseup",wC="touchend",MC="touchmove",UC="touchstart";function zC(s,n,l,r){return s>n?l>0?RC:NC:r>0?DC:OC}function k_(s,n){if(n===0)return s;const l=Math.PI/180*n,r=s[0]*Math.cos(l)+s[1]*Math.sin(l),u=s[1]*Math.cos(l)-s[0]*Math.sin(l);return[r,u]}function LC(s,n){const l=y=>{const v="touches"in y;v&&y.touches.length>1||s((b,O)=>{O.trackMouse&&!v&&(document.addEventListener(H_,r),document.addEventListener(j_,h));const{clientX:B,clientY:I}=v?y.touches[0]:y,V=k_([B,I],O.rotationAngle);return O.onTouchStartOrOnMouseDown&&O.onTouchStartOrOnMouseDown({event:y}),Object.assign(Object.assign(Object.assign({},b),nf),{initial:V.slice(),xy:V,start:y.timeStamp||0})})},r=y=>{s((v,b)=>{const O="touches"in y;if(O&&y.touches.length>1)return v;if(y.timeStamp-v.start>b.swipeDuration)return v.swiping?Object.assign(Object.assign({},v),{swiping:!1}):v;const{clientX:B,clientY:I}=O?y.touches[0]:y,[V,K]=k_([B,I],b.rotationAngle),X=V-v.xy[0],ee=K-v.xy[1],Te=Math.abs(X),ne=Math.abs(ee),qe=(y.timeStamp||0)-v.start,Ge=Math.sqrt(Te*Te+ne*ne)/(qe||1),_e=[X/(qe||1),ee/(qe||1)],Ke=zC(Te,ne,X,ee),qt=typeof b.delta=="number"?b.delta:b.delta[Ke.toLowerCase()]||yl.delta;if(Te<qt&&ne<qt&&!v.swiping)return v;const Ze={absX:Te,absY:ne,deltaX:X,deltaY:ee,dir:Ke,event:y,first:v.first,initial:v.initial,velocity:Ge,vxvy:_e};Ze.first&&b.onSwipeStart&&b.onSwipeStart(Ze),b.onSwiping&&b.onSwiping(Ze);let Ie=!1;return(b.onSwiping||b.onSwiped||b[`onSwiped${Ke}`])&&(Ie=!0),Ie&&b.preventScrollOnSwipe&&b.trackTouch&&y.cancelable&&y.preventDefault(),Object.assign(Object.assign({},v),{first:!1,eventData:Ze,swiping:!0})})},u=y=>{s((v,b)=>{let O;if(v.swiping&&v.eventData){if(y.timeStamp-v.start<b.swipeDuration){O=Object.assign(Object.assign({},v.eventData),{event:y}),b.onSwiped&&b.onSwiped(O);const B=b[`onSwiped${O.dir}`];B&&B(O)}}else b.onTap&&b.onTap({event:y});return b.onTouchEndOrOnMouseUp&&b.onTouchEndOrOnMouseUp({event:y}),Object.assign(Object.assign(Object.assign({},v),nf),{eventData:O})})},f=()=>{document.removeEventListener(H_,r),document.removeEventListener(j_,h)},h=y=>{f(),u(y)},m=(y,v)=>{let b=()=>{};if(y&&y.addEventListener){const O=Object.assign(Object.assign({},yl.touchEventOptions),v.touchEventOptions),B=[[UC,l,O],[MC,r,Object.assign(Object.assign({},O),v.preventScrollOnSwipe?{passive:!1}:{})],[wC,u,O]];B.forEach(([I,V,K])=>y.addEventListener(I,V,K)),b=()=>B.forEach(([I,V])=>y.removeEventListener(I,V))}return b},p={ref:y=>{y!==null&&s((v,b)=>{if(v.el===y)return v;const O={};return v.el&&v.el!==y&&v.cleanUpTouch&&(v.cleanUpTouch(),O.cleanUpTouch=void 0),b.trackTouch&&y&&(O.cleanUpTouch=m(y,b)),Object.assign(Object.assign(Object.assign({},v),{el:y}),O)})}};return n.trackMouse&&(p.onMouseDown=l),[p,m]}function IC(s,n,l,r){return!n.trackTouch||!s.el?(s.cleanUpTouch&&s.cleanUpTouch(),Object.assign(Object.assign({},s),{cleanUpTouch:void 0})):s.cleanUpTouch?n.preventScrollOnSwipe!==l.preventScrollOnSwipe||n.touchEventOptions.passive!==l.touchEventOptions.passive?(s.cleanUpTouch(),Object.assign(Object.assign({},s),{cleanUpTouch:r(s.el,n)})):s:Object.assign(Object.assign({},s),{cleanUpTouch:r(s.el,n)})}function BC(s){const{trackMouse:n}=s,l=it.useRef(Object.assign({},nf)),r=it.useRef(Object.assign({},yl)),u=it.useRef(Object.assign({},r.current));u.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},yl),s);let f;for(f in yl)r.current[f]===void 0&&(r.current[f]=yl[f]);const[h,m]=it.useMemo(()=>LC(_=>l.current=_(l.current,r.current),{trackMouse:n}),[n]);return l.current=IC(l.current,r.current,u.current,m),h}function HC({orders:s,calculatedBalance:n,role:l,addItem:r,removeItem:u}){const[f,h]=it.useState("main"),m=Oi.filter(v=>!v.category||v.category!=="snack"),_=Oi.filter(v=>v.category==="snack"),p=BC({onSwipedLeft:()=>h("snacks"),onSwipedRight:()=>h("main")}),y=v=>D.jsxs("div",{className:"bg-ctp-surface1 p-3 rounded flex justify-between items-center hover:bg-ctp-surface2 transition-colors duration-200 border border-ctp-overlay0/20",children:[D.jsxs("div",{children:[D.jsxs("p",{className:"font-medium text-ctp-text flex items-center gap-2",children:[v.name.includes("Burger")&&"🍔 ",v.name.includes("Tacos")&&"🌮 ",v.name.includes("Chicken")&&"🐔 ",v.name.includes("Pork")&&"🐷 ",v.name.includes("Картофель")&&"🍟 ",v.name.includes("Крылья")&&"🍗 ",v.name.includes("Cheese")&&"🧀 ",v.name.includes("Соус")&&"🫙 ",v.name==='Соус "Ticket to Hell"'&&"🌶️ ",v.name.includes("Арахис")&&"🥜 ",v.name.includes("Чипсы")&&"🧂 ",v.name.includes("Попкорн")&&"🍿 ",v.name.includes("Яйцо")&&"🥚 ",v.name.includes("Джерки")&&"🥩 ",v.name.includes("Сыр")&&"🧀 ",v.name]}),D.jsxs("p",{className:"text-sm text-ctp-subtext0",children:[v.price," ₽"]})]}),l==="admin"?D.jsxs("div",{className:"flex items-center gap-2",children:[D.jsx("button",{onClick:()=>u(v.id),disabled:!s[v.id],className:"bg-ctp-mantle hover:bg-ctp-mantle/90 hover:text-ctp-rosewater text-ctp-text w-8 h-8 rounded flex items-center justify-center text-sm transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"−"}),D.jsx("span",{className:"w-6 text-center text-ctp-text font-medium",children:s[v.id]||0}),D.jsx("button",{onClick:()=>r(v.id),disabled:n<v.price,className:"bg-ctp-mantle hover:bg-ctp-mantle/90 hover:text-ctp-rosewater text-ctp-text w-8 h-8 rounded flex items-center justify-center text-sm transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"+"})]}):D.jsxs("span",{className:"text-ctp-subtext0 text-sm",children:["×",s[v.id]||0]})]},v.id);return D.jsxs(D.Fragment,{children:[D.jsx("h2",{className:"text-xl font-semibold mb-4 text-ctp-text",children:"Меню"}),D.jsxs("div",{className:"flex mb-4 border-b border-ctp-overlay0/30",children:[D.jsx("button",{onClick:()=>h("main"),className:`px-4 py-2 font-medium transition ${f==="main"?"text-ctp-blue border-b-2 border-ctp-blue":"text-ctp-subtext0 hover:text-ctp-text"}`,children:"Основное"}),D.jsx("button",{onClick:()=>h("snacks"),className:`px-4 py-2 font-medium transition ${f==="snacks"?"text-ctp-blue border-b-2 border-ctp-blue":"text-ctp-subtext0 hover:text-ctp-text"}`,children:"Закуски"})]}),D.jsx("div",{...p,className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6",children:(f==="main"?m:_).map(y)})]})}function jC({totalPromoSpent:s,totalItems:n,totalSpent:l,replenishments:r,role:u}){return D.jsxs("div",{className:"bg-ctp-surface0 p-4 rounded-lg mb-6 shadow border border-ctp-overlay0/20",children:[D.jsx("h2",{className:"text-lg font-semibold text-ctp-text mb-2",children:"Итого"}),D.jsxs("p",{className:"text-ctp-subtext0",children:["Позиций: ",n]}),D.jsxs("p",{className:"text-ctp-subtext0",children:["Потрачено: ",l.toLocaleString()," ₽"]}),u==="admin"&&D.jsxs("p",{className:"text-ctp-subtext0",children:["Пополнено: ",r.reduce((f,h)=>f+h,0).toLocaleString()," ₽"]}),u==="admin"&&D.jsxs("p",{className:"text-ctp-subtext0",children:["Подарки по промокодам: ",s.toLocaleString()," ₽"]})]})}function kC({role:s,exportData:n,importData:l,showNotification:r,syncToCloud:u,syncFromCloud:f}){const[h,m]=it.useState(""),_=()=>{if(!h.trim()){r("⚠️ Строка пуста","error");return}l(h),m("")};return s==="admin"?D.jsxs("div",{className:"mt-8 p-4 bg-ctp-surface0 rounded-lg border border-ctp-overlay0/20",children:[D.jsx("h3",{className:"text-lg font-semibold text-ctp-text mb-3",children:"🔐 Админ-панель"}),D.jsxs("div",{className:"mb-4",children:[D.jsx("button",{onClick:n,className:"bg-ctp-blue hover:bg-ctp-blue/90 text-ctp-base px-5 py-2 rounded font-medium transition",children:"🔐 Экспортировать данные"}),D.jsx("p",{className:"text-ctp-subtext0 text-xs mt-1",children:"Скопирует строку для передачи."})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-ctp-text text-sm font-medium mb-1",children:"📥 Восстановить:"}),D.jsxs("div",{className:"flex gap-2 flex-wrap",children:[D.jsx("input",{type:"text",placeholder:"Вставь строку сюда",value:h,onChange:p=>m(p.target.value),className:"bg-ctp-surface1 text-ctp-text px-3 py-2 rounded flex-1 min-w-0 border border-ctp-overlay0/30 focus:outline-none focus:ring-2 focus:ring-ctp-blue/50"}),D.jsx("button",{onClick:_,disabled:!h.trim(),className:"bg-ctp-mauve hover:bg-ctp-mauve/90 text-ctp-base px-4 py-2 rounded font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Восстановить"})]}),D.jsx("p",{className:"text-ctp-subtext0 text-xs mt-1",children:"Вставь строку от другого админа."})]}),D.jsxs("div",{className:"mt-4",children:[D.jsx("h4",{className:"text-sm font-medium text-ctp-text mb-2",children:"☁️ Облачная синхронизация"}),D.jsxs("div",{className:"flex gap-2 flex-wrap",children:[D.jsx("button",{onClick:()=>u(),className:"bg-ctp-blue hover:bg-ctp-blue/90 text-ctp-base px-4 py-2 rounded font-medium transition",children:"Сохранить в облако"}),D.jsx("button",{onClick:()=>f(),className:"bg-ctp-green hover:bg-ctp-green/90 text-ctp-base px-4 py-2 rounded font-medium transition",children:"Загрузить из облака"})]}),D.jsx("p",{className:"text-ctp-subtext0 text-xs mt-1",children:"Автоматически синхронизирует всех участников."})]})]}):D.jsxs("div",{className:"mt-8 p-4 bg-ctp-surface0 rounded-lg border border-ctp-overlay0/20",children:[D.jsx("h3",{className:"text-lg font-semibold text-ctp-text mb-3",children:"📥 Обновить данные"}),D.jsx("p",{className:"text-ctp-subtext0 text-sm mb-2",children:"Вставьте строку от именинника:"}),D.jsxs("div",{className:"flex gap-2 flex-wrap",children:[D.jsx("input",{type:"text",placeholder:"Строка данных",value:h,onChange:p=>m(p.target.value),className:"bg-ctp-surface1 text-ctp-text px-3 py-2 rounded flex-1 min-w-0 border border-ctp-overlay0/30 focus:outline-none focus:ring-2 focus:ring-ctp-blue/50"}),D.jsx("button",{onClick:_,disabled:!h.trim(),className:"bg-ctp-mauve hover:bg-ctp-mauve/90 text-ctp-base px-4 py-2 rounded font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Обновить"})]}),D.jsx("p",{className:"text-ctp-subtext0 text-xs mt-1",children:"Чтобы увидеть актуальный баланс."}),D.jsxs("div",{className:"mt-4",children:[D.jsx("h4",{className:"text-sm font-medium text-ctp-text mb-2",children:"☁️ Облачная синхронизация"}),D.jsx("div",{className:"flex gap-2 flex-wrap",children:D.jsx("button",{onClick:()=>f(),className:"bg-ctp-green hover:bg-ctp-green/90 text-ctp-base px-4 py-2 rounded font-medium transition",children:"Загрузить из облака"})}),D.jsx("p",{className:"text-ctp-subtext0 text-xs mt-1",children:"Автоматически синхронизирует всех участников."})]})]})}function qC({onReset:s,showNotification:n}){return D.jsx("div",{className:"text-center mt-6",children:D.jsx("button",{onClick:s,className:"bg-ctp-mantle hover:bg-ctp-mantle/90 hover:text-ctp-rosewater text-ctp-text px-6 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-lg border border-ctp-overlay0/30",children:"🗑️ Сбросить всё"})})}function GC(){return D.jsx("footer",{className:"text-center mt-8 text-sm text-ctp-overlay1",children:"Все данные сохраняются локально."})}const YC=({isOpen:s,onClose:n,onConfirm:l})=>s?D.jsx("div",{className:"fixed inset-0 bg-ctp-crust flex items-center justify-center z-50 p-4",children:D.jsxs("div",{className:"bg-ctp-surface0 p-6 rounded-lg max-w-sm w-full border border-ctp-overlay0/30 shadow-2xl",children:[D.jsx("h3",{className:"text-lg font-semibold text-ctp-text mb-4",children:"Подтвердите сброс"}),D.jsx("p",{className:"text-ctp-subtext0 mb-6",children:"Вы уверены? Это действие нельзя отменить."}),D.jsxs("div",{className:"flex gap-3 justify-end",children:[D.jsx("button",{onClick:n,className:"bg-ctp-overlay1 hover:bg-ctp-overlay1/80 text-ctp-text px-4 py-1.5 rounded text-sm transition",children:"Отмена"}),D.jsx("button",{onClick:l,className:"bg-ctp-red hover:bg-ctp-red/90 text-ctp-base px-4 py-1.5 rounded text-sm font-medium transition-all duration-200",children:"Да, сбросить"})]})]})}):null,VC=({applyPromo:s,promos:n,showNotification:l})=>{const[r,u]=it.useState(""),f=h=>{h.preventDefault();const m=r.trim().toUpperCase();if(!m){l("⚠️ Введите промокод","error");return}if(s(m)){const y=n.find(v=>v.code===m)?.benefit.description||"Приз активирован!";l(`🎉 ${y}`,"success"),u("")}else l("❌ Промокод не найден или уже использован","error")};return D.jsxs("div",{className:"mt-6 p-4 bg-ctp-surface0 rounded-lg border border-ctp-overlay0/20",children:[D.jsx("h3",{className:"text-lg font-semibold text-ctp-text mb-3",children:"🎟️ У вас есть промокод?"}),D.jsxs("form",{onSubmit:f,className:"flex gap-2 flex-wrap",children:[D.jsx("input",{type:"text",placeholder:"Введите промокод",value:r,onChange:h=>u(h.target.value),className:"bg-ctp-surface1 text-ctp-text px-3 py-2 rounded flex-1 min-w-0 border border-ctp-overlay0/30 focus:outline-none focus:ring-2 focus:ring-ctp-peach/50"}),D.jsx("button",{type:"submit",disabled:!r.trim(),className:"bg-ctp-peach hover:bg-ctp-peach/90 text-ctp-base px-4 py-2 rounded font-medium transition disabled:opacity-50",children:"Активировать"})]}),D.jsx("p",{className:"text-ctp-subtext0 text-xs mt-1",children:"Промокод должен быть выдан именинником."})]})},QC=yn.memo(VC),XC=({promos:s,getRandomPromo:n,issuePromo:l,showNotification:r})=>{const[u,f]=it.useState(null),h=()=>{const _=n();if(!_){r("❌ Нет доступных промокодов","error");return}const p=l(_.id);p&&(f(p),r(`🎉 Выдан: ${p.code} — ${p.benefit.description}`))},m=_=>{const p=l(_);p?r(`✅ Выдан: ${p.code} — ${p.benefit.description}`):r("❌ Промокод уже использован","error")};return D.jsxs("div",{className:"mt-6 p-4 bg-ctp-surface0 rounded-lg border border-ctp-overlay0/20",children:[D.jsx("h3",{className:"text-lg font-semibold text-ctp-text mb-3",children:"🎟️ Промокоды"}),D.jsx("button",{onClick:h,disabled:s.filter(_=>!_.used).length===0,className:"mb-4 bg-ctp-peach hover:bg-ctp-peach/90 text-ctp-base px-5 py-2 rounded font-medium transition disabled:opacity-50",children:"🎲 Выдать случайный"}),u&&D.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(u.code).then(()=>r(`✅ Промокод "${u.code}" скопирован!`,"success"),()=>r("❌ Не удалось скопировать","error"))},className:"mb-4 p-3 bg-ctp-yellow/20 border border-ctp-yellow/50 rounded text-ctp-yellow text-sm text-left w-full hover:bg-ctp-yellow/30 transition cursor-pointer","aria-label":`Скопировать промокод ${u.code}`,children:["Выдан: ",D.jsx("strong",{children:u.code})," — ",u.benefit.description]}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("h4",{className:"text-sm font-medium text-ctp-subtext0",children:"Все промокоды:"}),s.map(_=>D.jsxs("div",{className:`p-2 rounded flex justify-between items-center text-sm ${_.used?"bg-ctp-surface1 text-ctp-subtext0 line-through":"bg-ctp-surface2 text-ctp-text"}`,children:[D.jsxs("span",{children:[D.jsx("strong",{children:_.code})," — ",_.benefit.description]}),!_.used&&D.jsx("button",{onClick:()=>m(_.id),className:"text-ctp-red hover:text-ctp-red/80 text-xs",children:"Выдать"})]},_.id))]})]})},KC=yn.memo(XC),ZC=({hasAttempt:s,tryLuck:n,showNotification:l})=>{const r=()=>{const{isAttemptUsed:m}=Pn.getState();if(!["first","second","third"].some(y=>s(y)&&!m(y))){l("❌ Нет активных попыток. Дождитесь, пока именинник разблокирует!","error");return}n()?(l("🎉 ПОЗДРАВЛЯЕМ! Ты выиграл пиво! 🍺","success"),document.body.classList.add("pulse-active"),setTimeout(()=>{document.body.classList.remove("pulse-active")},15e3)):l("😔 Не повезло... Попробуй ещё!","error")},{isAttemptUsed:u}=Pn.getState(),f=[{key:"first",active:s("first")},{key:"second",active:s("second")},{key:"third",active:s("third")}].filter(m=>m.active&&!u(m.key)).length;let h="";return f===0?h="нет активных попыток":f===1?h="1 активная попытка":h=`${f} активные попытки`,D.jsxs("div",{className:"mt-6 p-4 bg-ctp-surface0 rounded-lg border border-ctp-overlay0/20",children:[D.jsx("h3",{className:"text-lg font-semibold text-ctp-text mb-3",children:"🍀 Испытай удачу!"}),D.jsxs("p",{className:"text-ctp-subtext0 text-sm mb-3",children:["У тебя ",h,". Шанс выиграть пиво — 5%."]}),D.jsx("button",{onClick:r,disabled:f===0,className:"bg-ctp-green hover:bg-ctp-green/90 text-ctp-base px-5 py-2 rounded font-medium transition disabled:opacity-50",children:"🎲 Попытать счастье"})]})},FC=yn.memo(ZC),PC=({unlockAttempt:s,attempts:n,showNotification:l})=>{const r=(u,f)=>{if(n[u]){l(`⚠️ ${f} попытка уже разблокирована`,"error");return}s(u),l(`✅ Разблокирована ${f} попытка для всех гостей!`,"success")};return D.jsxs("div",{className:"mt-6 p-4 bg-ctp-surface0 rounded-lg border border-ctp-overlay0/20",children:[D.jsx("h3",{className:"text-lg font-semibold text-ctp-text mb-3",children:"🍀 Разблокировать попытки"}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("button",{onClick:()=>r("first","первая"),disabled:n.first,className:"w-full text-left px-4 py-2 bg-ctp-surface1 hover:bg-ctp-surface2 rounded text-ctp-text disabled:opacity-50",children:n.first?"✅ Первая попытка активна":"🔓 Разблокировать первую попытку"}),D.jsx("button",{onClick:()=>r("second","вторая"),disabled:n.second,className:"w-full text-left px-4 py-2 bg-ctp-surface1 hover:bg-ctp-surface2 rounded text-ctp-text disabled:opacity-50",children:n.second?"✅ Вторая попытка активна":"🔓 Разблокировать вторую попытку"}),D.jsx("button",{onClick:()=>r("third","третья"),disabled:n.third,className:"w-full text-left px-4 py-2 bg-ctp-surface1 hover:bg-ctp-surface2 rounded text-ctp-text disabled:opacity-50",children:n.third?"✅ Третья попытка активна":"🔓 Разблокировать третью попытку"})]}),D.jsx("p",{className:"text-ctp-subtext0 text-xs mt-2",children:"После разблокировки — отправьте новую строку синхронизации гостям."})]})},JC=yn.memo(PC);function WC(){const{orders:s,beers:n,replenishments:l,promos:r,promoTransactions:u,attempts:f,unlockAttempt:h,hasAttempt:m,tryLuck:_,getRandomPromo:p,syncFromCloud:y,syncToCloud:v,applyPromo:b,addReplenishment:O,issuePromo:B,addBeer:I,removeBeer:V,addItem:K,removeItem:X,getTotalSpent:ee,getCalculatedBalance:Te,getTotalPromoSpent:ne,getBeersByPrice:qe,reset:Ge}=Pn(),[_e,Ke]=it.useState(null),[qt,Ze]=it.useState(!1),[Ie,mt]=it.useState({show:!1,message:"",type:"success"});it.useEffect(()=>{const j=localStorage.getItem("userRole");(j==="admin"||j==="guest")&&Ke(j)},[]),it.useEffect(()=>{if(_e==="guest"){const{startListeningToCloud:j,syncFromCloud:H,showNotification:q}=Pn.getState(),te=j(()=>{H(),q("🔔 Данные обновлены администратором!","success")});return()=>{te()}}},[_e]),it.useEffect(()=>{Pn.setState({showNotification:(j,H="success")=>{mt({show:!1,message:"",type:H}),setTimeout(()=>{mt({show:!0,message:j,type:H}),setTimeout(()=>{mt(q=>({...q,show:!1}))},3e3)},10)}})},[]);const Me=(j,H="success")=>{mt({show:!1,message:"",type:H}),setTimeout(()=>{mt({show:!0,message:j,type:H}),setTimeout(()=>{mt(q=>({...q,show:!1}))},3e3)},10)},Fe=j=>{Ke(j),localStorage.setItem("userRole",j)},w=()=>{localStorage.removeItem("userRole"),localStorage.removeItem("deposit-storage"),Ke(null),Ge()};if(_e===null)return D.jsx(SC,{onLogin:Fe});const G=n.length,Z=Object.values(s).reduce((j,H)=>j+H,0)+G,me=Te(),E=()=>{const H=JSON.stringify({orders:s,beers:n,replenishments:l,promos:r,promoTransactions:u,attempts:f}),q=btoa(unescape(encodeURIComponent(H)));navigator.clipboard.writeText(q).then(()=>Me("✅ Данные скопированы!"),()=>Me("❌ Не удалось скопировать.","error"))},L=j=>{if(!j.trim()){Me("⚠️ Строка пуста","error");return}try{const H=decodeURIComponent(escape(atob(j.trim()))),q=JSON.parse(H);if(Ge(),Array.isArray(q.replenishments)&&q.replenishments.forEach(te=>O(te)),q.orders&&typeof q.orders=="object"&&Object.entries(q.orders).forEach(([te,F])=>{const Pe=F;for(let ge=0;ge<Pe;ge++)K(te)}),Array.isArray(q.beers)&&q.beers.forEach(te=>I(te)),Array.isArray(q.promos)){const te=kf.map(F=>({...F}));q.promos.forEach(F=>{const Pe=te.find(ge=>ge.id===F.id);Pe&&(Pe.used=F.used)}),Pn.setState({promos:te})}Array.isArray(q.promoTransactions)&&Pn.setState({promoTransactions:[...q.promoTransactions]}),q.attempts&&Pn.setState({attempts:{first:!!q.attempts.first,second:!!q.attempts.second,third:!!q.attempts.third}}),Me("🎉 Данные обновлены!")}catch{Me("❌ Ошибка: неверный формат данных.","error")}};return D.jsxs("div",{className:"min-h-screen bg-ctp-base text-ctp-text px-4 py-6 max-w-2xl mx-auto",children:[D.jsx(EC,{...Ie}),D.jsx(TC,{role:_e,onLogout:w}),D.jsx(CC,{balance:me}),_e==="admin"&&D.jsx(xC,{onReplenish:O,showNotification:Me}),D.jsx(AC,{beers:n,getBeersByPrice:qe,addBeer:I,removeBeer:V,calculatedBalance:me,role:_e,showNotification:Me}),D.jsx(HC,{orders:s,calculatedBalance:me,role:_e,addItem:K,removeItem:X}),D.jsx(jC,{totalPromoSpent:ne(),totalItems:Z,totalSpent:ee(),replenishments:l,role:_e}),_e==="guest"&&D.jsx(QC,{promos:r,applyPromo:b,showNotification:Me}),_e==="admin"&&D.jsx(KC,{issuePromo:B,promos:r,getRandomPromo:p,showNotification:Me}),_e==="guest"&&D.jsx(FC,{hasAttempt:m,tryLuck:_,showNotification:Me}),_e==="admin"&&D.jsx(JC,{unlockAttempt:h,attempts:f,showNotification:Me}),D.jsx(kC,{role:_e,exportData:E,importData:L,showNotification:Me,syncToCloud:v,syncFromCloud:y}),_e==="admin"&&D.jsxs(D.Fragment,{children:[D.jsx(qC,{onReset:()=>Ze(!0),showNotification:Me}),D.jsx(YC,{isOpen:qt,onClose:()=>Ze(!1),onConfirm:()=>{Ge(),Ze(!1),Me("💥 Данные сброшены")}})]}),D.jsx(GC,{})]})}W0.createRoot(document.getElementById("root")).render(D.jsx(yn.StrictMode,{children:D.jsx(WC,{})}));
